import{Aa as Si,Cb as Ni,Da as Ei,Db as mt,Ea as lt,Eb as ht,Fa as Ai,Ga as ki,H as It,Hb as _e,I as vi,Ja as Mi,Ka as Vt,M as Pi,O as Rt,Pa as qt,Q as _i,Ra as xi,S as Pe,Sa as ct,T as at,Ta as Di,Ua as Li,Va as Ti,Wa as Nt,X as Ot,Xa as Me,Y as We,Z as bi,Za as Bt,_ as Ae,_a as Ue,a as qe,ab as Fi,b as rt,bb as Ii,c as me,d as Ne,fb as Ri,g as Tt,gb as Oi,h as st,i as hi,j as U,k as q,kb as pt,l as gi,m as fi,n as yi,nb as dt,ob as je,qa as zt,ra as ke,rb as ut,ta as Ci,tb as zi,ub as Vi,vb as qi,y as Be,ya as wi,z as Ft}from"./chunk-K2OBELIH.js";import{$a as x,Aa as it,Ab as Ve,Ba as $,Bc as Se,Cb as ci,Cc as ye,Db as pi,Dc as re,Eb as di,Ec as Ee,Fc as ve,G as Z,Ga as b,Ha as Te,I as H,Ia as Fe,Ib as nt,Ja as Ie,K as oi,Ka as a,L as Q,La as l,M as I,Ma as _,Nb as ui,O as ni,Oc as G,P as h,Pa as Re,Pc as Dt,Q as Ct,Qa as C,Ra as w,Rb as B,Sa as u,Sc as le,T as g,Ta as Et,U as f,Ua as At,Ub as fe,Uc as se,Vc as Lt,Wa as ot,Wc as ce,Ya as kt,Yb as te,Z as T,Za as D,_ as ri,_a as M,a as m,aa as tt,ab as K,b as ne,bb as v,cb as V,db as S,f as Xe,fa as ge,fb as E,g as ei,gb as A,hb as k,ia as r,ib as we,j as Y,ja as W,jb as si,k as ti,ka as wt,kb as ai,l as z,m as Ze,o as ue,oa as St,pa as F,q as bt,qa as R,qb as Mt,ra as J,sb as xt,t as ii,ta as ee,ua as Le,v as et,va as P,vb as Oe,vc as mi,wb as ze,xb as li,za as d}from"./chunk-TT2MSOYL.js";var Eo=["emailForm"],Ao=["recoveryModal"],ko=["smsCodeForm"];function Mo(o,p){if(o&1){let e=C();a(0,"div")(1,"po-radio-group",18),k("ngModelChange",function(t){g(e);let n=u(2);return A(n.chosenTypeFormOption,t)||(n.chosenTypeFormOption=t),f(t)}),w("p-change",function(t){g(e);let n=u(2);return f(n.getInputType(t))}),l()()}if(o&2){let e=u(2);r(),E("ngModel",e.chosenTypeFormOption),d("p-options",e.typeFormOptions)("p-size",e.componentsSize)}}function xo(o,p){if(o&1){let e=C();a(0,"po-email",19),k("ngModelChange",function(t){g(e);let n=u(2);return A(n.email,t)||(n.email=t),f(t)}),w("p-change-model",function(){g(e),u();let t=K(5),n=u();return f(n.formModelChangesCheck(t))}),l()}if(o&2){let e=u(2);E("ngModel",e.email),d("p-label",e.literals.insertEmail)("p-size",e.componentsSize)}}function Do(o,p){if(o&1){let e=C();a(0,"po-input",20),k("ngModelChange",function(t){g(e);let n=u(2);return A(n.phone,t)||(n.phone=t),f(t)}),w("p-change-model",function(){g(e),u();let t=K(5),n=u();return f(n.formModelChangesCheck(t))}),l()}if(o&2){let e=u(2);E("ngModel",e.phone),d("p-label",e.literals.insertPhone)("p-mask",e.phoneMask)("p-maxlength",e.maxLength)("p-minlength",e.minLength)("p-size",e.componentsSize)}}function Lo(o,p){if(o&1&&_(0,"po-modal-password-recovery-error-message",21),o&2){let e=u(2);d("p-text",e.type==="sms"?e.literals.phoneErrorMessagePhrase:e.literals.emailErrorMessagePhrase)}}function To(o,p){if(o&1&&(a(0,"span"),v(1),a(2,"a",22),v(3),l()()),o&2){let e=u(2);r(),S(" ",e.literals.prepositionIn," "),r(),ot("href","mailto:",e.contactEmail,"",ge),r(),S(" ",e.contactEmail," ")}}function Fo(o,p){if(o&1&&(a(0,"div",8)(1,"div",9),v(2),l(),a(3,"div",10)(4,"form",null,1),P(6,Mo,2,3,"div",11),a(7,"div",12),P(8,xo,1,3,"po-email",13)(9,Do,1,6,"po-input",14),l(),a(10,"div",15),P(11,Lo,1,1,"po-modal-password-recovery-error-message",16),l()()(),a(12,"div",17),v(13),P(14,To,4,4,"span",11),v(15),l()()),o&2){let e=u();r(2),S(" ",e.emailModalPhrases.firstPhrase," "),r(4),d("ngIf",e.modalPasswordRecoveryTypeAll),r(2),d("ngIf",e.type==="email"||e.type==="all"),r(),d("ngIf",e.type==="sms"),r(2),d("ngIf",e.invalidEmail&&e.control.dirty),r(2),S(" ",e.emailModalPhrases.secondPhrase," "),r(),d("ngIf",e.contactEmail),r(),S(" ",e.endpoint," ")}}function Io(o,p){if(o&1&&_(0,"po-modal-password-recovery-error-message",21),o&2){let e=u(2);d("p-text",e.smsCodeErrorMessage||e.literals.smsCodeErrorMessagePhrase)}}function Ro(o,p){if(o&1&&_(0,"po-modal-password-recovery-error-message",21),o&2){let e=u(2);d("p-text",e.codeError)}}function Oo(o,p){if(o&1){let e=C();a(0,"div",8,2)(2,"div",9),v(3),l(),a(4,"div",10)(5,"form",null,3)(7,"po-input",23),k("ngModelChange",function(t){g(e);let n=u();return A(n.smsCode,t)||(n.smsCode=t),f(t)}),w("p-change-model",function(){g(e);let t=K(6),n=u();return f(n.formModelChangesCheck(t))}),l(),a(8,"div",15),P(9,Io,1,1,"po-modal-password-recovery-error-message",16)(10,Ro,1,1,"po-modal-password-recovery-error-message",16),l()()(),a(11,"div",17),v(12),a(13,"span",24),w("click",function(){g(e);let t=u();return f(t.resendSmsCode())}),v(14),l()()()}if(o&2){let e=u();r(3),V(e.literals.sentSmsCodePhrase),r(4),E("ngModel",e.smsCode),d("p-label",e.literals.insertCode)("p-mask",e.codeMask)("p-size",e.componentsSize),r(2),d("ngIf",e.invalidEmail),r(),d("ngIf",e.showCustomCodeError),r(2),S(" ",e.literals.sendAgainPhrase," "),r(2),V(e.literals.sendAgain)}}function zo(o,p){if(o&1&&(a(0,"div",8,4),_(2,"img",25),a(3,"div",26),v(4),l()()),o&2){let e=u();r(4),S(" ",e.literals.emailSentConfirmationPhrase," ")}}var ho=["*"];function Vo(o,p){if(o&1&&_(0,"po-logo",3),o&2){let e=u();d("p-link",!1)("p-logo",e.logo)("p-logo-alt",e.logoAlt)}}function qo(o,p){if(o&1){let e=C();a(0,"div",9)(1,"po-select",13),k("ngModelChange",function(t){g(e);let n=u();return A(n.selectedLanguageOption,t)||(n.selectedLanguageOption=t),f(t)}),w("p-change",function(){g(e);let t=u();return f(t.onChangeLanguage())}),l()()}if(o&2){let e=u();r(),E("ngModel",e.selectedLanguageOption),d("p-options",e.selectLanguageOptions)("p-size",e.componentsSize)}}function No(o,p){if(o&1&&_(0,"po-logo",11),o&2){let e=u();d("p-link",!1)("p-logo",e.secondaryLogo)}}function Bo(o,p){if(o&1&&(a(0,"div",14)(1,"div",15)(2,"div",16),v(3),l()()()),o&2){let e=u();it("background-image","url("+e.background+")"),d("ngClass",e.background?"po-page-login-highlight-image":"po-page-login-highlight-image-off"),r(3),V(e.highlightInfo)}}var Wo=["contactGroup"],Uo=["mailItem"],jo=["phoneItem"];function Ho(o,p){if(o&1&&(a(0,"div",6),v(1),l()),o&2){let e=u();r(),V(e.literals==null?null:e.literals.thirdPhrase)}}var Jo=["pageChangePassword"],Qo=["passwordForm"],$o=o=>({"po-offset-md-3 po-offset-lg-3 po-offset-xl-3":o});function Ko(o,p){if(o&1){let e=C();a(0,"div")(1,"po-password",29),k("ngModelChange",function(t){g(e);let n=u();return A(n.currentPassword,t)||(n.currentPassword=t),f(t)}),l()()}if(o&2){let e=u();r(),E("ngModel",e.currentPassword),d("p-label",e.literals.currentPassword)("p-no-autocomplete",e.noAutocompletePassword)("p-size",e.componentsSize)}}function Go(o,p){if(o&1&&(a(0,"a",30),v(1),l()),o&2){let e=u(2);d("routerLink",e.recovery),r(),S(" ",e.literals.forgotPassword," ")}}function Yo(o,p){if(o&1&&(a(0,"a",31),v(1),l()),o&2){let e=u(2);d("href",e.recovery,ge),r(),S(" ",e.literals.forgotPassword," ")}}function Xo(o,p){if(o&1){let e=C();a(0,"a",33),w("click",function(){g(e);let t=u(2);return f(t.onForgotPasswordClick(t.recovery))}),v(1),l()}if(o&2){let e=u(2);r(),S(" ",e.literals.forgotPassword," ")}}function Zo(o,p){if(o&1&&(a(0,"div",10),P(1,Go,2,2,"a",30)(2,Yo,2,2,"a",31)(3,Xo,2,1,"a",32),l()),o&2){let e=u();r(),b(e.recoveryUrlType==="internalLink"?1:-1),r(),b(e.recoveryUrlType==="externalLink"?2:-1),r(),b(e.recoveryUrlType?-1:3)}}function en(o,p){if(o&1&&(a(0,"li",35),_(1,"po-icon",37),a(2,"p",38),v(3),l()()),o&2){let e=p.$implicit,i=u(2);r(),d("p-icon",i.validateRequirement(e)?"ICON_OK po-page-change-password-required-ok":"ICON_MINUS po-page-change-password-required-minus"),r(2),S(" ",e.requirement," ")}}function tn(o,p){if(o&1&&(a(0,"div",13)(1,"po-container")(2,"ul",34)(3,"li",35)(4,"p",36),v(5),l()(),Fe(6,en,4,2,"li",35,Te),l()()()),o&2){let e=u();r(5),S(" ",e.literals==null?null:e.literals.requirements," "),r(),Ie(e.requirements)}}function on(o,p){if(o&1){let e=C();a(0,"po-button",39),w("p-click",function(){g(e);let t=u();return f(t.navigateTo(t.urlBack))}),l()}if(o&2){let e=u();d("p-label",e.literals.backButton)("p-size",e.componentsSize)}}function nn(o,p){if(o&1&&_(0,"po-dynamic-view",1),o&2){let e=u();d("p-fields",e.fields)("p-value",e.model)}}function rn(o,p){if(o&1&&(a(0,"po-widget"),_(1,"po-icon",2),a(2,"span",3),v(3),l()()),o&2){let e=u();r(3),S(" ",e.literals.registerNotFound," ")}}var sn=["dynamicForm"],an=["gridDetail"];function ln(o,p){if(o&1){let e=C();a(0,"div",4),_(1,"po-divider",5),a(2,"div",6)(3,"po-button",7),w("p-click",function(){g(e);let t=u(2);return f(t.detailActionNew())}),l()(),_(4,"po-grid",8,1),l()}if(o&2){let e=u(2);r(),d("p-label",e.detailFields[0].divider),r(2),d("p-size",e.componentsSize)("p-label",e.literals.detailActionNew),r(),d("p-row-actions",e.detailActions)("p-columns",e.detailFields[0].detail.columns)("p-data",e.model[e.detailFields[0].property])}}function cn(o,p){if(o&1&&(_(0,"po-dynamic-form",3,0),P(2,ln,6,6,"div",4)),o&2){let e=u();d("p-components-size",e.componentsSize)("p-fields",e.controlFields)("p-value",e.model),r(2),b(e.detailFields.length>0?2:-1)}}function pn(o,p){if(o&1&&(a(0,"po-widget"),_(1,"po-icon",9),a(2,"span",10),v(3),l()()),o&2){let e=u();r(3),S(" ",e.literals.registerNotFound," ")}}var dn=["formExecution"],un=["dailyTemplate"],mn=["monthlyTemplate"],hn=["weeklyTemplate"];function gn(o,p){if(o&1){let e=C();a(0,"po-lookup",12),k("ngModelChange",function(t){g(e);let n=u(2);return A(n.value.processID,t)||(n.value.processID=t),f(t)}),l()}if(o&2){let e=u(2);E("ngModel",e.value.processID),d("p-disabled",e.isEdit)("p-filter-service",e.poPageJobSchedulerLookup)("p-label",e.literals.process)("p-placeholder",e.literals.enterProcess)("p-size",e.componentsSize)}}function fn(o,p){if(o&1&&P(0,gn,1,6,"po-lookup",11),o&2){let e=u();b(e.noParameters&&e.noCustomParamsComponent?0:-1)}}function yn(o,p){if(o&1){let e=C();a(0,"po-input",13),k("ngModelChange",function(t){g(e);let n=u();return A(n.value.processID,t)||(n.value.processID=t),f(t)}),l()}if(o&2){let e=u();E("ngModel",e.value.processID),d("p-disabled",e.isEdit)("p-label",e.literals.process)("p-placeholder",e.literals.enterProcess)("p-size",e.componentsSize)}}function vn(o,p){if(o&1){let e=C();a(0,"po-radio-group",17),k("ngModelChange",function(t){g(e);let n=u(2);return A(n.value.frequency.type,t)||(n.value.frequency.type=t),f(t)}),w("p-change",function(){g(e);let t=u(2);return f(t.onChangeFrequencyOptions())}),l(),a(1,"po-number",18),k("ngModelChange",function(t){g(e);let n=u(2);return A(n.value.frequency.value,t)||(n.value.frequency.value=t),f(t)}),l()}if(o&2){let e=u(2);E("ngModel",e.value.frequency.type),d("p-columns",3)("p-options",e.frequencyOptions)("p-size",e.componentsSize),r(),d("p-size",e.componentsSize),E("ngModel",e.value.frequency.value)}}function Pn(o,p){o&1&&Re(0)}function _n(o,p){if(o&1){let e=C();a(0,"div",5)(1,"po-switch",14),k("ngModelChange",function(t){g(e);let n=u();return A(n.containsFrequency,t)||(n.containsFrequency=t),f(t)}),w("p-change",function(t){g(e);let n=u();return f(n.onChangeContainsFrequency(t))}),l(),P(2,vn,2,6),l(),a(3,"div",5),_(4,"po-divider",7),P(5,Pn,1,0,"ng-container",15),l(),a(6,"div",5)(7,"po-switch",16),k("ngModelChange",function(t){g(e);let n=u();return A(n.value.recurrent,t)||(n.value.recurrent=t),f(t)}),l()()}if(o&2){let e=u();r(),E("ngModel",e.containsFrequency),d("p-label",e.literals.frequency)("p-label-off",e.literals.no)("p-label-on",e.literals.yes)("p-size",e.componentsSize),r(),b(e.containsFrequency?2:-1),r(2),d("p-label",e.literals.periodicityData),r(),d("ngTemplateOutlet",e.periodicityTemplates[e.value.periodicity]),r(2),E("ngModel",e.value.recurrent),d("p-label",e.literals.recurrent)("p-label-off",e.literals.no)("p-label-on",e.literals.yes)("p-size",e.componentsSize)}}function bn(o,p){o&1&&Re(0)}function Cn(o,p){if(o&1&&P(0,bn,1,0,"ng-container",15),o&2){u();let e=K(20);d("ngTemplateOutlet",e)}}function wn(o,p){o&1&&Re(0)}function Sn(o,p){if(o&1){let e=C();a(0,"div",5),P(1,wn,1,0,"ng-container",15),l(),a(2,"po-checkbox-group",19),k("ngModelChange",function(t){g(e);let n=u();return A(n.value.daysOfWeek,t)||(n.value.daysOfWeek=t),f(t)}),l()}if(o&2){let e=u(),i=K(20);r(),d("ngTemplateOutlet",i),r(),E("ngModel",e.value.daysOfWeek),d("p-label",e.literals.weekDays)("p-options",e.weekDays)("p-size",e.componentsSize)}}function En(o,p){if(o&1){let e=C();a(0,"po-number",22),k("ngModelChange",function(t){g(e);let n=u(2);return A(n.value.rangeLimitDay,t)||(n.value.rangeLimitDay=t),f(t)}),l()}if(o&2){let e=u(2);E("ngModel",e.value.rangeLimitDay),d("p-error-pattern","Dia inv\xE1lido")("p-label",e.literals.endDay)("p-max",31)("p-pattern",e.dayPattern)("p-size",e.componentsSize)}}function An(o,p){o&1&&Re(0)}function kn(o,p){if(o&1){let e=C();a(0,"po-number",20),k("ngModelChange",function(t){g(e);let n=u();return A(n.value.dayOfMonth,t)||(n.value.dayOfMonth=t),f(t)}),l(),P(1,En,1,6,"po-number",21)(2,An,1,0,"ng-container",15)}if(o&2){let e=u(),i=K(20);E("ngModel",e.value.dayOfMonth),d("p-error-pattern","Dia inv\xE1lido")("p-label",e.dayLabel)("p-max",31)("p-pattern",e.dayPattern)("p-size",e.componentsSize),r(),b(e.containsFrequency?1:-1),r(),d("ngTemplateOutlet",i)}}function Mn(o,p){if(o&1){let e=C();a(0,"po-input",25),k("ngModelChange",function(t){g(e);let n=u(2);return A(n.value.rangeLimitHour,t)||(n.value.rangeLimitHour=t),f(t)}),l()}if(o&2){let e=u(2);E("ngModel",e.value.rangeLimitHour),d("p-label",e.literals.endTime)("p-pattern",e.timePattern)("p-size",e.componentsSize)}}function xn(o,p){if(o&1){let e=C();a(0,"po-input",23),k("ngModelChange",function(t){g(e);let n=u();return A(n.value.hour,t)||(n.value.hour=t),f(t)}),l(),P(1,Mn,1,4,"po-input",24)}if(o&2){let e=u();E("ngModel",e.value.hour),d("p-label",e.hourLabel)("p-pattern",e.timePattern)("p-size",e.componentsSize),r(),b(e.containsFrequency&&e.value.frequency.type!=="day"?1:-1)}}var Dn=["parametersForm"];function Ln(o,p){if(o&1&&(a(0,"form",null,0),_(2,"po-dynamic-form",2),l()),o&2){let e=u();r(2),d("p-components-size",e.componentsSize)("p-fields",e.parameters)("p-value",e.value)}}function Tn(o,p){if(o&1&&(a(0,"div",1),_(1,"po-icon",3),a(2,"span",4),v(3),l()()),o&2){let e=u();r(3),S(" ",e.literals.parametersNotFound," ")}}function Fn(o,p){if(o&1&&_(0,"po-info",1),o&2){let e=u();d("p-label",e.literals.process)("p-orientation",e.infoOrientation)("p-value",e.value.processID)}}function In(o,p){if(o&1&&_(0,"po-info",1),o&2){let e=u();d("p-label",e.literals.frequency)("p-orientation",e.infoOrientation)("p-value",e.frequencyValue)}}function Rn(o,p){if(o&1&&_(0,"po-info",1),o&2){let e=u();d("p-label",e.literals.execution)("p-orientation",e.infoOrientation)("p-value",e.executionValue)}}function On(o,p){if(o&1&&(a(0,"po-widget",2),_(1,"po-dynamic-view",4),l()),o&2){let e=u();d("p-title",e.literals.parameters),r(),d("p-fields",e.parameters)("p-value",e.value.executionParameter)}}function zn(o,p){}function Vn(o,p){if(o&1&&(a(0,"div",3),P(1,zn,0,0,"ng-template",5),l()),o&2){let e=u();r(),d("ngTemplateOutlet",e.jobSchedulerSummaryTemplate==null?null:e.jobSchedulerSummaryTemplate.templateRef)}}var qn=["schedulerExecution"],Nn=["schedulerParameters"],Bn=()=>[];function Wn(o,p){if(o&1){let e=C();a(0,"po-page-job-scheduler-parameters",11,2),k("p-valueChange",function(t){g(e);let n=u();return A(n.model.executionParameter,t)||(n.model.executionParameter=t),f(t)}),l()}if(o&2){let e=u();d("hidden",e.step!==e.stepParameters)("p-components-size",e.componentsSize)("p-literals",e.literals)("p-parameters",e.parameters||si(5,Bn)),E("p-value",e.model.executionParameter)}}function Un(o,p){if(o&1&&_(0,"po-page-job-scheduler-summary",9),o&2){let e=u();d("p-no-parameters",!e.parameters.length)("p-summary-template",e.jobSchedulerSummaryTemplate)("p-components-size",e.componentsSize)("p-literals",e.literals)("p-parameters",e.parameters)("p-value",e.publicValues)}}function jn(o,p){}function Hn(o,p){if(o&1&&(a(0,"div",10),P(1,jn,0,0,"ng-template",12),l()),o&2){let e=p.$implicit,i=p.$index,t=u();d("hidden",t.step!==i+(t._stepExecutionLast?1:2)),r(),d("ngTemplateOutlet",e==null?null:e.templateRef)}}function Jn(o,p){if(o&1&&(a(0,"a",8),v(1),l()),o&2){let e=u(2);d("routerLink",e.recovery),r(),S(" ",e.literals==null?null:e.literals.iForgotMyPassword," ")}}function Qn(o,p){if(o&1&&(a(0,"a",9),v(1),l()),o&2){let e=u(2);d("href",e.recovery,ge),r(),S(" ",e.literals==null?null:e.literals.iForgotMyPassword," ")}}function $n(o,p){if(o&1){let e=C();a(0,"a",11),w("click",function(){g(e);let t=u(2);return f(t.onForgotPasswordClick(t.recovery))}),v(1),l()}if(o&2){let e=u(2);r(),S(" ",e.literals==null?null:e.literals.iForgotMyPassword," ")}}function Kn(o,p){if(o&1&&(a(0,"div",7),P(1,Jn,2,2,"a",8)(2,Qn,2,2,"a",9)(3,$n,2,1,"a",10),l()),o&2){let e=u();r(),b(e.recoveryType==="internalLink"?1:-1),r(),b(e.recoveryType==="externalLink"?2:-1),r(),b(e.recoveryType?-1:3)}}var Gn=["loginForm"],Yn=["pageLogin"];function Xn(o,p){if(o&1&&_(0,"po-tag",8),o&2){let e=u();d("p-value",e.environment)}}function Zn(o,p){if(o&1&&_(0,"po-icon",28),o&2){let e=u(2);d("p-tooltip",e.pageLoginLiterals.loginHint)}}function er(o,p){if(o&1&&(a(0,"div",27),P(1,Zn,1,1,"po-icon",28),l()),o&2){let e=u();$("po-page-login-info-icon-container-dynamic",!e.pageLoginLiterals.loginHint&&!e.pageLoginLiterals.rememberUserHint),r(),b(e.pageLoginLiterals.loginHint?1:-1)}}function tr(o,p){if(o&1&&(a(0,"div",17),_(1,"po-icon",29),a(2,"span",30),v(3),l()()),o&2){let e=p.$implicit;r(3),V(e)}}function ir(o,p){if(o&1){let e=C();a(0,"po-page-login-popover",32),w("p-forgot-password",function(t){g(e);let n=u(2);return f(n.openUrl(t))}),l()}if(o&2){let e=u(2);d("p-literals",e.pageLoginLiterals)("p-recovery",e.recovery)("p-remaining-attempts",e.exceededAttemptsWarning)}}function or(o,p){if(o&1&&(a(0,"div",20),P(1,ir,1,3,"po-page-login-popover",31),l()),o&2){let e=u();r(),b(e.showExceededAttemptsWarning&&e.exceededAttemptsWarning?1:-1)}}function nr(o,p){if(o&1&&(a(0,"div",17),_(1,"po-icon",29),a(2,"span",30),v(3),l()()),o&2){let e=p.$implicit;r(3),V(e)}}function rr(o,p){if(o&1){let e=C();a(0,"po-input",33),k("ngModelChange",function(t){g(e);let n=u();return A(n.customFieldObject.value,t)||(n.customFieldObject.value=t),f(t)}),w("keyup.enter",function(){g(e);let t=u(),n=K(14);return f(n.valid&&t.onLoginSubmit())}),l()}if(o&2){let e=u();$("po-page-login-field-size-dynamic",!e.pageLoginLiterals.loginHint&&!e.pageLoginLiterals.rememberUserHint),E("ngModel",e.customFieldObject.value),d("p-error-pattern",e.customFieldObject.errorPattern||e.pageLoginLiterals.customFieldErrorPattern)("p-pattern",e.customFieldObject.pattern)("p-placeholder",e.customFieldObject.placeholder||e.pageLoginLiterals.customFieldPlaceholder)("p-size",e.componentsSize)}}function sr(o,p){if(o&1){let e=C();a(0,"po-combo",34),k("ngModelChange",function(t){g(e);let n=u();return A(n.customFieldObject.value,t)||(n.customFieldObject.value=t),f(t)}),l()}if(o&2){let e=u();$("po-page-login-field-size-dynamic",!e.pageLoginLiterals.loginHint&&!e.pageLoginLiterals.rememberUserHint),E("ngModel",e.customFieldObject.value),d("p-field-value",e.customFieldObject.fieldValue)("p-filter-service",e.customFieldObject.url)("p-placeholder",e.customFieldObject.placeholder||e.pageLoginLiterals.customFieldPlaceholder)("p-size",e.componentsSize)}}function ar(o,p){if(o&1){let e=C();a(0,"po-select",35),k("ngModelChange",function(t){g(e);let n=u();return A(n.customFieldObject.value,t)||(n.customFieldObject.value=t),f(t)}),l()}if(o&2){let e=u();$("po-page-login-field-size-dynamic",!e.pageLoginLiterals.loginHint&&!e.pageLoginLiterals.rememberUserHint),E("ngModel",e.customFieldObject.value),d("p-placeholder",e.customFieldObject.placeholder||e.pageLoginLiterals.customFieldPlaceholder)("p-options",e.customFieldObject.options)("p-size",e.componentsSize)}}function lr(o,p){if(o&1&&_(0,"po-icon",28),o&2){let e=u(3);d("p-tooltip",e.pageLoginLiterals.rememberUserHint)}}function cr(o,p){if(o&1&&(a(0,"div",38),P(1,lr,1,1,"po-icon",28),l()),o&2){let e=u(2);$("po-page-login-info-icon-container-dynamic",!e.pageLoginLiterals.rememberUserHint),r(),b(e.pageLoginLiterals.rememberUserHint?1:-1)}}function pr(o,p){if(o&1){let e=C();a(0,"div",13)(1,"po-switch",36),k("ngModelChange",function(t){g(e);let n=u();return A(n.rememberUser,t)||(n.rememberUser=t),f(t)}),w("keyup.enter",function(){g(e);let t=u(),n=K(14);return f(n.valid&&t.onLoginSubmit())}),l(),P(2,cr,2,3,"div",37),l()}if(o&2){let e=u();r(),E("ngModel",e.rememberUser),d("p-label-off",e.pageLoginLiterals.rememberUser)("p-label-on",e.pageLoginLiterals.rememberUser)("p-size",e.componentsSize)("p-hide-label-status",e.hideLabelStatus),r(),b(e.pageLoginLiterals.loginHint||e.pageLoginLiterals.rememberUserHint?2:-1)}}function dr(o,p){if(o&1){let e=C();a(0,"div",25)(1,"a",39),w("click",function(){g(e);let t=u();return f(t.openUrl(t.recovery))}),v(2),l()()}if(o&2){let e=u();r(2),V(e.pageLoginLiterals.forgotPassword)}}function ur(o,p){if(o&1){let e=C();a(0,"div",26)(1,"a",39),w("click",function(){g(e);let t=u();return f(t.openUrl(t.registerUrl))}),v(2),l()()}if(o&2){let e=u();r(2),V(e.pageLoginLiterals.registerUrl)}}var xe=function(o){return o.Small="small",o.Medium="medium",o}(xe||{});function go(){return navigator.language||navigator.userLanguage}function mr(){let o=(go()||U).toLowerCase().substring(0,2);return hi.includes(o)?o:U}function O(o){return typeof o=="string"?(o=o.toLowerCase().trim(),o==="true"||o==="on"||o===""):typeof o=="number"?o===1:!!o}function yt(o,p){let e=parseInt(o,10),i=parseInt(p,10);return e||e===0?e:i||i===0?i:void 0}function pe(o,p){return typeof o===p}function hr(o,p){if(o){let e=o.getMonth()+1,i=o.getDate()<10?"0"+o.getDate():o.getDate(),t=e<10?"0"+e:e,n=gr(o.getFullYear()),s=o.toString();return p?n+"-"+t+"-"+i+p:n+"-"+t+"-"+i+"T"+s.substring(16,24)+s.substring(28,31)+":"+s.substring(31,33)}else return null}function gr(o){if(o>=1e3)return o.toString();if(o>99&&o<1e3)return`0${o}`;if(o>9&&o<100)return`00${o}`;if(o>=0&&o<10)return`000${o}`}function X(){return Pr()==="small"?xe.Small:xe.Medium}function de(o){return o?o.startsWith("http"):!1}function Bi(o){window.open(o,"_blank")}function fr(o){return`${o.charAt(0).toUpperCase()}${o.slice(1)}`}function yr(o=[],p=[]){return o.map(e=>Qe(e,p))}function Qe(o={},p=[]){let e=(i,t)=>ne(m({},i),{[t]:o[t]});return p.reduce(e,{})}function vt(o={}){return Object.keys(o).map(p=>o[p])}function he(o){return o?o<10?`0${o}`:o:"00"}function He(o,p){return o.forEach(e=>delete p[e]),p}function Wi(o,p,e){let i=e.length?e:["id"],t=o.concat(p);return t.filter((n,s)=>s===t.findIndex(c=>i.every(y=>c[y]===n[y])))}function vr(o,p,e){return o.sort((i,t)=>{let n=i[p],s=t[p];if(typeof n=="number"&&typeof s=="number")return e?n-s:s-n;{let c=n.toString().localeCompare(s.toString());return e?c:-c}})}function ie(o){return o&&Object.values(xe).includes(o)?o===xe.Small&&_r()!=="AA"?xe.Medium:o:X()}function Pr(){let o=localStorage.getItem("po-default-size"),p=document.documentElement.getAttribute("data-a11y");return o==="small"&&p==="AA"?"small":"medium"}function _r(){return document.documentElement.getAttribute("data-a11y")==="AA"?Tt.AA:Tt.AAA}var be=function(o){return o.Email="email",o.SMSCode="smsCode",o.Confirmation="confirmation",o}(be||{}),N=function(o){return o.All="all",o.Email="email",o.SMS="sms",o}(N||{}),Ui={en:{cancelButton:"Cancel",closeButton:"Close",continueButton:"Continue",email:"e-mail",emailErrorMessagePhrase:"Invalid e-mail format",emailSentConfirmationPhrase:`We have sent the instructions and new password creation link to your e-mail.
    If you did not receive it after a few minutes, check your spam box or click Resend.`,emailSentTitle:"E-mail sent",forgotPasswordTitle:"Forgot your password?",insertCode:"Type the code",insertEmail:"Enter your e-mail",insertPhone:"Enter your mobile number",phoneErrorMessagePhrase:"Invalid phone number",prepositionIn:"in",prepositionOr:"or",recoveryPasswordPhrase:"To recover your password we will send you a {0} with instructions.",resendEmailButton:"Resend",resendSmsCodePhrase:"If the code does not arrive within a few minutes, please send it again.",sendAgainPhrase:"If the code does not arrive within a few minutes",sendAgain:"send again.",sendButton:"Submit",sentSmsCodePhrase:"We sent a code for your mobile phone.",sms:"SMS",smsCodeErrorMessagePhrase:"Invalid code. Please re-enter or contact support",supportContact:"If you do not have access to {0} contact support",telephone:"telephone",typeCodeTitle:"Enter sent code"},es:{cancelButton:"Cancelar",closeButton:"Cerrar",continueButton:"Continuar",email:"e-mail",emailErrorMessagePhrase:"Formato de correo electr\xF3nico no v\xE1lido",emailSentConfirmationPhrase:`Enviamos las instrucciones y enlace de creaci\xF3n de nueva contrase\xF1a para su correo electr\xF3nico.
    Si no ha recibido despu\xE9s de unos minutos, compruebe su caja de spam o haga clic en Reenviar`,emailSentTitle:"E-mail enviado",forgotPasswordTitle:"Olvidaste tu contrase\xF1a?",insertCode:"Introduzca el c\xF3digo",insertEmail:"Introduce tu e-mail",insertPhone:"Introduce tu n\xFAmero de celular",phoneErrorMessagePhrase:"N\xFAmero de tel\xE9fono no v\xE1lido",prepositionIn:"en",prepositionOr:"u",recoveryPasswordPhrase:"Para recuperar su contrase\xF1a vamos a enviar un {0} con instrucciones.",resendEmailButton:"Reenviar",resendSmsCodePhrase:"Si el c\xF3digo no llega dentro de unos minutos, vuelva a enviar.",sendAgain:"env\xEDe de nuevo.",sendAgainPhrase:"Si el c\xF3digo no llega dentro de unos minutos",sendButton:"Enviar",sentSmsCodePhrase:"Enviamos un c\xF3digo para su celular.",sms:"SMS",smsCodeErrorMessagePhrase:"C\xF3digo no v\xE1lido. Escriba de nuevo o p\xF3ngase en contacto con el soporte",supportContact:"Si no tiene acceso a {0} p\xF3ngase en contacto con el soporte",telephone:"tel\xE9fono",typeCodeTitle:"Escribir c\xF3digo enviado"},pt:{cancelButton:"Cancelar",closeButton:"Fechar",continueButton:"Continuar",email:"e-mail",emailErrorMessagePhrase:"Formato de e-mail inv\xE1lido",emailSentConfirmationPhrase:`Enviamos as instru\xE7\xF5es e link de cria\xE7\xE3o de nova senha para o seu e-mail.
    Caso n\xE3o tenha recebido ap\xF3s alguns minutos, verifique sua caixa de spam ou clique em Reenviar.`,emailSentTitle:"E-mail enviado",forgotPasswordTitle:"Esqueceu sua senha?",insertCode:"Digite o c\xF3digo",insertEmail:"Insira seu e-mail",insertPhone:"Insira seu n\xFAmero de celular",phoneErrorMessagePhrase:"N\xFAmero de telefone inv\xE1lido",prepositionIn:"em",prepositionOr:"ou",recoveryPasswordPhrase:"Para recuperar sua senha vamos enviar um {0} com instru\xE7\xF5es.",resendEmailButton:"Reenviar",resendSmsCodePhrase:"Se o c\xF3digo n\xE3o chegar dentro de alguns minutos envie novamente",sendAgain:"envie novamente.",sendAgainPhrase:"Se o c\xF3digo n\xE3o chegar dentro de alguns minutos",sendButton:"Enviar",sentSmsCodePhrase:"Enviamos um c\xF3digo para seu celular cadastrado.",sms:"SMS",smsCodeErrorMessagePhrase:"C\xF3digo inv\xE1lido. Digite novamente ou contacte o suporte",supportContact:"Se n\xE3o tiver acesso ao {0} contacte o suporte",telephone:"telefone",typeCodeTitle:"Digitar c\xF3digo enviado"},ru:{cancelButton:"\u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",closeButton:"\u0431\u043B\u0438\u0437\u043A\u043E",continueButton:"\u0431\u043B\u0438\u0437\u043A\u043E",email:"\u043F\u043E \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u0435",emailErrorMessagePhrase:"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B",emailSentConfirmationPhrase:`\u041C\u044B \u043E\u0442\u043F\u0440\u0430\u0432\u0438\u043B\u0438 \u0438\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u0438 \u0438 \u043D\u043E\u0432\u0443\u044E \u0441\u0441\u044B\u043B\u043A\u0443 \u0434\u043B\u044F \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043F\u0430\u0440\u043E\u043B\u044F \u0434\u043B\u044F \u0432\u0430\u0448\u0435\u0439 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B.
\u0415\u0441\u043B\u0438 \u0432\u044B \u043D\u0435 \u043F\u043E\u043B\u0443\u0447\u0438\u043B\u0438 \u0435\u0433\u043E \u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0435 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u0438\u0445 \u043C\u0438\u043D\u0443\u0442, \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u0444\u043B\u0430\u0436\u043E\u043A \u0421\u043F\u0430\u043C \u0438\u043B\u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0414\u0430\u043B\u0435\u0435.`,emailSentTitle:"\u041F\u0438\u0441\u044C\u043C\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E",forgotPasswordTitle:"\u0417\u0430\u0431\u044B\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C?",insertCode:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0434",insertEmail:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B",insertPhone:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u043E\u043C\u0435\u0440 \u0432\u0430\u0448\u0435\u0433\u043E \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0433\u043E \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430",phoneErrorMessagePhrase:"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430",prepositionIn:"\u0432",prepositionOr:"\u0438\u043B\u0438",recoveryPasswordPhrase:"\u0414\u043B\u044F \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u044F \u0432\u0430\u0448\u0435\u0433\u043E \u043F\u0430\u0440\u043E\u043B\u044F \u043C\u044B \u0432\u044B\u0448\u043B\u0435\u043C {0} \u0441 \u0438\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u044F\u043C\u0438.",resendEmailButton:"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0435\u0449\u0435 \u0440\u0430\u0437",resendSmsCodePhrase:"\u0415\u0441\u043B\u0438 \u043A\u043E\u0434 \u043D\u0435 \u043F\u0440\u0438\u0445\u043E\u0434\u0438\u0442 \u0447\u0435\u0440\u0435\u0437 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u043C\u0438\u043D\u0443\u0442, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.",sendAgain:"\u043E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0441\u043D\u043E\u0432\u0430.",sendAgainPhrase:"\u0415\u0441\u043B\u0438 \u043A\u043E\u0434 \u043D\u0435 \u043F\u0440\u0438\u0445\u043E\u0434\u0438\u0442 \u0447\u0435\u0440\u0435\u0437 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u043C\u0438\u043D\u0443\u0442",sendButton:"\u043F\u043E\u0441\u043B\u0430\u0442\u044C",sentSmsCodePhrase:"\u041C\u044B \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0435\u043C \u043A\u043E\u0434 \u043D\u0430 \u0432\u0430\u0448 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D.",sms:"SMS",smsCodeErrorMessagePhrase:"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043E\u0434. \u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u0438\u043B\u0438 \u043E\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044C \u0432 \u0441\u043B\u0443\u0436\u0431\u0443 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0438",supportContact:"\u0415\u0441\u043B\u0438 \u0443 \u0432\u0430\u0441 \u043D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0430 \u043A {0}, \u043E\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044C \u0432 \u0441\u043B\u0443\u0436\u0431\u0443 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0438",telephone:"\u0442\u0435\u043B\u0435\u0444\u043E\u043D",typeCodeTitle:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043D\u044B\u0439 \u043A\u043E\u0434"}},br=15,Cr=15,ji="(99) 99999-9999",Hi=N.Email,wr=(()=>{class o{codeError;urlRecovery;codeSubmit=new T;submit=new T;email;maxLength=br;minLength=Cr;modalPasswordRecoveryTypeAll;phone;smsCode;smsCodeErrorMessage;literals=Ui[U];_componentsSize;_contactEmail;_phoneMask=ji;_type=Hi;set componentsSize(e){this._componentsSize=ie(e)}get componentsSize(){return this._componentsSize??X()}set contactEmail(e){this._contactEmail=e,this.smsCodeErrorMessage=this.concatenateSMSErrorMessage(e)}get contactEmail(){return this._contactEmail}set phoneMask(e){this._phoneMask=e||ji,this.minLength=this.maxLength=this._phoneMask.length}get phoneMask(){return this._phoneMask}set type(e){this._type=Object.values(N).includes(e)?e:Hi}get type(){return this._type}constructor(e){this.literals=m(m({},this.literals),Ui[e.getShortLanguage()])}concatenateSMSErrorMessage(e){let i=this.literals.smsCodeErrorMessagePhrase;return e&&e!==""?`${i} ${this.literals.prepositionIn} ${e}.`:i}static \u0275fac=function(i){return new(i||o)(W(q))};static \u0275dir=J({type:o,inputs:{codeError:[0,"p-code-error","codeError"],urlRecovery:[0,"p-url-recovery","urlRecovery"],componentsSize:[0,"p-components-size","componentsSize"],contactEmail:[0,"p-contact-email","contactEmail"],phoneMask:[0,"p-phone-mask","phoneMask"],type:[0,"p-type","type"]},outputs:{codeSubmit:"p-code-submit",submit:"p-submit"}})}return o})(),fo=(()=>{class o{http=h(te);post(e,i,t){return this.http.post(e,i,{observe:"response",params:t})}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Sr=(()=>{class o{text;static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-modal-password-recovery-error-message"]],inputs:{text:[0,"p-text","text"]},standalone:!1,decls:4,vars:1,consts:[[1,"po-field-container-bottom-text-error","po-field-container-error-item"],["p-icon","ICON_EXCLAMATION"],[1,"po-field-container-error-text"]],template:function(i,t){i&1&&(a(0,"div",0),_(1,"po-icon",1),a(2,"span",2),v(3),l()()),i&2&&(r(3),V(t.text))},dependencies:[me],encapsulation:2})}return o})(),yo=(()=>{class o extends wr{router=h(se);poI18nPipe=h(Ae);poModalPasswordRecoveryService=h(fo);emailForm;recoveryModalElement;smsCodeForm;chosenTypeFormOption=N.Email;codeMask="9 9 9 9 9 9";control;emailModal=!0;emailModalPhrases={firstPhrase:null,secondPhrase:null};endpoint=".";invalidCode=!1;invalidEmail=!1;modalTitle;modalType=be.Email;showCustomCodeError;smsCodeErrorMessagePhrase;submittedCodeValue={};submittedContactValue={};primaryAction={label:void 0,action:()=>{}};secondaryAction={label:void 0,action:()=>{}};typeFormOptions=[{label:"e-mail",value:N.Email},{label:"SMS",value:N.SMS}];passwordRecoverySubscription;smsBodyResponse;smsCodeSubscription;constructor(){let e=h(q);super(e)}ngOnDestroy(){this.passwordRecoverySubscription&&this.passwordRecoverySubscription.unsubscribe(),this.smsCodeSubscription&&this.smsCodeSubscription.unsubscribe()}completed(){this.cancelAction()}formModelChangesCheck(e){let i=e.invalid;if(this.invalidEmail=i&&e.dirty,this.primaryAction.disabled=i,this.modalType===be.SMSCode){let t=this.codeError!==void 0&&this.codeError!=="";this.showCustomCodeError=t&&e.pristine}}getInputType(e){this.type=e,this.pipeModalPhrases(),setTimeout(()=>{this.control=this.emailForm.controls[e],this.formModelChangesCheck(this.emailForm),this.resetFormFields(this.control)})}open(){let e=this.checkFormType(this.type);this.control=this.emailForm.controls[e],this.setEmailModalPhrasesAndActions(),this.formModelChangesCheck(this.emailForm),this.recoveryModalElement.open()}openConfirmation(){this.modalTitle=this.literals.emailSentTitle,this.modalType=be.Confirmation,this.setActions(this.cancelAction,this.literals.closeButton,this.submitAction,this.literals.resendEmailButton,this.componentsSize,!1)}openSmsCode(){this.modalTitle=this.literals.typeCodeTitle,this.modalType=be.SMSCode,this.setActions(this.submitSmsCodeAction,this.literals.continueButton,this.cancelAction,this.literals.cancelButton,this.componentsSize,!0),setTimeout(()=>{this.control=this.smsCodeForm.controls.sms,this.formModelChangesCheck(this.smsCodeForm)})}resendSmsCode(){this.incrementRetryAttempts(),this.urlRecovery?this.submitActionRequest(this.submittedContactValue,this.type):this.submit.emit(this.submittedContactValue)}assignSmsResponse(e){this.smsBodyResponse=Object.assign({},{hash:e.hash}),e.urlValidationCode&&(this.smsBodyResponse=Object.assign(this.smsBodyResponse,{urlValidationCode:e.urlValidationCode}))}cancelAction(){this.resetFormFields(this.control),this.submittedContactValue={},this.chosenTypeFormOption=N.Email,this.modalType=be.Email,this.type=this.modalPasswordRecoveryTypeAll?N.All:this.type,this.recoveryModalElement.close()}checkFormType(e){return e!==N.All?e:N.Email}formReset(e){e.markAsPristine(),e.markAsUntouched(),e.updateValueAndValidity()}getEmitValue(e){return e===N.SMS?this.phone:this.email}incrementRetryAttempts(){this.submittedContactValue.retry=this.submittedContactValue.retry+1||1}openExternalLink(e,i){window.open(`${e}?token=${i}`,"_self")}openInternalLink(e,i,t){this.router.navigate([`${e}/${i}`],{queryParams:{token:t}})}pipeModalPhrases(){this.type===N.SMS?(this.emailModalPhrases.firstPhrase=this.setPipeArguments(this.literals.recoveryPasswordPhrase,this.literals.sms),this.emailModalPhrases.secondPhrase=this.setPipeArguments(this.literals.supportContact,this.literals.telephone)):(this.emailModalPhrases.firstPhrase=this.setPipeArguments(this.literals.recoveryPasswordPhrase,this.literals.email),this.emailModalPhrases.secondPhrase=this.setPipeArguments(this.literals.supportContact,this.literals.email))}redirectToChangePassword(e){let i=e.urlChangePassword;i?de(i)?this.openExternalLink(i,e.token):this.openInternalLink(this.urlRecovery,i,e.token):this.openInternalLink(this.urlRecovery,"changePassword",e.token)}resetFormFields(e){this.formReset(e),this.email=void 0,this.phone=void 0,this.smsCode=void 0}setActions(e,i,t,n,s,c){this.primaryAction.action=()=>e.call(this),this.primaryAction.label=i,this.secondaryAction.action=()=>t.call(this),this.secondaryAction.label=n,this.componentsSize=s,this.primaryAction.disabled=c}setEmailModalPhrasesAndActions(){this.modalTitle=this.literals.forgotPasswordTitle,this.pipeModalPhrases(),this.modalPasswordRecoveryTypeAll=this.type===N.All,this.setActions(this.submitAction,this.literals.sendButton,this.cancelAction,this.literals.cancelButton,this.componentsSize,!0)}setRequestEndpoint(e){let i=e||"validation";return`${this.urlRecovery}/${i}`}setPipeArguments(e,i){return this.poI18nPipe.transform(e,i)}submitAction(){this.modalType===be.Confirmation?this.incrementRetryAttempts():this.formReset(this.control),this.submittedContactValue[this.checkFormType(this.type)]=this.getEmitValue(this.type),this.urlRecovery?this.submitActionRequest(this.submittedContactValue,this.type):this.submit.emit(this.submittedContactValue)}submitActionRequest(e,i){let t=i===N.SMS?{type:"sms"}:void 0;this.passwordRecoverySubscription=this.poModalPasswordRecoveryService.post(this.urlRecovery,e,t).subscribe(n=>{(i===N.Email||i===N.All)&&n.status===204?this.openConfirmation():i===N.SMS&&n.status===200&&(this.assignSmsResponse(n.body),this.openSmsCode())})}submitSmsCodeAction(){this.submittedCodeValue.code=this.smsCode,this.urlRecovery?(this.submittedCodeValue=Object.assign(this.submittedCodeValue,{hash:this.smsBodyResponse.hash}),this.submitSmsCodeRequest(this.submittedCodeValue)):this.codeSubmit.emit(this.submittedCodeValue),this.resetFormFields(this.control)}submitSmsCodeRequest(e){this.smsCodeSubscription=this.poModalPasswordRecoveryService.post(this.setRequestEndpoint(this.smsBodyResponse.urlValidationCode),e).subscribe(i=>{i.status===200&&(this.completed(),this.redirectToChangePassword(i.body))},i=>{this.codeError=i.error.message,this.openSmsCode()})}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-modal-password-recovery"]],viewQuery:function(i,t){if(i&1&&(D(Eo,5),D(Ao,7),D(ko,5)),i&2){let n;M(n=x())&&(t.emailForm=n.first),M(n=x())&&(t.recoveryModalElement=n.first),M(n=x())&&(t.smsCodeForm=n.first)}},standalone:!1,features:[ee],decls:6,vars:8,consts:[["recoveryModal",""],["emailForm","ngForm"],["smsCodeModal",""],["smsCodeForm","ngForm"],["confirmationModal",""],["p-hide-close","","p-size","auto",3,"ngSwitch","p-components-size","p-primary-action","p-secondary-action","p-title"],[1,"po-modal-password-recovery-wrapper"],["class","po-modal-password-recovery-content po-row",4,"ngSwitchCase"],[1,"po-modal-password-recovery-content","po-row"],[1,"po-modal-password-recovery-text","po-md-12","po-mb-1"],[1,"po-mb-2","po-md-12"],[4,"ngIf"],[1,"po-mt-1"],["name","email","p-required","",3,"ngModel","p-label","p-size","ngModelChange","p-change-model",4,"ngIf"],["name","sms","p-icon","ICON_TELEPHONE","p-required","",3,"ngModel","p-label","p-mask","p-maxlength","p-minlength","p-size","ngModelChange","p-change-model",4,"ngIf"],[1,"po-field-container-bottom","po-field-container-error-container"],[3,"p-text",4,"ngIf"],[1,"po-modal-password-recovery-text","po-md-12"],["name","type",3,"ngModelChange","p-change","ngModel","p-options","p-size"],["name","email","p-required","",3,"ngModelChange","p-change-model","ngModel","p-label","p-size"],["name","sms","p-icon","ICON_TELEPHONE","p-required","",3,"ngModelChange","p-change-model","ngModel","p-label","p-mask","p-maxlength","p-minlength","p-size"],[3,"p-text"],["target","_self",1,"po-modal-password-recovery-link",3,"href"],["name","sms","p-maxlength","11","p-minlength","11","p-required","",3,"ngModelChange","p-change-model","ngModel","p-label","p-mask","p-size"],[1,"po-modal-password-recovery-link",3,"click"],["src","./assets/images/email-sent.svg",1,"po-modal-password-recovery-user-image","po-mb-2"],[1,"po-modal-password-recovery-text"]],template:function(i,t){i&1&&(a(0,"po-modal",5,0)(2,"div",6),P(3,Fo,16,8,"div",7)(4,Oo,15,9,"div",7)(5,zo,5,1,"div",7),l()()),i&2&&(d("ngSwitch",t.modalType)("p-components-size",t.componentsSize)("p-primary-action",t.primaryAction)("p-secondary-action",t.secondaryAction)("p-title",t.modalTitle),r(3),d("ngSwitchCase","email"),r(),d("ngSwitchCase","smsCode"),r(),d("ngSwitchCase","confirmation"))},dependencies:[ci,pi,di,ve,Se,ye,Ee,re,Rt,Ei,lt,Pe,Sr],encapsulation:2})}return o})(),Ji=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({providers:[Ae,fo],imports:[B,G,ct,at,Ne]})}return o})(),Qt=(()=>{class o{poLanguageService=h(q);background;initialSelectLanguage;hideLogo;highlightInfo;selectedLanguage=new T;selectedLanguageOption;_componentsSize=void 0;_showSelectLanguage=!1;_languagesList;_selectLanguageOptions;set componentsSize(e){this._componentsSize=ie(e)}get componentsSize(){return this._componentsSize??X()}set languagesList(e){this._languagesList=e,this.setLanguageOptions()}get languagesList(){return this._languagesList?.length?this._languagesList:st}logo;logoAlt;secondaryLogo;set showSelectLanguage(e){this._showSelectLanguage=O(e)}get showSelectLanguage(){return this._showSelectLanguage}ngOnInit(){this.selectedLanguageOption=this.initialSelectLanguage||this.poLanguageService.getShortLanguage()}onChangeLanguage(){this.selectedLanguage.emit(this.selectedLanguageOption)}get selectLanguageOptions(){return this._selectLanguageOptions}setLanguageOptions(){this._selectLanguageOptions=this.languagesList.map(e=>({label:e.description,value:e.language}))}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-page-background"]],inputs:{background:[0,"p-background","background"],initialSelectLanguage:[0,"p-initial-language","initialSelectLanguage"],hideLogo:[0,"p-hide-logo","hideLogo"],highlightInfo:[0,"p-highlight-info","highlightInfo"],componentsSize:[0,"p-components-size","componentsSize"],languagesList:[0,"p-languages","languagesList"],logo:[0,"p-logo","logo"],logoAlt:[0,"p-logo-alt","logoAlt"],secondaryLogo:[0,"p-secondary-logo","secondaryLogo"],showSelectLanguage:[0,"p-show-select-language","showSelectLanguage"]},outputs:{selectedLanguage:"p-selected-language"},standalone:!1,ngContentSelectors:ho,decls:14,vars:7,consts:[[1,"po-page-login-container"],[1,"po-page-login-panel"],[1,"po-page-background-main-logo"],["p-class","po-page-background-main-logo-image",3,"p-link","p-logo","p-logo-alt"],[1,"po-page-login-body"],[1,"po-page-login-panel-content"],[1,"po-page-background-footer","po-sm-12"],[1,"po-page-background-footer-mobile-only"],[1,"po-page-background-footer-content"],[1,"po-page-background-footer-select"],[1,"po-page-background-secondary-logo",3,"ngClass"],["p-class","po-page-background-secondary-logo-image","p-logo-alt","secondary-logomarca",3,"p-link","p-logo"],[3,"ngClass","background-image"],["name","selectedLanguageOption",3,"ngModelChange","p-change","ngModel","p-options","p-size"],[3,"ngClass"],[1,"po-page-login-highlight-text"],[1,"po-font-display"]],template:function(i,t){i&1&&(Et(),a(0,"div",0)(1,"div",1)(2,"div",2),P(3,Vo,1,3,"po-logo",3),l(),a(4,"div",4)(5,"div",5),At(6),l()(),a(7,"div",6),_(8,"po-divider",7),a(9,"div",8),P(10,qo,2,3,"div",9),a(11,"div",10),P(12,No,1,2,"po-logo",11),l()()()(),P(13,Bo,4,4,"div",12),l()),i&2&&(r(2),$("po-page-background-hide-logo",t.hideLogo),r(),b(t.logo?3:-1),r(7),b(t.showSelectLanguage?10:-1),r(),d("ngClass",t.showSelectLanguage?"po-page-background-secondary-logo-right":"po-page-background-secondary-logo-centered"),r(),b(t.secondaryLogo?12:-1),r(),b(t.background?13:-1))},dependencies:[Ve,Se,Ee,qe,qt,Ri],encapsulation:2})}return o})(),$e=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({imports:[B,G,ce,rt,ct,Oi]})}return o})(),Pt=function(o){return o.None="none",o.ExceededAttempts="exceededAttempts",o.ExpiredPassword="expiredPassword",o}(Pt||{}),Er=Pt.None,Wt={attempts:5,days:90,hours:24},Ar=(()=>{class o{contactEmail;contactPhone;logo;secondaryLogo;_componentsSize=void 0;_params=m({},Wt);_reason=Pt.None;_urlBack="/";set componentsSize(e){this._componentsSize=ie(e)}get componentsSize(){return this._componentsSize??X()}set params(e){if(e instanceof Object){let i=Object.keys(e),t=m({},Wt);i.forEach(n=>{t[n]=e[n]}),this._params=t}else this._params=m({},Wt)}get params(){return this._params}set reason(e){this._reason=Object.values(Pt).includes(e)?e:Er}get reason(){return this._reason}set urlBack(e){this._urlBack=e}get urlBack(){return this._urlBack}static \u0275fac=function(i){return new(i||o)};static \u0275dir=J({type:o,inputs:{contactEmail:[0,"p-contact-email","contactEmail"],contactPhone:[0,"p-contact-phone","contactPhone"],logo:[0,"p-logo","logo"],secondaryLogo:[0,"p-secondary-logo","secondaryLogo"],componentsSize:[0,"p-components-size","componentsSize"],params:[0,"p-params","params"],reason:[0,"p-reason","reason"],urlBack:[0,"p-url-back","urlBack"]}})}return o})(),Qi=16,kr=(()=>{class o{changeDetector=h(ze);contactGroup;mailItem;phoneItem;overflowItem=!0;_email;_phone;set email(e){this._email=e,this.checkContactItemWidth()}get email(){return this._email}set phone(e){this._phone=e,this.checkContactItemWidth()}get phone(){return this._phone}checkContactItemWidth(){if(this.overflowItem=!0,this.phone&&this.email){this.changeDetector.detectChanges();let e=this.phoneItem.nativeElement.offsetWidth,i=this.mailItem.nativeElement.offsetWidth,t=this.contactGroup.nativeElement.offsetWidth/2-Qi;this.overflowItem=e>t||i>t-Qi}}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-page-blocked-user-contacts"]],viewQuery:function(i,t){if(i&1&&(D(Wo,7),D(Uo,7),D(jo,7)),i&2){let n;M(n=x())&&(t.contactGroup=n.first),M(n=x())&&(t.mailItem=n.first),M(n=x())&&(t.phoneItem=n.first)}},inputs:{email:[0,"p-email","email"],phone:[0,"p-phone","phone"]},standalone:!1,decls:16,vars:16,consts:[["contactGroup",""],["phoneItem",""],["mailItem",""],[1,"po-page-blocked-user-contact-group","po-row","po-mb-3"],[1,"po-page-blocked-user-contact-item",3,"ngClass"],["target","_self",1,"po-page-blocked-user-link","po-clickable",3,"href"],[1,"po-page-blocked-user-contact-group-item"],["p-icon","ICON_TELEPHONE",1,"po-page-blocked-user-contact-icon","po-pr-1"],[1,"po-page-blocked-user-contact-text","po-font-text"],[1,"po-page-blocked-user-contact-item","po-page-blocked-user-contact-mail",3,"ngClass"],["p-icon","ICON_MAIL",1,"po-page-blocked-user-contact-icon","po-pr-1"]],template:function(i,t){i&1&&(a(0,"div",3,0)(2,"div",4)(3,"a",5)(4,"div",6),_(5,"po-icon",7),a(6,"div",8,1),v(8),l()()()(),a(9,"div",9)(10,"a",5)(11,"div",6),_(12,"po-icon",10),a(13,"div",8,2),v(15),l()()()()()),i&2&&(r(2),$("po-invisible",!t.phone),d("ngClass",t.overflowItem?"po-md-12":"po-md-6"),r(),$("po-page-blocked-user-contact-content-inline",t.overflowItem),ot("href","tel:",t.phone,"",ge),r(5),V(t.phone),r(),$("po-invisible",!t.email),d("ngClass",t.overflowItem?"po-md-12":"po-md-6"),r(),$("po-page-blocked-user-contact-content-inline",t.overflowItem),ot("href","mailto:",t.email,"",ge),r(5),V(t.email))},dependencies:[Ve,me],encapsulation:2,changeDetection:0})}return o})(),$i={none:{pt:{title:"Opa!",firstPhrase:"Tivemos que bloquear essa tela temporariamente.",secondPhrase:"Mas n\xE3o se preocupe! Basta fazer seu login novamente."},en:{title:"Oops!",firstPhrase:"We had to temporarily block this screen.",secondPhrase:"But do not worry! Just sign in again."},es:{title:"Opa!",firstPhrase:"Tuvimos que bloquear esta pantalla temporalmente.",secondPhrase:"\xA1Pero no se preocupe! S\xF3lo tienes que iniciar sesi\xF3n de nuevo."},ru:{title:"\u041E\u0439!",firstPhrase:"\u041D\u0430\u043C \u043F\u0440\u0438\u0448\u043B\u043E\u0441\u044C \u0432\u0440\u0435\u043C\u0435\u043D\u043D\u043E \u0437\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u044D\u0442\u043E\u0442 \u0440\u0430\u0437\u0434\u0435\u043B.",secondPhrase:"\u041D\u043E \u043D\u0435 \u0432\u043E\u043B\u043D\u0443\u0439\u0442\u0435\u0441\u044C! \u041F\u0440\u043E\u0441\u0442\u043E \u0432\u043E\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043C\u0443 \u0435\u0449\u0435 \u0440\u0430\u0437."}},exceededAttempts:{pt:{title:"Opa!",firstPhrase:"Para sua seguran\xE7a, ap\xF3s {0} tentativa(s) de senha seu usu\xE1rio fica bloqueado e n\xE3o pode ser acessado em {1} hora(s) :( ",secondPhrase:"Isso \xE9 para evitar que hackers invadam sua conta.",thirdPhrase:"Mas n\xE3o se preocupe! Se voc\xEA for o dono da conta e apenas esqueceu sua senha, basta entrar em contato com o suporte."},en:{title:"Oops!",firstPhrase:`For your security, after {0} attempt(s) of password
        your user gets blocked and can not be accessed in {1} hour(s) :(`,secondPhrase:"This is to prevent hackers from hacking into your account.",thirdPhrase:"But do not worry! If you are the owner of the account and just forgot your password, just contact support."},es:{title:"Opa!",firstPhrase:`Para su seguridad, despu\xE9s de {0} intento(s) de contrase\xF1a
        su usuario queda bloqueado y no puede ser accedido en {1} hora(s) :(`,secondPhrase:"Esto es para evitar que los hackers invadan su cuenta.",thirdPhrase:`\xA1Pero no se preocupe! Si usted es el due\xF1o de la cuenta
        y acaba de olvidar su contrase\xF1a, simplemente p\xF3ngase en contacto con el soporte.`},ru:{title:"\u041E\u0439!",firstPhrase:`\u0414\u043B\u044F \u0432\u0430\u0448\u0435\u0439 \u0431\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E\u0441\u0442\u0438, \u043F\u043E\u0441\u043B\u0435 {0} \u043F\u043E\u043F\u044B\u0442\u043E\u043A \u0432\u0432\u043E\u0434\u0430 \u043F\u0430\u0440\u043E\u043B\u044F\r
\u0432\u0430\u0448 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0431\u043B\u043E\u043A\u0438\u0440\u0443\u0435\u0442\u0441\u044F \u0438 \u043D\u0435 \u0441\u043C\u043E\u0436\u0435\u0442 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u0442\u044C\u0441\u044F \u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0435 {1} \u0447\u0430\u0441\u0430(\u043E\u0432) :(`,secondPhrase:"\u042D\u0442\u043E \u0434\u0435\u043B\u0430\u0435\u0442\u0441\u044F \u0434\u043B\u044F \u0442\u043E\u0433\u043E, \u0447\u0442\u043E\u0431\u044B \u0445\u0430\u043A\u0435\u0440\u044B \u043D\u0435 \u043C\u043E\u0433\u043B\u0438 \u0432\u0437\u043B\u043E\u043C\u0430\u0442\u044C \u0432\u0430\u0448 \u0430\u043A\u043A\u0430\u0443\u043D\u0442.",thirdPhrase:"\u041D\u043E \u043D\u0435 \u0432\u043E\u043B\u043D\u0443\u0439\u0442\u0435\u0441\u044C! \u0415\u0441\u043B\u0438 \u0432\u044B \u044F\u0432\u043B\u044F\u0435\u0442\u0435\u0441\u044C \u0432\u043B\u0430\u0434\u0435\u043B\u044C\u0446\u0435\u043C \u0443\u0447\u0435\u0442\u043D\u043E\u0439 \u0437\u0430\u043F\u0438\u0441\u0438 \u0438 \u043F\u0440\u043E\u0441\u0442\u043E \u0437\u0430\u0431\u044B\u043B\u0438 \u0441\u0432\u043E\u0439 \u043F\u0430\u0440\u043E\u043B\u044C, \u043E\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044C \u0432 \u0441\u043B\u0443\u0436\u0431\u0443 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0438."}},expiredPassword:{pt:{title:"Opa! Sua senha expirou",firstPhrase:"A cada {0} dia(s) \xE9 preciso criar uma nova senha por quest\xE3o de seguran\xE7a. Ap\xF3s esses {0} dia(s) seu acesso \xE9 bloqueado :(",secondPhrase:"Mas n\xE3o se preocupe! Basta entrar em contato com o administrador do sistema."},en:{title:"Oops! Your Password has expired",firstPhrase:`Every {0} day(s) you need to create a new password for security reasons.
        After these {0} day(s) your access is blocked :(`,secondPhrase:"But do not worry! Just contact your system administrator."},es:{title:"Opa! Su contrase\xF1a ha caducado",firstPhrase:`Cada {0} d\xEDa(s) es necesario crear una nueva contrase\xF1a por razones de seguridad.
        Despu\xE9s de estos {0} d\xEDa(s) su acceso est\xE1 bloqueado :(`,secondPhrase:"\xA1Pero no se preocupe! S\xF3lo tienes que ponerse en contacto con el administrador del sistema."},ru:{title:"\u041E\u0439! \u0421\u0440\u043E\u043A \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F \u0432\u0430\u0448\u0435\u0433\u043E \u043F\u0430\u0440\u043E\u043B\u044F \u0438\u0441\u0442\u0435\u043A",firstPhrase:`\u041A\u0430\u0436\u0434\u044B\u0435 {0} \u0434\u043D\u0435\u0439 \u0432\u0430\u043C \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0441\u043E\u0437\u0434\u0430\u0432\u0430\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C \u0432 \u0446\u0435\u043B\u044F\u0445 \u0431\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E\u0441\u0442\u0438.\r
\u041F\u043E\u0441\u043B\u0435 {0} \u0434\u043D\u0435\u0439 \u0432\u0430\u0448 \u0434\u043E\u0441\u0442\u0443\u043F \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u043D :(`,secondPhrase:"\u041D\u043E \u043D\u0435 \u0432\u043E\u043B\u043D\u0443\u0439\u0442\u0435\u0441\u044C! \u041F\u0440\u043E\u0441\u0442\u043E \u043E\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044C \u043A \u0441\u0432\u043E\u0435\u043C\u0443 \u0441\u0438\u0441\u0442\u0435\u043C\u043D\u043E\u043C\u0443 \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u0443."}}},Mr=(()=>{class o{changeDetector=h(ze);params;reason;literalParams;literals;language;constructor(){let e=h(q);this.language=e.getShortLanguage()}ngOnChanges(e){(e.reason||e.params)&&this.getLiterals()}ngOnInit(){this.getLiterals()}getImageByReasonType(){let e;switch(this.reason){case"none":{e="big-lock";break}case"exceededAttempts":{e="blocked-user";break}case"expiredPassword":{e="expired";break}}return`./assets/images/${e}.svg`}getParams(){this.literalParams=this.reason==="expiredPassword"?[this.params.days,this.params.days]:[this.params.attempts,this.params.hours]}getLiterals(){this.getParams(),this.literals=m(m({},$i[this.reason][U]),$i[this.reason][this.language]),this.changeDetector.detectChanges()}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-page-blocked-user-reason"]],inputs:{params:[0,"p-params","params"],reason:[0,"p-reason","reason"]},standalone:!1,features:[Ct],decls:12,vars:8,consts:[[1,"po-page-blocked-user-reason-content"],[1,"po-page-blocked-user-image","po-mb-3",3,"src"],[1,"po-page-blocked-user-header","po-mb-md-3","po-row"],[1,"po-md-12"],[1,"po-page-blocked-user-text","po-font-text","po-row"],[1,"po-mb-sm-2","po-mb-md-3","po-md-12","po-page-blocked-user-text-bold"],[1,"po-mb-sm-2","po-mb-md-3","po-md-12"]],template:function(i,t){i&1&&(a(0,"div",0),_(1,"img",1),a(2,"div",2)(3,"div",3),v(4),l()(),a(5,"div",4)(6,"div",5),v(7),Mt(8,"poI18n"),l(),a(9,"div",6),v(10),l(),P(11,Ho,2,1,"div",6),l()()),i&2&&(r(),d("src",t.getImageByReasonType(),ge),r(3),V(t.literals==null?null:t.literals.title),r(3),S(" ",xt(8,5,t.literals==null?null:t.literals.firstPhrase,t.literalParams)," "),r(3),V(t.literals==null?null:t.literals.secondPhrase),r(),b(t.literals!=null&&t.literals.thirdPhrase?11:-1))},dependencies:[Ae],encapsulation:2})}return o})(),Ki={en:{primaryButton:"Back to home screen"},es:{primaryButton:"Volver al inicio"},pt:{primaryButton:"Voltar para o in\xEDcio"},ru:{primaryButton:"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043A \u043D\u0430\u0447\u0430\u043B\u0443 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B"}},Ss=(()=>{class o extends Ar{activatedRoute=h(le);router=h(se);literals;constructor(){let e=h(q);super();let i=e.getShortLanguage();this.literals=m(m({},Ki[U]),Ki[i])}ngOnInit(){this.checkingForRouteMetadata(this.activatedRoute.snapshot.data)}navigateTo(e){de(e)?window.open(e):this.router.navigate([e||"/"])}checkingForMetadataProperty(e,i){if(Object.prototype.hasOwnProperty.call(e,i))return e[i]}checkingForRouteMetadata(e){Object.keys(e).length!==0&&(this.contactEmail=this.checkingForMetadataProperty(e,"contactEmail")||this.contactEmail,this.contactPhone=this.checkingForMetadataProperty(e,"contactPhone")||this.contactPhone,this.reason=this.checkingForMetadataProperty(e,"reason")||this.reason,this.urlBack=this.checkingForMetadataProperty(e,"urlBack")||this.urlBack)}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-page-blocked-user"]],standalone:!1,features:[ee],decls:8,vars:10,consts:[[1,"po-page-blocked-user-wrapper"],[1,"po-page-background-wrap"],[3,"p-hide-logo","p-logo","p-secondary-logo","p-components-size"],[3,"p-params","p-reason"],[1,"po-page-blocked-user-mobile-bottom-alignment"],[3,"p-email","p-phone"],[1,"po-row"],["p-kind","primary",1,"po-lg-12","po-sm-12","po-page-blocked-user-button",3,"p-click","p-label","p-size"]],template:function(i,t){i&1&&(a(0,"div",0)(1,"div",1)(2,"po-page-background",2),_(3,"po-page-blocked-user-reason",3),a(4,"div",4),_(5,"po-page-blocked-user-contacts",5),a(6,"div",6)(7,"po-button",7),w("p-click",function(){return t.navigateTo(t.urlBack)}),l()()()()()()),i&2&&(r(2),d("p-hide-logo",!0)("p-logo",t.logo)("p-secondary-logo",t.secondaryLogo)("p-components-size",t.componentsSize),r(),d("p-params",t.params)("p-reason",t.reason),r(2),d("p-email",t.contactEmail)("p-phone",t.contactPhone),r(2),d("p-label",t.literals==null?null:t.literals.primaryButton)("p-size",t.componentsSize))},dependencies:[Be,Qt,kr,Mr],encapsulation:2})}return o})(),Gi=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({imports:[B,ce,_e,$e]})}return o})(),Ut={en:{backButton:"Back",confirmPassword:"Confirm password",createNewPassword:"Create new password",createNewPasswordPhrase:"Protect your account with a personal password created by you",currentPassword:"Current password",enterSystemButton:"Enter the system",forgotPassword:"Forgot your password?",newPassword:"New password",passwordSuccessfullyCreated:"Password successfully created!",passwordSuccessfullyUpdated:"Password successfully updated!",requirements:"Password requirements",safetyTips:"Safety tips!",safetyTipsFirst:"is used in other accounts;",safetyTipsPhrase:"Avoid a password that:",safetyTipsSecond:"has personal information like your name, nickname or family names;",safetyTipsThird:'that uses obvious sequences like "123" or obvious words like "password";',saveButton:"Save"},es:{backButton:"Volver",confirmPassword:"Confirmar se\xF1a",createNewPassword:"Crear nueva contrase\xF1a",createNewPasswordPhrase:"Proteger su cuenta con una contrase\xF1a personal creada por usted",currentPassword:"Contrase\xF1a actual",enterSystemButton:"Entrar en el sistema",forgotPassword:"\xBFOlvidaste tu contrase\xF1a?",newPassword:"Nueva contrase\xF1a",passwordSuccessfullyCreated:"Contrase\xF1a creada correctamente!",passwordSuccessfullyUpdated:"Contrase\xF1a correctamente actualizada!",requirements:"Requisitos de contrase\xF1a",safetyTips:"Consejos de seguridad!",safetyTipsFirst:"se utilice en otras cuentas;",safetyTipsPhrase:"Evite una contrase\xF1a que:",safetyTipsSecond:"utiliza informaci\xF3n personal como su nombre, apellido o nombre de familia;",safetyTipsThird:'utilice secuencias muy obvias como "1234" o "abcd" o palabras obvias como "contrase\xF1a";',saveButton:"Guardar"},pt:{backButton:"Voltar",confirmPassword:"Confirmar senha",createNewPassword:"Criar nova senha",createNewPasswordPhrase:"Proteja sua conta com uma senha pessoal criada por voc\xEA",currentPassword:"Senha atual",enterSystemButton:"Entrar no sistema",forgotPassword:"Esqueceu sua senha?",newPassword:"Nova senha",passwordSuccessfullyCreated:"Senha criada com sucesso!",passwordSuccessfullyUpdated:"Senha alterada com sucesso!",requirements:"Requisitos de senha",safetyTips:"Dicas de seguran\xE7a!",safetyTipsFirst:"seja usada em outras contas;",safetyTipsPhrase:"Evite uma senha que:",safetyTipsSecond:"usa informa\xE7\xF5es pessoais como seu nome, apelido ou nome de familiares;",safetyTipsThird:'use sequ\xEAncias muito \xF3bvias como "1234" ou "abcd" ou palavras \xF3bvias como \u201Csenha\u201D;',saveButton:"Salvar"},ru:{backButton:"\u0432\u043E\u0437\u0432\u0440\u0430\u0449\u0435\u043D\u0438\u0435",confirmPassword:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C",createNewPassword:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C",createNewPasswordPhrase:"\u0417\u0430\u0449\u0438\u0442\u0438\u0442\u0435 \u0441\u0432\u043E\u0439 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u0441 \u043F\u043E\u043C\u043E\u0449\u044C\u044E \u043B\u0438\u0447\u043D\u043E\u0433\u043E \u043F\u0430\u0440\u043E\u043B\u044F.",currentPassword:"\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u043F\u0430\u0440\u043E\u043B\u044C",enterSystemButton:"\u0412\u0445\u043E\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043C\u0443",forgotPassword:"\u0417\u0430\u0431\u044B\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C?",newPassword:"\u041D\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C",passwordSuccessfullyCreated:"\u041F\u0430\u0440\u043E\u043B\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0437\u0434\u0430\u043D!",passwordSuccessfullyUpdated:"\u041F\u0430\u0440\u043E\u043B\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0438\u0437\u043C\u0435\u043D\u0435\u043D!",requirements:"\u0422\u0440\u0435\u0431\u043E\u0432\u0430\u043D\u0438\u044F \u043A \u043F\u0430\u0440\u043E\u043B\u044E",safetyTips:"\u0421\u043E\u0432\u0435\u0442\u044B \u043F\u043E \u0431\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E\u0441\u0442\u0438!",safetyTipsFirst:"\u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u0447\u0435\u0442\u0430\u0445;",safetyTipsPhrase:"\u0418\u0437\u0431\u0435\u0433\u0430\u0439\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044F, \u043A\u043E\u0442\u043E\u0440\u044B\u0439:",safetyTipsSecond:"\u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442 \u043B\u0438\u0447\u043D\u0443\u044E \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044E, \u0442\u0430\u043A\u0443\u044E \u200B\u200B\u043A\u0430\u043A \u0432\u0430\u0448\u0435 \u0438\u043C\u044F, \u0444\u0430\u043C\u0438\u043B\u0438\u044E \u0438\u043B\u0438 \u0444\u0430\u043C\u0438\u043B\u0438\u044E;",safetyTipsThird:'\u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u043E\u0447\u0435\u043D\u044C \u043E\u0447\u0435\u0432\u0438\u0434\u043D\u044B\u0435 \u0441\u0442\u0440\u043E\u043A\u0438, \u0442\u0430\u043A\u0438\u0435 \u043A\u0430\u043A "1234" \u0438\u043B\u0438 "abcd", \u0438\u043B\u0438 \u0442\u0430\u043A\u0438\u0435 \u043E\u0447\u0435\u0432\u0438\u0434\u043D\u044B\u0435 \u0441\u043B\u043E\u0432\u0430, \u043A\u0430\u043A "\u043F\u0430\u0440\u043E\u043B\u044C";',saveButton:"\u044D\u043A\u043E\u043D\u043E\u043C\u0438\u0442\u044C"}},xr=(()=>{class o{logo;secondaryLogo;token;urlBack="/";urlNewPassword;submit=new T;confirmPassword;currentPassword;modalAction;newPassword;recoveryUrlType;showRequirements;validatorChange;_componentsSize=void 0;_hideCurrentPassword=!1;_recovery;_requirements=[];_urlHome="/";set componentsSize(e){this._componentsSize=ie(e)}get componentsSize(){return this._componentsSize??X()}set hideCurrentPassword(e){this._hideCurrentPassword=O(e)}get hideCurrentPassword(){return this._hideCurrentPassword}set recovery(e){this._recovery=e,pe(e,"string")&&(this.recoveryUrlType=de(e)?"externalLink":"internalLink")}get recovery(){return this._recovery}set requirements(e){this._requirements=e||[],this.showRequirements=this._requirements.length>0}get requirements(){return this._requirements}set urlHome(e){this._urlHome=e,this.modalAction.action=this.navigateTo.bind(this,this.urlHome)}get urlHome(){return this._urlHome}noAutocompletePassword=!0;static \u0275fac=function(i){return new(i||o)};static \u0275dir=J({type:o,inputs:{logo:[0,"p-logo","logo"],secondaryLogo:[0,"p-secondary-logo","secondaryLogo"],token:[0,"p-token","token"],urlBack:[0,"p-url-back","urlBack"],urlNewPassword:[0,"p-url-new-password","urlNewPassword"],componentsSize:[0,"p-components-size","componentsSize"],hideCurrentPassword:[0,"p-hide-current-password","hideCurrentPassword"],recovery:[0,"p-recovery","recovery"],requirements:[0,"p-requirements","requirements"],urlHome:[0,"p-url-home","urlHome"],noAutocompletePassword:[0,"p-no-autocomplete-password","noAutocompletePassword"]},outputs:{submit:"p-submit"}})}return o})(),vo=(()=>{class o{http=h(te);post(e,i){return this.http.post(e,i,{observe:"response"})}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Es=(()=>{class o extends xr{activatedRoute=h(le);route=h(le);router=h(se);service=h(vo);poComponentInjector=h(Ot);modal;pageChangePassword;passwordForm;literals=Ut[U];modalAction={action:this.navigateTo.bind(this,this.urlHome),label:this.literals.enterSystemButton};newPasswordSubscription;componentRef=null;constructor(){let e=h(q);super();let i=e.getShortLanguage();this.literals=m(m({},Ut[U]),Ut[i])}ngAfterViewInit(){this.urlNewPassword&&this.subscribeToTokenParameter()}ngOnDestroy(){this.newPasswordSubscription&&this.newPasswordSubscription.unsubscribe()}ngOnInit(){this.checkingForRouteMetadata(this.activatedRoute.snapshot.data)}navigateTo(e){de(e)?window.open(e):this.router.navigate([e||"/"])}onForgotPasswordClick(e){pe(e,"function")?e():this.createModalPasswordRecoveryComponent(e)}onLoginSubmit(){let e=this.getLoginForm();this.urlNewPassword?this.postUrlNewPassword(e):this.submit&&this.submit.observers.length&&this.emitSubmit(e)}openConfirmation(){this.modal.open()}validatePassword(){let e=this.passwordForm.form.controls,i=e.confirmPassword,t=e.newPassword;this.newPassword?this.confirmPassword?this.newPassword&&this.confirmPassword&&this.newPassword!==this.confirmPassword?this.setFormErrors({equalPassword:!0},[t,i]):this.setFormErrors(null,[i,t]):this.setFormErrors({required:!0},[i]):this.setFormErrors({required:!0},[t]),this.requirements.length&&this.requirements.find(n=>this.validateRequirement(n)===!1)&&this.setFormErrors({requirement:!0},[t])}validateRequirement(e){return typeof e.status=="function"?e.status(this.newPassword):e.status}checkingForMetadataProperty(e,i){if(Object.prototype.hasOwnProperty.call(e,i))return e[i]}checkingForRouteMetadata(e){Object.keys(e).length!==0&&(this.urlNewPassword=this.checkingForMetadataProperty(e,"serviceApi")||this.urlNewPassword,this.recovery=this.checkingForMetadataProperty(e,"recovery")||this.recovery,this.hideCurrentPassword=this.checkingForMetadataProperty(e,"hideCurrentPassword")||this.hideCurrentPassword)}createModalPasswordRecoveryComponent(e){this.componentRef&&this.poComponentInjector.destroyComponentInApplication(this.componentRef),this.componentRef=this.poComponentInjector.createComponentInApplication(yo),this.componentRef.instance.recovery=e.url,this.componentRef.instance.contactEmail=e.contactMail,this.componentRef.instance.phoneMask=e.phoneMask,this.componentRef.instance.type=e.type||N.Email,this.componentRef.changeDetectorRef.detectChanges(),setTimeout(()=>{this.componentRef.instance.open()})}emitSubmit(e){this.submit.emit(e)}getLoginForm(){return{currentPassword:this.currentPassword,newPassword:this.newPassword}}postUrlNewPassword(e){e.token=this.token,this.service.post(this.urlNewPassword,e).subscribe(i=>{i.status===204&&this.openConfirmation()})}setFormErrors(e,i){i.forEach(t=>{t.setErrors(e)})}subscribeToTokenParameter(){this.route.queryParams.subscribe(e=>{let i=e.token;i&&(this.token=i)})}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-page-change-password"]],viewQuery:function(i,t){if(i&1&&(D(Pe,7),D(Jo,7,St),D(Qo,7,re)),i&2){let n;M(n=x())&&(t.modal=n.first),M(n=x())&&(t.pageChangePassword=n.first),M(n=x())&&(t.passwordForm=n.first)}},standalone:!1,features:[ee],decls:43,vars:32,consts:[["pageChangePassword",""],["passwordForm","ngForm"],[1,"po-page-change-password-wrapper"],[1,"po-page-change-password-container"],[1,"po-page-change-password",3,"p-components-size","p-logo","p-secondary-logo"],[1,"po-page-blocked-user-header","po-row"],[1,"po-md-12"],[1,"po-md-12","po-text-center","po-font-text"],[1,"po-row","po-mt-3","po-mt-sm-1"],[1,"po-md-6",3,"ngClass"],[1,"po-text-center","po-mb-sm-1","po-mb-2"],["name","newPassword","p-required","",3,"ngModelChange","p-change-model","ngModel","p-label","p-no-autocomplete","p-size"],["name","confirmPassword","p-required","",3,"ngModelChange","p-change-model","ngModel","p-label","p-no-autocomplete","p-size"],[1,"po-md-6","po-page-change-password-required-container"],[1,"po-sm-12"],[1,"po-page-change-password-tips","po-row"],[1,"po-md-2","po-mr-3"],["alt","Blocked user image","src","./assets/images/big-lock.svg",1,"po-page-change-password-lock-image","po-mb-3"],[1,"po-md-9","po-page-change-password-tips-text"],[1,"po-font-text-bold","po-pb-1"],[1,"po-font-text-small"],[1,"po-row","po-pb-1"],[1,"po-page-change-password-buttons","po-row"],[1,"po-sm-12","po-mobile-only"],[1,"po-sm-6","po-mb-sm-1",3,"p-label","p-size"],["p-kind","primary",3,"p-click","ngClass","p-disabled","p-label","p-size"],["p-hide-close","","p-size","auto",3,"p-primary-action","p-components-size","p-title"],[1,"po-text-center"],["alt","Blocked user image","src","./assets/images/success.svg",1,"po-page-change-password-lock-image","po-mb-3"],["name","currentPassword","p-required","",3,"ngModelChange","ngModel","p-label","p-no-autocomplete","p-size"],[1,"po-font-text-bold","po-page-change-password-forgot-password",3,"routerLink"],[1,"po-font-text-bold","po-page-change-password-forgot-password",3,"href"],[1,"po-font-text-bold","po-page-change-password-forgot-password","po-clickable"],[1,"po-font-text-bold","po-page-change-password-forgot-password","po-clickable",3,"click"],[1,"po-page-change-password-required-list"],[1,"po-page-change-password-required-item"],[1,"po-mb-1","po-font-text-bold","po-page-change-password-required-title"],[1,"po-icon","po-page-change-password-required-icon",3,"p-icon"],[1,"po-page-change-password-required-text","po-font-text"],[1,"po-sm-6","po-mb-sm-1",3,"p-click","p-label","p-size"]],template:function(i,t){if(i&1){let n=C();a(0,"div",2,0)(2,"div",3)(3,"po-page-background",4)(4,"div",5)(5,"div",6),v(6),l(),a(7,"div",7),v(8),l()(),a(9,"form",null,1)(11,"div",8)(12,"div",9),P(13,Ko,2,4,"div")(14,Zo,4,3,"div",10),a(15,"div")(16,"po-password",11),k("ngModelChange",function(c){return g(n),A(t.newPassword,c)||(t.newPassword=c),f(c)}),w("p-change-model",function(){return g(n),f(t.validatePassword())}),l()(),a(17,"div")(18,"po-password",12),k("ngModelChange",function(c){return g(n),A(t.confirmPassword,c)||(t.confirmPassword=c),f(c)}),w("p-change-model",function(){return g(n),f(t.validatePassword())}),l()()(),P(19,tn,8,1,"div",13),l()(),_(20,"po-divider",14),a(21,"div",15)(22,"div",16),_(23,"img",17),l(),a(24,"div",18)(25,"div",19),v(26),l(),a(27,"div",20)(28,"div",21),v(29),l(),a(30,"div",21),v(31),l(),a(32,"div",21),v(33),l(),a(34,"div",21),v(35),l()()()(),a(36,"div",22),_(37,"po-divider",23),P(38,on,1,2,"po-button",24),a(39,"po-button",25),w("p-click",function(){return g(n),f(t.onLoginSubmit())}),l()()()()(),a(40,"po-modal",26)(41,"div",27),_(42,"img",28),l()()}if(i&2){let n=K(10);r(3),d("p-components-size",t.componentsSize)("p-logo",t.logo)("p-secondary-logo",t.secondaryLogo),r(3),V(t.literals.createNewPassword),r(2),S(" ",t.literals.createNewPasswordPhrase," "),r(4),d("ngClass",ai(30,$o,!t.showRequirements)),r(),b(t.hideCurrentPassword?-1:13),r(),b(!t.hideCurrentPassword&&t.recovery?14:-1),r(2),E("ngModel",t.newPassword),d("p-label",t.literals.newPassword)("p-no-autocomplete",t.noAutocompletePassword)("p-size",t.componentsSize),r(2),E("ngModel",t.confirmPassword),d("p-label",t.literals.confirmPassword)("p-no-autocomplete",t.noAutocompletePassword)("p-size",t.componentsSize),r(),b(t.showRequirements?19:-1),r(7),V(t.literals.safetyTips),r(3),V(t.literals.safetyTipsPhrase),r(2),S("\u2022 ",t.literals.safetyTipsFirst,""),r(2),S("\u2022 ",t.literals.safetyTipsSecond,""),r(2),S("\u2022 ",t.literals.safetyTipsThird,""),r(3),b(t.hideCurrentPassword?-1:38),r(),d("ngClass",t.hideCurrentPassword?"po-md-12":"po-sm-6")("p-disabled",n.invalid)("p-label",t.literals.saveButton)("p-size",t.componentsSize),r(),d("p-primary-action",t.modalAction)("p-components-size",t.componentsSize)("p-title",t.hideCurrentPassword?t.literals.passwordSuccessfullyCreated:t.literals.passwordSuccessfullyUpdated)}},dependencies:[Ve,ve,Se,ye,Ee,re,Lt,Be,It,qe,Vt,me,Pe,Qt],encapsulation:2})}return o})(),Yi=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({providers:[vo],imports:[B,G,ce,_e,$e]})}return o})(),Dr={en:{errorRenderPage:"Error loading page",notPossibleLoadMetadataPage:"The page metadata could not be loaded"},es:{errorRenderPage:"Error al cargar la p\xE1gina",notPossibleLoadMetadataPage:"No se pudieron cargar los metadatos de la p\xE1gina."},pt:{errorRenderPage:"Erro ao carregar a p\xE1gina",notPossibleLoadMetadataPage:"N\xE3o foi poss\xEDvel carregar os metadados da p\xE1gina"},ru:{errorRenderPage:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B",notPossibleLoadMetadataPage:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u043C\u0435\u0442\u0430\u0434\u0430\u043D\u043D\u044B\u0435 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B"}},Ce=(()=>{class o{http=h(te);notification=h(ke);headers=new fe({"X-PO-SCREEN-LOCK":"true"});endpoint="/";language;metadata;constructor(){let e=h(q);this.language=e.getShortLanguage()}configServiceApi(e={}){this.endpoint=e.endpoint,this.metadata=e.metadata||this.metadata}getMetadata(e="list"){let i=`${this.endpoint}-${e}-metadata`,t=JSON.parse(localStorage.getItem(i))||{},s=`${this.metadata||`${this.endpoint}/metadata`}?type=${e}&version=${t.version||""}`;return this.http.get(s).pipe(ue(c=>c.version!==void 0&&c.version===t.version?t:(localStorage.setItem(i,JSON.stringify(c)),m(m({},t),c))),et(c=>{if(Object.keys(t).length)return z(t);let{errorRenderPage:y,notPossibleLoadMetadataPage:L}=Dr[this.language];return this.notification.warning(L),ii(z({title:y}),Ze(c))}))}deleteResource(e,i){let t=this.getLocalEndPoint(i,!0),n=e?`${t}/${e}`:t;return this.http.delete(n,{headers:this.headers})}deleteResources(e,i){return this.http.request("delete",`${this.getLocalEndPoint(i)}`,{headers:this.headers,body:e})}getResources(e,i){return this.http.get(this.getLocalEndPoint(i),{headers:this.headers,params:e})}getResource(e,i){return this.http.get(`${this.getLocalEndPoint(i,!0)}/${e}`,{headers:this.headers})}createResource(e,i){return this.http.post(`${this.getLocalEndPoint(i)}`,e,{headers:this.headers})}updateResource(e,i,t){return this.http.put(`${this.getLocalEndPoint(t,!0)}/${e}`,i,{headers:this.headers})}getLocalEndPoint(e,i=!1){return e=e??this.endpoint,i&&(e=e==="/"?"":e),e}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Ge=(()=>{class o{http=h(te);getCustomOptions(e,i,t){return this.createObservable(e).pipe(ue(n=>this.mergePageOptions(i,n,t)))}changeOriginalOptionsToNewOptions(e,i){Object.keys(i).forEach(t=>{let n=i[t];if(t in e){if(Array.isArray(n)){e[t]=[...n];return}if(typeof n=="number"||typeof n=="string"||typeof n=="boolean"){e[t]=n;return}n!==null&&typeof n=="object"&&(e[t]=m({},n))}})}createObservable(e){return typeof e=="string"?this.http.post(e,{}):ti(Promise.resolve(e()))}mergePageOptions(e,i,t){let n=t.schema.reduce((s,c)=>ne(m({},s),{[c.nameProp]:this.createNewProp(c,e,i)}),{});return Object.keys(n).forEach(s=>n[s]===void 0&&delete n[s]),n}createNewProp(e,i,t){return e.merge?this.mergeOptions(i[e.nameProp],t[e.nameProp],e.keyForMerge):t[e.nameProp]??i[e.nameProp]}mergeOptions(e,i,t){if(!(!e&&!i))return i?e?e instanceof Array&&i instanceof Array?this.mergeOptionsArray(e,i,t):m(m({},e),i):i:e}mergeOptionsArray(e,i,t){let n=i.filter(c=>!e.find(y=>y[t]===c[t]));return[...e.map(c=>{let y=i.find(L=>c[t]===L[t])||c;return m(m({},c),y)}),...n]}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Xi=(()=>{class o{http=h(te);headers=new fe({"X-PO-SCREEN-LOCK":"true"});beforeBack(e){return this.executeAction({action:e})}beforeEdit(e,i,t){let n=t??{};return this.executeAction({action:e,resource:n,id:i})}beforeRemove(e,i,t){let n=t??{};return this.executeAction({action:e,resource:n,id:i})}executeAction({action:e,resource:i={},id:t}){if(!e)return z({});if(typeof e=="string"){let n=t?`${e}/${t}`:e;return this.http.post(n,i,{headers:this.headers})}return z(e(t,i))}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Zi={en:{pageActionEdit:"Edit",pageActionRemove:"Delete",pageActionBack:"Back",confirmRemoveTitle:"Confirm delete",confirmRemoveMessage:"Are you sure you want to delete this record? You can not undo this action.",removeNotificationSuccess:"Item deleted successfully.",registerNotFound:"Register not found."},es:{pageActionEdit:"Editar",pageActionRemove:"Borrar",pageActionBack:"Regreso",confirmRemoveTitle:"Confirmar la exclusi\xF3n",confirmRemoveMessage:"\xBFEst\xE1 seguro de que desea eliminar este registro? No puede deshacer esta acci\xF3n.",removeNotificationSuccess:"Elemento eliminado con \xE9xito.",registerNotFound:"Registro no encontrado."},pt:{pageActionEdit:"Editar",pageActionRemove:"Excluir",pageActionBack:"Voltar",confirmRemoveTitle:"Confirmar exclus\xE3o",confirmRemoveMessage:"Tem certeza de que deseja excluir esse registro? Voc\xEA n\xE3o poder\xE1 desfazer essa a\xE7\xE3o.",removeNotificationSuccess:"Item exclu\xEDdo com sucesso.",registerNotFound:"Registro n\xE3o encontrado."},ru:{pageActionEdit:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",pageActionRemove:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",pageActionBack:"\u041D\u0430\u0437\u0430\u0434",confirmRemoveTitle:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F",confirmRemoveMessage:"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u044D\u0442\u0443 \u0437\u0430\u043F\u0438\u0441\u044C?  \u0412\u044B \u043D\u0435 \u043C\u043E\u0436\u0435\u0442\u0435 \u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u044D\u0442\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435.",removeNotificationSuccess:"\u042D\u043B\u0435\u043C\u0435\u043D\u0442 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D.",registerNotFound:"\u0417\u0430\u043F\u0438\u0441\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430."}},Lr=(()=>{class o{router=h(se);activatedRoute=h(le);poNotification=h(ke);poDialogService=h(We);poPageDynamicService=h(Ce);poPageDynamicDetailActionsService=h(Xi);poPageCustomizationService=h(Ge);breadcrumb={items:[]};onLoad;title;serviceApi;literals;model={};subscriptions=[];_actions={};_autoRouter=!1;_componentsSize=void 0;_duplicates=[];_fields=[];_keys=[];_pageActions=[];set actions(e){this._actions=this.isObject(e)?e:{},this._pageActions=this.getPageActions(this._actions)}get actions(){return m({},this._actions)}set autoRouter(e){this._autoRouter=O(e)}get autoRouter(){return this._autoRouter}set componentsSize(e){this._componentsSize=ie(e)}get componentsSize(){return this._componentsSize??X()}set fields(e){this._fields=Array.isArray(e)?[...e]:[],this._keys=this.getKeysByFields(this.fields),this._duplicates=this.getDuplicatesByFields(this.fields)}get fields(){return this._fields}constructor(){let i=h(q).getShortLanguage();this.literals=m(m({},Zi[U]),Zi[i])}ngOnInit(){this.loadDataFromAPI()}ngOnDestroy(){this.subscriptions&&this.subscriptions.forEach(e=>{e.unsubscribe()})}get duplicates(){return[...this._duplicates]}get keys(){return[...this._keys]}get pageActions(){return[...this._pageActions]}remove(e,i){let t=this.formatUniqueKey(this.model);this.subscriptions.push(this.poPageDynamicDetailActionsService.beforeRemove(i,t,m({},this.model)).pipe(Z(n=>{let s=n?.newUrl??e;return n?.allowAction??!0?typeof s=="string"?this.executeRemove(s,t):(s(t,m({},this.model)),Y):z({})})).subscribe())}confirmRemove(e,i){let t={title:this.literals.confirmRemoveTitle,message:this.literals.confirmRemoveMessage,confirm:this.remove.bind(this,e,i)};this.poDialogService.confirm(t)}executeRemove(e,i){return this.poPageDynamicService.deleteResource(i).pipe(ue(()=>{this.poNotification.success(this.literals.removeNotificationSuccess),this.navigateTo({path:e})}))}formatUniqueKey(e){let i=Qe(e,this.keys);return vt(i).join("|")}goBack(e){this.subscriptions.push(this.poPageDynamicDetailActionsService.beforeBack(this.actions.beforeBack).subscribe(i=>this.executeBackAction(e,i?.allowAction,i?.newUrl)))}executeBackAction(e,i,t){if(typeof i=="boolean"?i:!0)return e===void 0||typeof e=="boolean"?window.history.back():typeof e=="string"||t?this.router.navigate([t||e]):e()}loadData(e){return this.poPageDynamicService.getResource(e).pipe(H(i=>{i?this.model=i:this.setUndefinedToModelAndActions()}),et(i=>(this.setUndefinedToModelAndActions(),Ze(i))))}setUndefinedToModelAndActions(){this.model=void 0,this.actions=void 0}getMetadata(e,i){return e?this.poPageDynamicService.getMetadata("detail").pipe(H(t=>{this.autoRouter=t.autoRouter||this.autoRouter,this.actions=t.actions||this.actions,this.breadcrumb=t.breadcrumb||this.breadcrumb,this.fields=t.fields||this.fields,this.title=t.title||this.title}),Z(()=>this.loadOptionsOnInitialize(i))):this.loadOptionsOnInitialize(i)}navigateTo(e,i=!1){this.router.navigate([e.url||e.path],{queryParams:e.params}).catch(()=>{i||!this.autoRouter||(this.router.config.unshift({path:e.path,component:e.component,data:{serviceApi:this.serviceApi,autoRouter:!0}}),this.navigateTo(e,!0))})}openEdit(e){let i=this.formatUniqueKey(this.model);this.subscriptions.push(this.poPageDynamicDetailActionsService.beforeEdit(this.actions.beforeEdit,i,this.model).pipe(Z(t=>this.executeEditAction(e,t,i))).subscribe())}executeEditAction(e,i,t){let n=i?.newUrl??e;return i?.allowAction??!0?(typeof n=="string"?this.openEditUrl(n):n(t,m({},this.model)),Y):z({})}openEditUrl(e){let i=this.resolveUrl(this.model,e);this.navigateTo({path:e,url:i})}resolveUrl(e,i){let t=this.formatUniqueKey(e);return i.replace(/:id/g,t)}getPageActions(e={}){let i=[];return e.edit&&i.push({label:this.literals.pageActionEdit,action:this.openEdit.bind(this,e.edit)}),e.remove&&i.push({label:this.literals.pageActionRemove,action:this.confirmRemove.bind(this,e.remove,this.actions.beforeRemove),type:"danger"}),(e.back===void 0||e.back)&&i.push({label:this.literals.pageActionBack,action:this.goBack.bind(this,e.back)}),i}getKeysByFields(e=[]){return e.filter(i=>i.key===!0).map(i=>i.property)}getDuplicatesByFields(e=[]){return e.filter(i=>i.duplicate===!0).map(i=>i.property)}isObject(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}loadDataFromAPI(){let{serviceApi:e,serviceMetadataApi:i,serviceLoadApi:t}=this.activatedRoute.snapshot.data,{id:n}=this.activatedRoute.snapshot.params,s=t||this.onLoad;this.serviceApi=e||this.serviceApi,this.poPageDynamicService.configServiceApi({endpoint:this.serviceApi,metadata:i});let c=this.getMetadata(e,s),y=this.loadData(n);this.subscriptions.push(bt(c,y).subscribe())}loadOptionsOnInitialize(e){return e?this.getPoDynamicPageOptions(e).pipe(H(i=>this.poPageCustomizationService.changeOriginalOptionsToNewOptions(this,i))):Y}getPoDynamicPageOptions(e){let i={fields:this.fields,actions:this.actions,breadcrumb:this.breadcrumb,title:this.title},t={schema:[{nameProp:"fields",merge:!0,keyForMerge:"property"},{nameProp:"actions",merge:!0},{nameProp:"breadcrumb"},{nameProp:"title"}]};return this.poPageCustomizationService.getCustomOptions(e,i,t)}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-page-dynamic-detail"]],inputs:{breadcrumb:[0,"p-breadcrumb","breadcrumb"],onLoad:[0,"p-load","onLoad"],title:[0,"p-title","title"],serviceApi:[0,"p-service-api","serviceApi"],actions:[0,"p-actions","actions"],autoRouter:[0,"p-auto-router","autoRouter"],componentsSize:[0,"p-components-size","componentsSize"],fields:[0,"p-fields","fields"]},standalone:!1,features:[we([Ce,Xi])],decls:3,vars:5,consts:[[3,"p-actions","p-breadcrumb","p-components-size","p-title"],[3,"p-fields","p-value"],["p-icon","ICON_INFO"],[1,"po-font-text-large"]],template:function(i,t){i&1&&(a(0,"po-page-default",0),P(1,nn,1,2,"po-dynamic-view",1)(2,rn,4,1,"po-widget"),l()),i&2&&(d("p-actions",t.pageActions)("p-breadcrumb",t.breadcrumb)("p-components-size",t.componentsSize)("p-title",t.title),r(),b(t.model?1:2))},dependencies:[Bt,me,pt,mt],encapsulation:2})}return o})(),Ke=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({providers:[Ce],imports:[B]})}return o})(),eo=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({imports:[B,G,ce,Ue,Ne,at,je,ht,Ke]})}return o})(),Tr=(()=>{class o{http=h(te);headers=new fe({"X-PO-SCREEN-LOCK":"true"});beforeCancel(e){return this.executeAction({action:e})}beforeSave(e,i,t){let n=t??{};return this.executeAction({action:e,resource:n,id:i})}beforeSaveNew(e,i,t){let n=t??{};return this.executeAction({action:e,resource:n,id:i})}executeAction({action:e,resource:i={},id:t}){if(!e)return z({});if(typeof e=="string"){let n=t?`${e}/${t}`:e;return this.http.post(n,i,{headers:this.headers})}return z(e(i,t))}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Fr=["error","warning"],to="warning",gt={en:{cancelConfirmMessage:"Are you sure you want to cancel this operation?",detailActionNew:"New",pageActionCancel:"Cancel",pageActionSave:"Save",pageActionSaveNew:"Save and new",registerNotFound:"Register not found.",saveNotificationError:"Mandatory field(s) not filled.",saveNotificationSuccessSave:"Resource successfully saved.",saveNotificationSuccessUpdate:"Resource successfully updated.",saveNotificationWarning:"Form must be filled out correctly."},es:{cancelConfirmMessage:"Est\xE1 seguro de que desea cancelar esta operaci\xF3n?",detailActionNew:"Nuevo",pageActionCancel:"Cancelar",pageActionSave:"Guardar",pageActionSaveNew:"Guardar y nuevo",registerNotFound:"Registro no encontrado.",saveNotificationError:"Campo(s) obligatorio(s) no completado(s).",saveNotificationSuccessSave:"Recurso salvo con \xE9xito.",saveNotificationSuccessUpdate:"Recurso actualizado con \xE9xito.",saveNotificationWarning:"El formulario debe llenarse correctamente."},pt:{cancelConfirmMessage:"Tem certeza que deseja cancelar esta opera\xE7\xE3o?",detailActionNew:"Novo",pageActionCancel:"Cancelar",pageActionSave:"Salvar",pageActionSaveNew:"Salvar e novo",registerNotFound:"Registro n\xE3o encontrado.",saveNotificationError:"Campo(s) obrigat\xF3rio(s) sem preenchimento.",saveNotificationSuccessSave:"Recurso salvo com sucesso.",saveNotificationSuccessUpdate:"Recurso atualizado com sucesso.",saveNotificationWarning:"Formul\xE1rio precisa ser preenchido corretamente."},ru:{cancelConfirmMessage:"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u044D\u0442\u0443 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044E?",detailActionNew:"\u041D\u043E\u0432\u044B\u0439",pageActionCancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",pageActionSave:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",pageActionSaveNew:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438 \u0441\u043E\u0437\u0434\u0430\u0442\u044C",registerNotFound:"\u0417\u0430\u043F\u0438\u0441\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430.",saveNotificationError:"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043B\u0435(\u044F) \u043D\u0435 \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E.",saveNotificationSuccessSave:"\u0420\u0435\u0441\u0443\u0440\u0441 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D.",saveNotificationSuccessUpdate:"\u0420\u0435\u0441\u0443\u0440\u0441 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D.",saveNotificationWarning:"\u0424\u043E\u0440\u043C\u0430 \u0434\u043E\u043B\u0436\u043D\u0430 \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0430 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E."}},As=(()=>{class o{router=h(se);activatedRoute=h(le);poNotification=h(ke);poDialogService=h(We);poPageDynamicService=h(Ce);poPageCustomizationService=h(Ge);poPageDynamicEditActionsService=h(Tr);dynamicForm;gridDetail;breadcrumb={items:[]};serviceApi;title;onLoad;onLoadData;model={};detailActions={};indexFocus=0;language;subscriptions=[];_actions={};_componentsSize=void 0;_literals;_autoRouter=!1;_controlFields=[];_detailFields=[];_duplicates=[];_fields=[];_keys=[];_pageActions=[];_notificationType=to;set actions(e){this._actions=this.isObject(e)?e:{},this._pageActions=this.getPageActions(this._actions)}get actions(){return m({},this._actions)}set literals(e){e instanceof Object&&!(e instanceof Array)?this._literals=m(m(m({},gt[U]),gt[this.language]),e):this._literals=gt[this.language],this._pageActions=this.getPageActions(this._actions)}get literals(){return this._literals||gt[this.language]}set notificationType(e){this._notificationType=Fr.includes(e)?e:to}get notificationType(){return this._notificationType}set autoRouter(e){this._autoRouter=O(e)}get autoRouter(){return this._autoRouter}set fields(e){this._fields=Array.isArray(e)?[...e]:[],this._keys=this.getKeysByFields(this._fields),this._duplicates=this.getDuplicatesByFields(this._fields),this._controlFields=this.getControlFields(this._fields),this._detailFields=this.getDetailFields(this._fields)}get fields(){return this._fields}set componentsSize(e){this._componentsSize=ie(e)}get componentsSize(){return this._componentsSize??X()}constructor(){let e=h(q);this.language=e.getShortLanguage()}ngOnInit(){this.loadDataFromAPI()}ngOnDestroy(){this.subscriptions&&this.subscriptions.forEach(e=>{e.unsubscribe()})}detailActionNew(){this.gridDetail.insertRow()}showAdditionalHelp(e){this.dynamicForm.showAdditionalHelp(e)}get duplicates(){return[...this._duplicates]}get keys(){return[...this._keys]}get pageActions(){return[...this._pageActions]}get controlFields(){return this._controlFields}get detailFields(){return this._detailFields}loadDataFromAPI(){let{serviceApi:e,serviceMetadataApi:i,serviceLoadApi:t}=this.activatedRoute.snapshot.data,{id:n}=this.activatedRoute.snapshot.params,{duplicate:s}=this.activatedRoute.snapshot.queryParams,c=t||this.onLoad;this.serviceApi=e||this.serviceApi,this.poPageDynamicService.configServiceApi({endpoint:this.serviceApi,metadata:i});let y=this.getMetadata(e,n,c),L=this.loadData(n,s);this.subscriptions.push(bt(y,L).subscribe())}cancel(e,i){this.dynamicForm&&this.dynamicForm.form.dirty?this.poDialogService.confirm({message:this.literals.cancelConfirmMessage,title:this.literals.pageActionCancel,confirm:this.goBack.bind(this,e,i)}):this.goBack(e,i)}formatUniqueKey(e){let i=Qe(e,this.keys);return vt(i).join("|")}goBack(e,i){this.subscriptions.push(this.poPageDynamicEditActionsService.beforeCancel(i).subscribe(t=>{this.executeBackAction(e,t?.allowAction,t?.newUrl)}))}executeBackAction(e,i,t){if(typeof i=="boolean"?i:!0)return e===void 0||typeof e=="boolean"?window.history.back():typeof e=="string"||t?this.router.navigate([t||e]):e()}loadData(e,i){if(!e){try{this.model=i?JSON.parse(i):{}}catch{this.model={}}return Y}return this.poPageDynamicService.getResource(e).pipe(H(t=>{this.beforeSetModel(t)}),et(t=>(this.model=void 0,this.actions=void 0,this._pageActions=[],Ze(t))))}beforeSetModel(e){if(!this.onLoadData){this.model=e;return}let i=this.onLoadData(e);(i instanceof ei?i:z(i)).subscribe({next:n=>{this.model=n},error:()=>{this.model=e}})}loadOptionsOnInitialize(e){return e?this.getPoDynamicPageOptions(e).pipe(H(i=>this.poPageCustomizationService.changeOriginalOptionsToNewOptions(this,i))):Y}focusCheckboxInput(e){let i=document.querySelector(`po-checkbox-group[ng-reflect-name=${e}]`);if(i){let n=i.querySelector("po-checkbox[ng-reflect-disabled=false]")?.querySelector(".po-checkbox-outline");n?n.focus():this.indexFocus--}}focusControl(e){let i=document.querySelector(`[name=${e}]`);i?i.tagName==="INPUT"?i.focus():this.focusRadioInput(i,e):this.focusCheckboxInput(e)}focusRadioInput(e,i){let t=e.querySelector(`po-radio[ng-reflect-name=${i}][ng-reflect-disabled=false]`);if(t){let n=t.querySelector("input");n.focus(),n.parentElement.parentElement.classList.add("po-radio-focus")}else this.indexFocus--}getPoDynamicPageOptions(e){let i={fields:this.fields,actions:this.actions,breadcrumb:this.breadcrumb,title:this.title},t={schema:[{nameProp:"fields",merge:!0,keyForMerge:"property"},{nameProp:"actions",merge:!0},{nameProp:"breadcrumb"},{nameProp:"title"}]};return this.poPageCustomizationService.getCustomOptions(e,i,t)}getMetadata(e,i,t){let n=i?"edit":"create";return e?this.poPageDynamicService.getMetadata(n).pipe(H(s=>{this.autoRouter=s.autoRouter||this.autoRouter,this.actions=s.actions||this.actions,this.breadcrumb=s.breadcrumb||this.breadcrumb,this.fields=s.fields||this.fields,this.title=s.title||this.title}),Z(()=>this.loadOptionsOnInitialize(t))):this.loadOptionsOnInitialize(t)}markControlsAsDirtyAndFocusFirstInvalid(){this.indexFocus=0,Object.keys(this.dynamicForm.form.controls).forEach(i=>{this.dynamicForm.form.controls[i].markAsDirty(),this.dynamicForm.form.controls[i].hasError("required")&&this.indexFocus===0&&(this.focusControl(i),this.indexFocus++)})}navigateTo(e){if(e){let i=this.resolveUrl(this.model,e);this.router.navigate([i])}else window.history.back()}resolveUniqueKey(e){return this.activatedRoute.snapshot.params.id?this.formatUniqueKey(e):void 0}resolveUrl(e,i){let t=this.formatUniqueKey(e);return i.replace(/:id/g,t)}executeSave(e){return this.saveOperation().pipe(H(t=>{this.poNotification.success(t),this.navigateTo(e)}))}updateModel(e={}){if(typeof e<"u"&&Object.keys(e).length!==0){let i=this.dynamicForm.form;He(this.keys,e),this.model=m(m({},this.model),e),i.form.patchValue(this.model)}}showNotification(e){switch(e){case"warning":this.poNotification.warning(this.literals.saveNotificationWarning);break;case"error":this.poNotification.error(this.literals.saveNotificationError);break}}saveOperation(){if(this.dynamicForm.form.invalid)return this.markControlsAsDirtyAndFocusFirstInvalid(),this.showNotification(this._notificationType),Y;let e=this.activatedRoute.snapshot.params.id,i=e?this.literals.saveNotificationSuccessUpdate:this.literals.saveNotificationSuccessSave;return(e?this.poPageDynamicService.updateResource(e,this.model):this.poPageDynamicService.createResource(this.model)).pipe(ue(()=>i))}save(e,i="beforeSave"){let t={beforeSave:this.executeSave.bind(this),beforeSaveNew:this.executeSaveNew.bind(this)},n=this.resolveUniqueKey(this.model);this.subscriptions.push(this.poPageDynamicEditActionsService[i](this.actions[i],n,m({},this.model)).pipe(Z(s=>{let c=s?.newUrl??e,y=s?.allowAction??!0;return this.updateModel(s?.resource),y?typeof c=="string"?t[i](c):(c(m({},this.model),n),Y):z({})})).subscribe())}executeSaveNew(e){let i=this.activatedRoute.snapshot.params.id;return this.saveOperation().pipe(H(n=>{i?(this.poNotification.success(n),this.navigateTo(e)):(this.poNotification.success(n),this.model={},this.dynamicForm.form.reset())}))}getKeysByFields(e=[]){return e.filter(i=>i.key===!0).map(i=>i.property)}getControlFields(e=[]){return e.filter(i=>i.type!=="detail")}getDetailFields(e=[]){return e.filter(i=>i.type==="detail")}getDuplicatesByFields(e=[]){return e.filter(i=>i.duplicate===!0).map(i=>i.property)}getPageActions(e={}){let i=[{label:this.literals.pageActionSave,action:this.save.bind(this,e.save)}];return e.saveNew&&i.push({label:this.literals.pageActionSaveNew,action:this.save.bind(this,e.saveNew,"beforeSaveNew")}),(e.cancel===void 0||e.cancel)&&i.push({label:this.literals.pageActionCancel,action:this.cancel.bind(this,e.cancel,this.actions.beforeCancel)}),i}isObject(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-page-dynamic-edit"]],viewQuery:function(i,t){if(i&1&&(D(sn,5),D(an,5)),i&2){let n;M(n=x())&&(t.dynamicForm=n.first),M(n=x())&&(t.gridDetail=n.first)}},inputs:{breadcrumb:[0,"p-breadcrumb","breadcrumb"],serviceApi:[0,"p-service-api","serviceApi"],title:[0,"p-title","title"],onLoad:[0,"p-load","onLoad"],onLoadData:[0,"p-load-data","onLoadData"],actions:[0,"p-actions","actions"],literals:[0,"p-literals","literals"],notificationType:[0,"p-notification-type","notificationType"],autoRouter:[0,"p-auto-router","autoRouter"],fields:[0,"p-fields","fields"],componentsSize:[0,"p-components-size","componentsSize"]},standalone:!1,features:[we([Ce])],decls:3,vars:5,consts:[["dynamicForm",""],["gridDetail",""],[3,"p-actions","p-breadcrumb","p-components-size","p-title"],[3,"p-components-size","p-fields","p-value"],[1,"po-sm-12"],[3,"p-label"],[1,"po-row","po-mb-2"],[3,"p-click","p-size","p-label"],[3,"p-row-actions","p-columns","p-data"],["p-icon","ICON_INFO"],[1,"po-font-text-large"]],template:function(i,t){i&1&&(a(0,"po-page-default",2),P(1,cn,3,4)(2,pn,4,1,"po-widget"),l()),i&2&&(d("p-actions",t.pageActions)("p-breadcrumb",t.breadcrumb)("p-components-size",t.componentsSize)("p-title",t.title),r(),b(t.model?1:2))},dependencies:[Be,qe,Me,Fi,me,pt,mt],encapsulation:2})}return o})(),io=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({imports:[B,G,ce,Ft,rt,Ue,Ii,Ne,je,ht,Ke]})}return o})(),_t=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({providers:[Ge],imports:[B]})}return o})(),j={en:{title:"Advanced search",cancelLabel:"Cancel",confirmLabel:"Apply filters"},es:{title:"B\xFAsqueda avanzada",cancelLabel:"Cancelar",confirmLabel:"Aplicar filtros"},pt:{title:"Busca avan\xE7ada",cancelLabel:"Cancelar",confirmLabel:"Aplicar filtros"},ru:{title:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u044B\u0439 \u043F\u043E\u0438\u0441\u043A",cancelLabel:"\u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",confirmLabel:"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440\u044B"}},Ir=(()=>{class o{poModal;keepFilters=!1;searchEvent=new T;filter={};language=U;primaryAction={action:()=>{let e=this.getValuesFromForm();this.searchEvent.emit(e),this.poModal.close()},label:this.literals.confirmLabel};secondaryAction={action:()=>{this.poModal.close()},label:this.literals.cancelLabel};optionsServiceChosenOptions=[];_componentsSize=void 0;_filters=[];_literals;set componentsSize(e){this._componentsSize=ie(e)}get componentsSize(){return this._componentsSize??X()}set filters(e){this._filters=Array.isArray(e)?[...e]:[]}get filters(){return this._filters}set literals(e){e instanceof Object&&!(e instanceof Array)?this._literals=m(m(m({},j[U]),j[this.language]),e):this._literals=j[this.language],this.primaryAction.label=this.literals.confirmLabel,this.secondaryAction.label=this.literals.cancelLabel}get literals(){return this._literals||j[this.language]}constructor(e){this.language=e.getShortLanguage()}getValuesFromForm(){let e;return Object.keys(this.filter).forEach(i=>{(this.filter[i]===void 0||this.filter[i]==="")&&delete this.filter[i]}),this.optionsServiceChosenOptions.length&&(e=this.optionsServiceChosenOptions.filter(i=>Object.values(this.filter).includes(i.value))),{filter:this.filter,optionsService:e}}static \u0275fac=function(i){return new(i||o)(W(q))};static \u0275dir=J({type:o,viewQuery:function(i,t){if(i&1&&D(Pe,7),i&2){let n;M(n=x())&&(t.poModal=n.first)}},inputs:{keepFilters:[2,"p-keep-filters","keepFilters",O],componentsSize:[0,"p-components-size","componentsSize"],filters:[0,"p-filters","filters"],literals:[0,"p-literals","literals"]},outputs:{searchEvent:"p-search-event"},features:[Le]})}return o})(),oo=(()=>{class o extends Ir{poDynamicForm;subscription=new Xe;constructor(){let e=h(q);super(e)}ngOnInit(){this.optionsServiceSubscribe()}ngOnDestroy(){this.subscription.unsubscribe()}open(){this.filter=this.keepFilters?this.getInitialValuesFromFilter(this.filters):{},this.poModal.open()}getOptionsServiceItem(e){this.optionsServiceChosenOptions.map(t=>t.value).indexOf(e.value)===-1&&(this.optionsServiceChosenOptions=[...this.optionsServiceChosenOptions,e])}getInitialValuesFromFilter(e){return e.reduce((i,t)=>Object.assign(i,{[t.property]:t.initValue}),{})}optionsServiceSubscribe(){this.subscription.add(this.poDynamicForm.getObjectValue().subscribe(e=>{e&&this.getOptionsServiceItem(e)}))}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-advanced-filter"]],viewQuery:function(i,t){if(i&1&&D(Me,7),i&2){let n;M(n=x())&&(t.poDynamicForm=n.first)}},standalone:!1,features:[ee],decls:2,vars:7,consts:[["p-hide-close","",3,"p-primary-action","p-secondary-action","p-components-size","p-title"],[3,"p-components-size","p-fields","p-value"]],template:function(i,t){i&1&&(a(0,"po-modal",0),_(1,"po-dynamic-form",1),l()),i&2&&(d("p-primary-action",t.primaryAction)("p-secondary-action",t.secondaryAction)("p-components-size",t.componentsSize)("p-title",t.literals.title),r(),d("p-components-size",t.componentsSize)("p-fields",t.filters)("p-value",t.filter))},dependencies:[Me,Pe],encapsulation:2})}return o})(),ft={en:{disclaimerGroupTitle:"Displaying results filtered by:",filterTitle:j.en.title,filterCancelLabel:j.en.cancelLabel,filterConfirmLabel:j.en.confirmLabel,quickSearchLabel:"Quick search:",searchPlaceholder:"Search"},es:{disclaimerGroupTitle:"Presentando resultados filtrados por:",filterTitle:j.es.title,filterCancelLabel:j.es.cancelLabel,filterConfirmLabel:j.es.confirmLabel,quickSearchLabel:"B\xFAsqueda r\xE1pida:",searchPlaceholder:"Buscar"},pt:{disclaimerGroupTitle:"Apresentando resultados filtrados por:",filterTitle:j.pt.title,filterCancelLabel:j.pt.cancelLabel,filterConfirmLabel:j.pt.confirmLabel,quickSearchLabel:"Pesquisa r\xE1pida:",searchPlaceholder:"Pesquisar"},ru:{disclaimerGroupTitle:"\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u043E\u0432, \u043E\u0442\u0444\u0438\u043B\u044C\u0442\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u043F\u043E:",filterTitle:j.ru.title,filterCancelLabel:j.ru.cancelLabel,filterConfirmLabel:j.ru.confirmLabel,quickSearchLabel:"\u0411\u044B\u0441\u0442\u0440\u044B\u0439 \u043F\u043E\u0438\u0441\u043A:",searchPlaceholder:"\u0438\u0441\u0441\u043B\u0435\u0434\u043E\u0432\u0430\u043D\u0438\u0435"}},Rr=(()=>{class o{actions=[];breadcrumb={items:[]};keepFilters=!1;concatFilters=!1;hideRemoveAllDisclaimer=!1;onLoad;title;quickSearchValue;_visibleFixedFilters=!0;set visibleFixedFilters(e){this._visibleFixedFilters=e}get visibleFixedFilters(){return this._visibleFixedFilters}advancedSearch=new T;changeDisclaimers=new T;quickSearch=new T;advancedFilterLiterals;_componentsSize=void 0;_filters=[];_hideCloseDisclaimers=[];_literals;_quickSearchWidth;language;previousFilters;set componentsSize(e){this._componentsSize=ie(e)}get componentsSize(){return this._componentsSize??X()}set literals(e){e instanceof Object&&!(e instanceof Array)?this._literals=m(m(m({},ft[U]),ft[this.language]),e):this._literals=ft[this.language],this.setAdvancedFilterLiterals(this.literals)}get literals(){return this._literals||ft[this.language]}set filters(e){this._filters=Array.isArray(e)?[...e]:[]}get filters(){return this._filters}set quickSearchWidth(e){this._quickSearchWidth=yt(e)}get quickSearchWidth(){return this._quickSearchWidth}set hideCloseDisclaimers(e){this._hideCloseDisclaimers=Array.isArray(e)?e:[]}get hideCloseDisclaimers(){return this._hideCloseDisclaimers}constructor(e){this.language=e.getShortLanguage()}setAdvancedFilterLiterals(e){this.advancedFilterLiterals={cancelLabel:e.filterCancelLabel,confirmLabel:e.filterConfirmLabel,title:e.filterTitle}}stringify(e){return JSON.stringify(e,(i,t)=>{if(i!=="searchService")return t})}static \u0275fac=function(i){return new(i||o)(W(q))};static \u0275dir=J({type:o,inputs:{actions:[0,"p-actions","actions"],breadcrumb:[0,"p-breadcrumb","breadcrumb"],keepFilters:[2,"p-keep-filters","keepFilters",O],concatFilters:[2,"p-concat-filters","concatFilters",O],hideRemoveAllDisclaimer:[2,"p-hide-remove-all-disclaimer","hideRemoveAllDisclaimer",O],onLoad:[0,"p-load","onLoad"],title:[0,"p-title","title"],quickSearchValue:[0,"p-quick-search-value","quickSearchValue"],visibleFixedFilters:[0,"p-visible-fixed-filters","visibleFixedFilters"],componentsSize:[0,"p-components-size","componentsSize"],literals:[0,"p-literals","literals"],filters:[0,"p-filters","filters"],quickSearchWidth:[0,"p-quick-search-width","quickSearchWidth"],hideCloseDisclaimers:[0,"p-hide-close-disclaimers","hideCloseDisclaimers"]},outputs:{advancedSearch:"p-advanced-search",changeDisclaimers:"p-change-disclaimers",quickSearch:"p-quick-search"},features:[Le]})}return o})(),Or=(()=>{class o extends Rr{languageService;poPageCustomizationService=h(Ge);changeDetector=h(ze);poAdvancedFilter;poPageList;loadSubscription;_disclaimerGroup={remove:this.onRemoveDisclaimer.bind(this),removeAll:this.onRemoveAllDisclaimers.bind(this),disclaimers:[],title:this.literals.disclaimerGroupTitle,hideRemoveAll:this.hideRemoveAllDisclaimer};_filterSettings={action:this.onAction.bind(this),advancedAction:this.onAdvancedAction.bind(this),placeholder:this.literals.searchPlaceholder,width:this.quickSearchWidth};constructor(){let e=h(q);super(e),this.languageService=e}get disclaimerGroup(){return Object.assign({},this._disclaimerGroup,{title:this.literals.disclaimerGroupTitle,hideRemoveAll:this.hideRemoveAllDisclaimer})}get filterSettings(){let e=this.filters.length>0&&this.filters.some(i=>i.visible===!0||i.visible===void 0);return this._filterSettings.advancedAction=e?this.onAdvancedAction.bind(this):void 0,Object.assign({},this._filterSettings,{placeholder:this.literals.searchPlaceholder,width:this.quickSearchWidth})}ngOnInit(){this.setAdvancedFilterLiterals(this.literals),this.onLoad&&this.loadOptionsOnInitialize(this.onLoad),this.quickSearchValue&&this.onAction(this.quickSearchValue,!0)}ngOnDestroy(){this.loadSubscription&&this.loadSubscription.unsubscribe()}ngAfterViewInit(){this.stringify(this.filters)!==this.stringify(this.previousFilters)&&(this.onChangeFilters(this.filters),this.previousFilters=[...this.filters])}ngOnChanges(e){let i=e.visibleFixedFilters;i&&i.currentValue!==i.previousValue&&this.filters.some(t=>t.fixed)&&(this.onChangeFilters(this.filters),this.previousFilters=[...this.filters])}onChangeFilters(e){let i=e.filter(t=>t.initValue).reduce((t,n)=>ne(m({},t),{[n.property]:n.initValue}),{});Object.keys(i).length&&this.onAdvancedSearch({filter:i})}onAction(e,i){let t={property:"search",label:`${this.literals.quickSearchLabel} ${e}`,value:e,hideClose:this.hideCloseDisclaimers.some(s=>s==="search")||!1},n=()=>[...this.getDisclaimersWithoutQuickSearch(),t];this._disclaimerGroup.disclaimers=this.concatFilters?n():[t],this.quickSearch.observers&&this.quickSearch.observers.length>0&&!i&&this.quickSearch.emit(e),this.keepFilters&&!this.concatFilters&&this.filters.forEach(s=>delete s.initValue),this.changeDetector.detectChanges()}onAdvancedAction(){this.poAdvancedFilter.open()}onAdvancedSearch(e,i){let{filter:t,optionsService:n}=e,s=this.visibleFixedFilters===!1?this.filters.filter(c=>!("fixed"in c)||!c.fixed):this.filters;this._disclaimerGroup.disclaimers=this.setDisclaimers(t,n,s),this.setFilters(t),this.advancedSearch.emit(t),i&&this.poPageList.clearInputSearch()}getDisclaimersWithoutQuickSearch(){let e="search";return this._disclaimerGroup.disclaimers.filter(i=>i.property!==e)}setFilters(e){let i=this.convertToFilters(e);this.filters.forEach(t=>{let n=i.find(s=>s.property===t.property);n?t.initValue=n.value:delete t.initValue})}convertToFilters(e){return Object.entries(e).map(([i,t])=>({property:i,value:t}))}optionsServiceDisclaimerLabel(e,i){let t=i.find(n=>n.value===e);return t.label||t.value}applyDisclaimerLabelValue(e,i){return(Array.isArray(i)?i:[i]).map(s=>{let c=e.options.find(y=>y.value===s||y===s);if(c)return c.label||c.value||c}).join(", ")}formatDate(e){let i=parseInt(e.substr(0,4),10),t=parseInt(e.substr(5,2),10),n=parseInt(e.substr(8,2),10);return new Date(i,t-1,n).toLocaleDateString(go())}formatArrayToObjectKeyValue(e){let i=e.reduce((t,n)=>Object.assign(t,{[n.property]:n.value||n.initValue}),{});return Object.keys(i).forEach(t=>{i[t]||delete i[t]}),i}formatValueToCurrency(e,i){let t=this.languageService.getLanguage();return new Intl.NumberFormat(e.locale?e.locale:t,{minimumFractionDigits:2}).format(i)}getFieldByProperty(e,i){return e.find(t=>t.property===i)}getFilterValueToDisclaimer(e,i,t){return e.optionsService&&t?this.optionsServiceDisclaimerLabel(i,t):e.type===Nt.Currency&&i?this.formatValueToCurrency(e,i):e.type===Nt.Date?e.range?this.formatDate(i.start)+" - "+this.formatDate(i.end):this.formatDate(i):e.options&&i?this.applyDisclaimerLabelValue(e,i):i}emitChangesDisclaimers(e){this.changeDisclaimers.emit(e),this.setFilters(this.formatArrayToObjectKeyValue(e))}onRemoveAllDisclaimers(){let e=this.getFixedFiltersDisclaimers();this.emitChangesDisclaimers(e)}onRemoveDisclaimer(e){let{currentDisclaimers:i}=e,t=[...i,...this.getFixedFiltersDisclaimers(i)];this.emitChangesDisclaimers(t)}getFixedFiltersDisclaimers(e){return this.filters.filter(t=>t.fixed===!0&&t.hasOwnProperty("initValue")&&t.initValue!==void 0&&t.initValue!==null).map(t=>({property:t.property,value:t.initValue,label:`${t.label}: ${t.initValue}`,hideClose:!0})).filter(t=>!e||!e.some(n=>n.property===t.property))}setDisclaimers(e,i,t){let n=[],s=Object.keys(e),c=t?t.map(y=>y.property):s;return s.forEach(y=>{if(c.includes(y)){let L=this.getFieldByProperty(this.filters,y),ae=L.label||fr(L.property),oe=e[y],wo=this.hideCloseDisclaimers.some(So=>So===y)||!1,Zt=this.getFilterValueToDisclaimer(L,oe,i);Zt!==""&&n.push({label:`${ae}: ${Zt}`,property:y,value:oe,hideClose:wo})}}),n}loadOptionsOnInitialize(e){this.loadSubscription=this.getPoDynamicPageOptions(e).subscribe(i=>this.poPageCustomizationService.changeOriginalOptionsToNewOptions(this,i))}getPoDynamicPageOptions(e){let i={title:this.title,actions:this.actions,breadcrumb:this.breadcrumb,filters:this.filters,keepFilters:this.keepFilters,concatFilters:this.concatFilters,hideRemoveAllDisclaimer:this.hideRemoveAllDisclaimer,hideCloseDisclaimers:this.hideCloseDisclaimers,quickSearchWidth:this.quickSearchWidth},t={schema:[{nameProp:"filters",merge:!0,keyForMerge:"property"},{nameProp:"actions",merge:!0,keyForMerge:"label"},{nameProp:"breadcrumb"},{nameProp:"title"},{nameProp:"keepFilters"},{nameProp:"concatFilters"},{nameProp:"hideRemoveAllDisclaimer"},{nameProp:"hideCloseDisclaimers"},{nameProp:"quickSearchWidth"}]};return this.poPageCustomizationService.getCustomOptions(e,i,t)}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-page-dynamic-search"]],viewQuery:function(i,t){if(i&1&&(D(oo,7),D(dt,7)),i&2){let n;M(n=x())&&(t.poAdvancedFilter=n.first),M(n=x())&&(t.poPageList=n.first)}},standalone:!1,features:[ee,Ct],ngContentSelectors:ho,decls:4,vars:11,consts:[["poPageList",""],[3,"p-actions","p-breadcrumb","p-components-size","p-disclaimer-group","p-filter","p-title","p-quick-search-value"],[3,"p-search-event","p-components-size","p-filters","p-keep-filters","p-literals"]],template:function(i,t){if(i&1){let n=C();Et(),a(0,"po-page-list",1,0)(2,"po-advanced-filter",2),w("p-search-event",function(c){return g(n),f(t.onAdvancedSearch(c,!0))}),l(),At(3),l()}i&2&&(d("p-actions",t.actions)("p-breadcrumb",t.breadcrumb)("p-components-size",t.componentsSize)("p-disclaimer-group",t.disclaimerGroup)("p-filter",t.filterSettings)("p-title",t.title)("p-quick-search-value",t.quickSearchValue),r(2),d("p-components-size",t.componentsSize)("p-filters",t.filters)("p-keep-filters",t.keepFilters)("p-literals",t.advancedFilterLiterals))},dependencies:[dt,oo],encapsulation:2})}return o})(),jt=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({imports:[B,G,ce,Ue,yi,at,je,_t]})}return o})(),zr=(()=>{class o{breadcrumb={items:[]};serviceApi;title;changeVisibleColumns=new T;columnRestoreManager=new T;sortBy=new T;_autoRouter=!1;_columns=[];_duplicates=[];_fields=[];_filters=[];_keys=[];set autoRouter(e){this._autoRouter=O(e)}get autoRouter(){return this._autoRouter}set fields(e){this._fields=Array.isArray(e)?[...e]:[],this.setFieldsProperties(this.fields)}get fields(){return this._fields}set columns(e){this._columns=[...this._columns=this.sortColumnsByOrder(e)]}get columns(){return this._columns}set duplicates(e){this._duplicates=[...e]}get duplicates(){return this._duplicates}set filters(e){this._filters=[...e]}get filters(){return this._filters}set keys(e){this._keys=[...e]}get keys(){return this._keys}setFieldsProperties(e){let i;this.filters=e.filter(t=>t.filter===!0).map(t=>(i=!(t.initValue&&t.fixed),ne(m({},t),{visible:i}))),this.columns=e.filter(t=>t.visible===void 0||t.visible===!0||t.allowColumnsManager===!0),this.keys=e.filter(t=>t.key===!0).map(t=>t.property),this.duplicates=e.filter(t=>t.duplicate===!0).map(t=>t.property)}sortColumnsByOrder(e){return e.sort((i,t)=>{let n="order"in i&&typeof i.order=="number"&&i.order>0,s="order"in t&&typeof t.order=="number"&&t.order>0;return n&&s?i.order-t.order:n?-1:s?1:0})}static \u0275fac=function(i){return new(i||o)};static \u0275dir=J({type:o,inputs:{breadcrumb:[0,"p-breadcrumb","breadcrumb"],serviceApi:[0,"p-service-api","serviceApi"],title:[0,"p-title","title"],autoRouter:[0,"p-auto-router","autoRouter"],fields:[0,"p-fields","fields"]},outputs:{changeVisibleColumns:"p-change-visible-columns",columnRestoreManager:"p-restore-column-manager",sortBy:"p-sort-by"}})}return o})(),Vr=(()=>{class o{http=h(te);headers=new fe({"X-PO-SCREEN-LOCK":"true"});beforeDuplicate(e,i,t){let n=t??{};return this.executeAction({action:e,resource:n,id:i})}beforeEdit(e,i,t){let n=t??{};return this.executeAction({action:e,resource:n,id:i})}beforeNew(e){return this.executeAction({action:e})}beforeRemove(e,i,t){return this.executeAction({action:e,id:i,resource:t})}beforeRemoveAll(e,i){return this.executeAction({action:e,resource:i})}beforeDetail(e,i,t){return this.executeAction({action:e,id:i,resource:t})}customAction(e,i=[]){return this.executeAction({action:e,resource:i})}executeAction({action:e,resource:i={},id:t}){if(!e)return z({});if(typeof e=="string"){let n=t?`${e}/${t}`:e;return this.http.post(n,i,{headers:this.headers})}return t?z(e(t,i)):z(e(i))}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),no={en:{pageAction:"New",pageActionRemoveAll:"Delete",tableActionView:"View",tableActionEdit:"Edit",tableActionDuplicate:"Duplicate",tableActionDelete:"Delete",confirmRemoveTitle:"Confirm delete",confirmRemoveMessage:"Are you sure you want to delete this record? You can not undo this action.",confirmRemoveAllTitle:"Confirm batch deletion",confirmRemoveAllMessage:"Are you sure you want to delete all these records? You can not undo this action.",loadDataErrorNotification:"Service not found",removeSuccessNotification:"Item deleted successfully",removeAllSuccessNotification:"Items deleted successfully"},es:{pageAction:"Nuevo",pageActionRemoveAll:"Borrar",tableActionView:"Visualizar",tableActionEdit:"Editar",tableActionDuplicate:"Duplicar",tableActionDelete:"Borrar",confirmRemoveTitle:"Confirmar la exclusi\xF3n",confirmRemoveMessage:"\xBFEst\xE1 seguro de que desea eliminar este registro? No puede deshacer esta acci\xF3n.",confirmRemoveAllTitle:"Confirmar la exclusi\xF3n por lotes",confirmRemoveAllMessage:"\xBFEst\xE1 seguro de que desea eliminar todos estos registros? No puede deshacer esta acci\xF3n.",loadDataErrorNotification:"Servicio no informado.",removeSuccessNotification:"Elemento eliminado con \xE9xito",removeAllSuccessNotification:"Elementos eliminados con \xE9xito"},pt:{pageAction:"Novo",pageActionRemoveAll:"Excluir",tableActionView:"Visualizar",tableActionEdit:"Editar",tableActionDuplicate:"Duplicar",tableActionDelete:"Excluir",confirmRemoveTitle:"Confirmar exclus\xE3o",confirmRemoveMessage:"Tem certeza de que deseja excluir esse registro? Voc\xEA n\xE3o poder\xE1 desfazer essa a\xE7\xE3o.",confirmRemoveAllTitle:"Confirmar exclus\xE3o em lote",confirmRemoveAllMessage:"Tem certeza de que deseja excluir todos esses registros? Voc\xEA n\xE3o poder\xE1 desfazer essa a\xE7\xE3o.",loadDataErrorNotification:"Servi\xE7o n\xE3o informado.",removeSuccessNotification:"Item excluido com sucesso",removeAllSuccessNotification:"Items excluidos com sucesso"},ru:{pageAction:"\u041D\u043E\u0432\u044B\u0439",pageActionRemoveAll:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",tableActionView:"\u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440",tableActionEdit:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",tableActionDuplicate:"\u0414\u0443\u0431\u043B\u0438\u0440\u043E\u0432\u0430\u0442\u044C",tableActionDelete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",confirmRemoveTitle:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F",confirmRemoveMessage:"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u044D\u0442\u0443 \u0437\u0430\u043F\u0438\u0441\u044C?  \u0412\u044B \u043D\u0435 \u043C\u043E\u0436\u0435\u0442\u0435 \u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u044D\u0442\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435.",confirmRemoveAllTitle:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0435 \u043F\u0430\u043A\u0435\u0442\u0430",confirmRemoveAllMessage:"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u0441\u0435 \u044D\u0442\u0438 \u0437\u0430\u043F\u0438\u0441\u0438? \u0412\u044B \u043D\u0435 \u043C\u043E\u0436\u0435\u0442\u0435 \u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u044D\u0442\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435.",loadDataErrorNotification:"\u0421\u0435\u0440\u0432\u0438\u0441 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D",removeSuccessNotification:"\u042D\u043B\u0435\u043C\u0435\u043D\u0442 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D",removeAllSuccessNotification:"\u042D\u043B\u0435\u043C\u0435\u043D\u0442\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D\u044B"}},ro=10,ks=(()=>{class o extends zr{router=h(se);activatedRoute=h(le);poDialogService=h(We);poNotification=h(ke);poPageDynamicService=h(Ce);poPageCustomizationService=h(Ge);poPageDynamicTableActionsService=h(Vr);onLoad;keepFilters=!1;actionRight=!1;concatFilters=!1;hideColumnsManager=!1;hideRemoveAllDisclaimer=!1;infiniteScroll=!1;hasNext=!1;items=[];literals;pageActions=[];tableActions=[];_actions={};_pageCustomActions=[];_height;_oldQuickSearchParam;_quickSearchParam="search";_quickSearchValue;_quickSearchWidth;_tableCustomActions=[];page=1;currentPage=1;itemSelectedAction;params={};sortedColumn;subscriptions=new Xe;hasCustomActionWithSelectable=!1;_componentsSize=void 0;_customPageListActions=[];_customTableActions=[];_defaultPageActions=[];_defaultTableActions=[];_hideCloseDisclaimers=[];_draggable=!1;_virtualScroll=!0;set defaultPageActions(e){this._defaultPageActions=e,this.updatePageActions()}set defaultTableActions(e){this._defaultTableActions=e,this.updateTableActions()}set customPageListActions(e){this._customPageListActions=e,this.updatePageActions()}set customTableActions(e){this._customTableActions=e,this.updateTableActions()}set actions(e){this._actions=e&&typeof e=="object"&&Object.keys(e).length>0?e:{},this.setPageActions(this.actions),this.setRemoveAllAction(),this.setTableActions(this.actions)}get actions(){return this._actions}set componentsSize(e){this._componentsSize=ie(e)}get componentsSize(){return this._componentsSize??X()}set pageCustomActions(e){this._pageCustomActions=Array.isArray(e)?e:[],this.customPageListActions=this.transformCustomActionsToPageListAction(this.pageCustomActions),this.hasCustomActionWithSelectable=this.pageCustomActions.some(i=>i.selectable)}get pageCustomActions(){return this._pageCustomActions}set tableCustomActions(e){this._tableCustomActions=Array.isArray(e)?e:[],this.customTableActions=this.transformTableCustomActionsToTableActions(this.tableCustomActions)}get tableCustomActions(){return this._tableCustomActions}set quickSearchWidth(e){this._quickSearchWidth=yt(e)}get quickSearchWidth(){return this._quickSearchWidth}set height(e){this._height=yt(e)}get height(){return this._height}set hideCloseDisclaimers(e){this._hideCloseDisclaimers=Array.isArray(e)?e:[]}get hideCloseDisclaimers(){return this._hideCloseDisclaimers}set quickSearchParam(e){this._quickSearchParam=e??"search"}get quickSearchParam(){return this._quickSearchParam}set quickSearchValue(e){this._quickSearchValue=e}get quickSearchValue(){return this._quickSearchValue}searchLiterals;spacing;textWrap=!1;set draggable(e){this._draggable=e}get draggable(){return this._draggable}set virtualScroll(e){this._virtualScroll=O(e&&this.height>0)}get virtualScroll(){return this._virtualScroll}visibleFixedFilters=!0;constructor(){let e=h(q);super();let i=e.getShortLanguage();this.literals=m(m({},no[U]),no[i])}ngOnInit(){this.loadDataFromAPI()}ngOnDestroy(){this.subscriptions.unsubscribe()}onAdvancedSearch(e){this.subscriptions.add(this.loadData(m({page:1},e)).subscribe()),this.params=e,this.keepFilters&&this.updateFilterValue(e)}onChangeDisclaimers(e){let i={};e.forEach(t=>{i[t.property]=t.value}),this.onAdvancedSearch(i)}onQuickSearch(e){let i=e?{[this.quickSearchParam]:e}:{};this.params=this.concatFilters?m(m({},this.params),i):m({},i),this._oldQuickSearchParam in this.params&&this._oldQuickSearchParam!==this.quickSearchParam&&delete this.params[this._oldQuickSearchParam],this._oldQuickSearchParam=this.quickSearchParam,this.subscriptions.add(this.loadData(e?m({page:1},this.params):void 0).subscribe())}onSort(e){if(this.height){let i=e.type==="ascending";vr(this.items,e.column.property,i)}this.sortedColumn=e}onChangeVisibleColumns(e){this.changeVisibleColumns.emit(e)}onColumnRestoreManager(e){this.columnRestoreManager.emit(e)}onSortBy(e){this.sortBy.emit(e)}showMore(){this.subscriptions.add(this.loadData(m({page:++this.page},this.params)).subscribe())}get enableSelectionTable(){return this.hasActionRemoveAll||this.hasCustomActionWithSelectable}get hasActionRemoveAll(){return!!this.actions.removeAll}updateDataTable(e){let i=this.items.findIndex(n=>n===this.itemSelectedAction),t=Math.floor(i/ro);this.currentPage=t<0?this.currentPage:t+1,this.currentPage===void 0&&(this.currentPage=1),e?this.subscriptions.add(this.loadData(e).subscribe()):this.subscriptions.add(this.loadData(m({page:this.currentPage},this.params)).subscribe())}confirmRemove(e,i,t){let n={title:this.literals.confirmRemoveTitle,message:this.literals.confirmRemoveMessage,componentsSize:this.componentsSize,confirm:this.remove.bind(this,t,e,i)};this.poDialogService.confirm(n)}confirmRemoveAll(e,i){let t={title:this.literals.confirmRemoveAllTitle,message:this.literals.confirmRemoveAllMessage,confirm:this.removeAll.bind(this,e,i)};this.poDialogService.confirm(t)}formatUniqueKey(e){let i=Qe(e,this.keys);return vt(i).join("|")}getOrderParam(e={type:void 0}){let{column:i,type:t}=e;return i?t===Ci.Descending?{order:`-${i.property}`}:{order:`${i.property}`}:{}}loadData(e={}){if(!this.serviceApi)return this.poNotification.error(this.literals.loadDataErrorNotification),Y;let i=this.getOrderParam(this.sortedColumn),n=m(m(m({},{page:1,pageSize:ro}),e),i);return this.poPageDynamicService.getResources(n).pipe(H(s=>{let c;n.page===1?c=Wi(s.items,s.items,this.keys):c=Wi(this.items,s.items,this.keys),this.items=c?[...c]:this.items,this.page=n.page,this.hasNext=s.hasNext}))}getMetadata(e,i){return e?this.poPageDynamicService.getMetadata().pipe(H(t=>{this.autoRouter=t.autoRouter||this.autoRouter,this.actions=t.actions||this.actions,this.breadcrumb=t.breadcrumb||this.breadcrumb,this.fields=t.fields||this.fields,this.title=t.title||this.title,this.pageCustomActions=t.pageCustomActions||this.pageCustomActions,this.tableCustomActions=t.tableCustomActions||this.tableCustomActions,this.keepFilters=t.keepFilters||this.keepFilters,this.concatFilters=t.concatFilters||this.concatFilters,this.hideRemoveAllDisclaimer=t.hideRemoveAllDisclaimer||this.hideRemoveAllDisclaimer,this.hideCloseDisclaimers=t.hideCloseDisclaimers||this.hideCloseDisclaimers,this.quickSearchWidth=t.quickSearchWidth||this.quickSearchWidth}),Z(()=>this.loadOptionsOnInitialize(i))):this.loadOptionsOnInitialize(i)}navigateTo(e,i=!1){if(de(e.path))return Bi(e.path);this.router.navigate([e.url||e.path],{queryParams:e.params}).catch(()=>{i||!this.autoRouter||(this.router.config.unshift({path:e.path,component:e.component,data:{serviceApi:this.serviceApi,autoRouter:!0}}),this.navigateTo(e,!0))})}createConcatenatedUrl(e,i,t){let n=this.keys.map(s=>encodeURIComponent(t[s])).join();return e?`${i}/${n}`:i}openDetail(e,i){let t=this.formatUniqueKey(i);this.subscriptions.add(this.poPageDynamicTableActionsService.beforeDetail(this.actions.beforeDetail,t,i).subscribe(n=>this.executeDetail(e,n,t,i)))}executeDetail(e,i,t,n){let s=i??{},c=typeof s.allowAction=="boolean"?s.allowAction:!0,{newUrl:y}=s;if(c&&e){if(y){let L=this.getPathFromNewUrl(y,t);return this.navigateTo({path:L})}if(typeof e=="string"){let L=this.resolveUrl(n,e);this.navigateTo({path:e,url:L,component:Lr})}else e(t,n)}}getPathFromNewUrl(e,i){return e.includes(":id")?e.replace(/:id/g,i):e}openDuplicate(e,i){let t=this.formatUniqueKey(i),n=He(this.keys,Qe(i,this.duplicates));this.subscriptions.add(this.poPageDynamicTableActionsService.beforeDuplicate(this.actions.beforeDuplicate,t,n).subscribe(s=>this.executeDuplicate(e,s,n)))}executeDuplicate(e,i,t){let n=i??{},s=typeof n.allowAction=="boolean"?n.allowAction:!0,c=n.resource,y=n.newUrl??e;if(s&&e)return typeof c=="object"&&c!==null&&(t=He(this.keys,c)),typeof y=="string"?this.navigateTo({path:y,params:{duplicate:JSON.stringify(t)}}):y(t)}openEdit(e,i){let t=this.formatUniqueKey(i);this.subscriptions.add(this.poPageDynamicTableActionsService.beforeEdit(this.actions.beforeEdit,t,i).pipe(Z(n=>this.executeEditAction(e,n,i,t))).subscribe())}executeEditAction(e,i,t,n){let s=i?.newUrl??e;if(!(i?.allowAction??!0))return Y;if(typeof s=="string")this.openEditUrl(s,t);else{let y=s(n,t);typeof y=="object"&&y!==null&&this.modifyUITableItem(t,He(this.keys,y))}return Y}openEditUrl(e,i){let t=this.resolveUrl(i,e);this.navigateTo({path:e,url:t})}modifyUITableItem(e,i){let t=this.items.findIndex(n=>n===e);this.items[t]=m(m({},e),i)}openNew(e){this.subscriptions.add(this.poPageDynamicTableActionsService.beforeNew(this.actions.beforeNew).subscribe(i=>this.executeNew(e,i)))}executeNew(e,i){let t=i??{},n=typeof t.allowAction=="boolean"?t.allowAction:!0,{newUrl:s}=t;if(n&&e)return s?this.navigateTo({path:s}):typeof e=="string"?this.navigateTo({path:e}):e()}remove(e,i,t){let n=this.formatUniqueKey(e);this.subscriptions.add(this.poPageDynamicTableActionsService.beforeRemove(t,n,e).pipe(Z(s=>this.deleteAction(e,i,s))).subscribe())}deleteAction(e,i,t){let{allowAction:n,newUrl:s}=t||{};if(n??!0){let y=this.formatUniqueKey(e),L=this.returnResourcesKeys([e]);return typeof i=="boolean"||s?(y=s?void 0:y,this.poPageDynamicService.deleteResource(y,s).pipe(ue(()=>this.removeFromUI(L,this.literals.removeSuccessNotification)))):z(i(y,e)).pipe(H(ae=>{let oe=ae??!1;this.removeFromUI(L,this.literals.removeSuccessNotification,oe)}))}return z({})}removeFromUI(e,i,t=!0){t===!0&&e?.length&&(this.removeLocalItems(e),this.poNotification.success(i))}removeAll(e,i){let t=this.getSelectedItemsKeys();this.subscriptions.add(this.poPageDynamicTableActionsService.beforeRemoveAll(i,t).pipe(Z(n=>this.deleteAllAction(e,n,t))).subscribe())}getSelectedItemsKeys(){let e=this.items.filter(i=>i.$selected);if(e.length!==0)return this.returnResourcesKeys(e)}returnResourcesKeys(e){return yr(e,this.keys)}deleteAllAction(e,i,t){let{allowAction:n,newUrl:s,resources:c}=i??{},y=n??!0,L=c??t;return y&&Array.isArray(L)?typeof e=="boolean"||s?this.poPageDynamicService.deleteResources(L,s).pipe(H(()=>{this.removeFromUI(L,this.literals.removeAllSuccessNotification)})):z(e(L)).pipe(H(ae=>this.removeFromUI(ae,this.literals.removeSuccessNotification))):z({})}removeLocalItems(e=[]){e.length&&(this.items=this.items.filter(i=>{let t=this.formatUniqueKey(i);return!e.find(n=>vt(n).join("|")===t)}))}resolveUrl(e,i){let t=this.formatUniqueKey(e);return i.replace(/:id/g,t)}setPageActions(e){e?.new&&(this.defaultPageActions=[{label:this.literals.pageAction,action:this.openNew.bind(this,e.new)}])}transformCustomActionsToPageListAction(e){return e.map(i=>ne(m({label:i.label,action:this.callPageCustomAction.bind(this,i),disabled:this.isDisablePageCustomAction.bind(this,i)},i.icon&&{icon:i.icon}),{visible:i.visible}))}transformTableCustomActionsToTableActions(e){return e.map(i=>({label:i.label,icon:i.icon,action:this.callTableCustomAction.bind(this,i),disabled:i.disabled,visible:i.visible}))}isDisablePageCustomAction(e){return e.selectable&&!this.getSelectedItemsKeys()}callPageCustomAction(e){if(e.action){let i=e.selectable?this.getSelectedItemsKeys():void 0,t=this.poPageDynamicTableActionsService.customAction(e.action,i).subscribe();this.subscriptions.add(t)}else e.url&&this.navigateTo({path:e.url})}callTableCustomAction(e,i){if(this.itemSelectedAction=i,e.action){let t=this.poPageDynamicTableActionsService.customAction(e.action,i).subscribe(n=>{typeof n=="object"&&n!==null&&this.modifyUITableItem(i,He(this.keys,n))});this.subscriptions.add(t)}else e.url&&(de(e.url)?Bi(this.createConcatenatedUrl(e.concatKeys,e.url,i)):this.navigateTo({path:this.createConcatenatedUrl(e.concatKeys,e.url,i)}))}setRemoveAllAction(){let e=this._actions;this.showRemove(e.removeAll)&&(this.defaultPageActions=[...this._defaultPageActions,{label:this.literals.pageActionRemoveAll,action:this.confirmRemoveAll.bind(this,e.removeAll,e.beforeRemoveAll),disabled:this.disableRemoveAll.bind(this),type:"danger"}])}disableRemoveAll(){return!this.getSelectedItemsKeys()}setTableActions(e){if(e){let i=this.showRemove(e.remove);this.defaultTableActions=[{action:this.openDetail.bind(this,e.detail),label:this.literals.tableActionView,visible:!!this._actions.detail},{action:this.openEdit.bind(this,e.edit),label:this.literals.tableActionEdit,visible:!!this._actions.edit},{action:this.openDuplicate.bind(this,e.duplicate),label:this.literals.tableActionDuplicate,visible:!!this._actions.duplicate},{action:this.confirmRemove.bind(this,e.remove,e.beforeRemove),label:this.literals.tableActionDelete,separator:!0,type:"danger",visible:i}]}}loadDataFromAPI(){let{serviceApi:e,serviceMetadataApi:i,serviceLoadApi:t}=this.activatedRoute.snapshot.data,n=t||this.onLoad;this.serviceApi=e||this.serviceApi,this.poPageDynamicService.configServiceApi({endpoint:this.serviceApi,metadata:i});let s=this.getMetadata(e,n),c;if(this.quickSearchValue){let y={[this.quickSearchParam]:this.quickSearchValue};c=this.loadData(y)}else c=this.loadData();this.subscriptions.add(s.pipe(Z(()=>{let y=this.getInitialValuesFromFilter();return Object.keys(y).length?Y:c})).subscribe())}getInitialValuesFromFilter(){let e=this.filters.reduce((i,t)=>Object.assign(i,{[t.property]:t.initValue}),{});return Object.keys(e).forEach(i=>{e[i]||delete e[i]}),e}loadOptionsOnInitialize(e){return e?this.getPoDynamicPageOptions(e).pipe(H(i=>this.poPageCustomizationService.changeOriginalOptionsToNewOptions(this,i))):z(null)}getPoDynamicPageOptions(e){let i={fields:this.fields,actions:this.actions,breadcrumb:this.breadcrumb,title:this.title,keepFilters:this.keepFilters,concatFilters:this.concatFilters,hideRemoveAllDisclaimer:this.hideRemoveAllDisclaimer,hideCloseDisclaimers:this.hideCloseDisclaimers,pageCustomActions:this.pageCustomActions,tableCustomActions:this.tableCustomActions,quickSearchWidth:this.quickSearchWidth},t={schema:[{nameProp:"fields",merge:!0,keyForMerge:"property"},{nameProp:"actions",merge:!0},{nameProp:"breadcrumb"},{nameProp:"title"},{nameProp:"keepFilters"},{nameProp:"quickSearchWidth"},{nameProp:"concatFilters"},{nameProp:"hideRemoveAllDisclaimer"},{nameProp:"hideCloseDisclaimers"},{nameProp:"pageCustomActions",merge:!0,keyForMerge:"label"},{nameProp:"tableCustomActions",merge:!0,keyForMerge:"label"}]};return this.poPageCustomizationService.getCustomOptions(e,i,t)}showRemove(e){let i=e??!1;return typeof i=="boolean"?i:!0}updateFilterValue(e){return this.fields.map(i=>{e.hasOwnProperty(i.property)&&(i.initValue=e[i.property])})}updatePageActions(){this.pageActions=[...this._defaultPageActions,...this._customPageListActions]}updateTableActions(){let e=this._defaultTableActions.filter(n=>n.label!==this.literals.tableActionDelete),i=this._defaultTableActions.find(n=>n.label===this.literals.tableActionDelete),t=[...e,...this._customTableActions];i&&t.push(i),this.tableActions=t}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-page-dynamic-table"]],inputs:{onLoad:[0,"p-load","onLoad"],keepFilters:[2,"p-keep-filters","keepFilters",O],actionRight:[2,"p-actions-right","actionRight",O],concatFilters:[2,"p-concat-filters","concatFilters",O],hideColumnsManager:[2,"p-hide-columns-manager","hideColumnsManager",O],hideRemoveAllDisclaimer:[2,"p-hide-remove-all-disclaimer","hideRemoveAllDisclaimer",O],infiniteScroll:[2,"p-infinite-scroll","infiniteScroll",O],actions:[0,"p-actions","actions"],componentsSize:[0,"p-components-size","componentsSize"],pageCustomActions:[0,"p-page-custom-actions","pageCustomActions"],tableCustomActions:[0,"p-table-custom-actions","tableCustomActions"],quickSearchWidth:[0,"p-quick-search-width","quickSearchWidth"],height:[0,"p-height","height"],hideCloseDisclaimers:[0,"p-hide-close-disclaimers","hideCloseDisclaimers"],quickSearchParam:[0,"p-quick-search-param","quickSearchParam"],quickSearchValue:[0,"p-quick-search-value","quickSearchValue"],searchLiterals:[0,"p-literals","searchLiterals"],spacing:[0,"p-spacing","spacing"],textWrap:[2,"p-text-wrap","textWrap",O],draggable:[0,"p-draggable","draggable"],virtualScroll:[0,"p-virtual-scroll","virtualScroll"],visibleFixedFilters:[0,"p-visible-fixed-filters","visibleFixedFilters"]},standalone:!1,features:[we([Ce]),Le,ee],decls:2,vars:28,consts:[[3,"p-advanced-search","p-change-disclaimers","p-quick-search","p-actions","p-breadcrumb","p-components-size","p-hide-close-disclaimers","p-filters","p-keep-filters","p-literals","p-concat-filters","p-hide-remove-all-disclaimer","p-quick-search-width","p-title","p-visible-fixed-filters","p-quick-search-value"],[3,"p-show-more","p-sort-by","p-change-visible-columns","p-restore-column-manager","p-sort","p-actions","p-actions-right","p-selectable","p-columns","p-components-size","p-items","p-height","p-hide-columns-manager","p-infinite-scroll","p-show-more-disabled","p-text-wrap","p-draggable","p-spacing","p-virtual-scroll"]],template:function(i,t){i&1&&(a(0,"po-page-dynamic-search",0),w("p-advanced-search",function(s){return t.onAdvancedSearch(s)})("p-change-disclaimers",function(s){return t.onChangeDisclaimers(s)})("p-quick-search",function(s){return t.onQuickSearch(s)}),a(1,"po-table",1),w("p-show-more",function(){return t.showMore()})("p-sort-by",function(s){return t.onSort(s)})("p-change-visible-columns",function(s){return t.onChangeVisibleColumns(s)})("p-restore-column-manager",function(s){return t.onColumnRestoreManager(s)})("p-sort-by",function(s){return t.onSortBy(s)}),l()()),i&2&&(d("p-actions",t.pageActions)("p-breadcrumb",t.breadcrumb)("p-components-size",t.componentsSize)("p-hide-close-disclaimers",t.hideCloseDisclaimers)("p-filters",t.filters)("p-keep-filters",t.keepFilters)("p-literals",t.searchLiterals)("p-concat-filters",t.concatFilters)("p-hide-remove-all-disclaimer",t.hideRemoveAllDisclaimer)("p-quick-search-width",t.quickSearchWidth)("p-title",t.title)("p-visible-fixed-filters",t.visibleFixedFilters)("p-quick-search-value",t.quickSearchValue||""),r(),d("p-sort",!0)("p-actions",t.tableActions)("p-actions-right",t.actionRight)("p-selectable",t.enableSelectionTable)("p-columns",t.columns)("p-components-size",t.componentsSize)("p-items",t.items)("p-height",t.height)("p-hide-columns-manager",t.hideColumnsManager)("p-infinite-scroll",t.infiniteScroll)("p-show-more-disabled",!t.hasNext)("p-text-wrap",t.textWrap)("p-draggable",t.draggable)("p-spacing",t.spacing)("p-virtual-scroll",t.virtualScroll))},dependencies:[wi,Or],encapsulation:2})}return o})(),so=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({imports:[B,G,ce,xi,jt,_t,Ke]})}return o})(),De=class{periodicity="single";firstExecution=new Date;firstExecutionHour=this.getCurrentHour(this.firstExecution);recurrent=!0;frequency={};getCurrentHour(p){let e=p.getHours()<10?"0"+p.getHours():p.getHours(),i=p.getMinutes()<10?"0"+p.getMinutes():p.getMinutes();return`${e}:${i}`}},Ye=(()=>{class o{http=h(te);headers=new fe({"X-PO-SCREEN-LOCK":"true"});endpoint="/";configServiceApi(e={}){this.endpoint=e.endpoint}createResource(e){let i=this.convertToJobScheduler(e);return this.http.post(`${this.endpoint}`,i,{headers:this.headers})}getHeadProcesses(){let e={"X-PO-No-Error":"true"};return this.http.head(`${this.endpoint}/processes`,{headers:e})}getParametersByProcess(e){return this.http.get(`${this.endpoint}/processes/${e}/parameters`,{headers:this.headers}).pipe(ue(i=>i.items))}getProcess(e){return this.http.get(`${this.endpoint}/processes/${e}`,{headers:this.headers})}getProcesses(e={}){return this.http.get(`${this.endpoint}/processes`,{params:e})}getResource(e){return this.http.get(`${this.endpoint}/${e}`,{headers:this.headers}).pipe(ue(i=>this.convertToJobSchedulerInternal(i)))}updateResource(e,i){let t=this.convertToJobScheduler(i);return this.http.put(`${this.endpoint}/${e}`,t,{headers:this.headers})}convertToJobScheduler(e){let i=m({},e);if(e.periodicity&&(e.periodicity==="single"?i.recurrent=!1:Object.assign(i,this.convertToPeriodicity(e))),e.firstExecutionHour&&(i.firstExecution=this.replaceHourFirstExecution(e.firstExecution,e.firstExecutionHour)),e.frequency&&e.frequency.type){if(i.rangeExecutions={frequency:m({},e.frequency)},e.rangeLimitHour){let t=e.rangeLimitHour.split(":");i.rangeExecutions.rangeLimit={hour:parseInt(t[0],10),minute:parseInt(t[1],10)}}e.rangeLimitDay&&(i.rangeExecutions.rangeLimit=ne(m({},i.rangeExecutions.rangeLimit),{day:e.rangeLimitDay}))}return Object.keys(this.returnValidExecutionParameter(i.executionParameter)).length||delete i.executionParameter,this.removeInvalidKeys(i),i}convertToJobSchedulerInternal(e={}){let i=m({},e);return e.firstExecution&&(i.firstExecutionHour=this.getHourFirstExecution(e.firstExecution)),Object.assign(i,this.convertToPeriodicityInternal(e)),e.rangeExecutions&&(i.rangeLimitHour=`${e.rangeExecutions.rangeLimit.hour<10?"0"+e.rangeExecutions.rangeLimit.hour:e.rangeExecutions.rangeLimit.hour}:${e.rangeExecutions.rangeLimit.minute<10?"0"+e.rangeExecutions.rangeLimit.minute:e.rangeExecutions.rangeLimit.minute}`,i.rangeLimitDay=e.rangeExecutions.rangeLimit.day,i.frequency={type:e.rangeExecutions.frequency.type,value:e.rangeExecutions.frequency.value}),this.removeInvalidKeys(i,["weekly","monthly","daily"]),i}convertToPeriodicity(e){let i={},t=e.periodicity;return t&&(i[t]={},t==="monthly"?i[t].day=e.dayOfMonth?parseInt(e.dayOfMonth,10):0:t==="weekly"&&(i[t].daysOfWeek=e.daysOfWeek),i[t].hour=e.hour?parseInt(e.hour.split(":")[0],10):0,i[t].minute=e.hour?parseInt(e.hour.split(":")[1],10):0),i}convertToPeriodicityInternal(e={}){return e.monthly?{periodicity:"monthly",hour:`${he(e.monthly.hour)}:${he(e.monthly.minute)}`,dayOfMonth:e.monthly.day}:e.daily?{periodicity:"daily",hour:`${he(e.daily.hour)}:${he(e.daily.minute)}`}:e.weekly?{periodicity:"weekly",hour:`${he(e.weekly.hour)}:${he(e.weekly.minute)}`,daysOfWeek:[...e.weekly.daysOfWeek]}:{periodicity:"single"}}getCurrentHour(e){let i=he(e.getHours()),t=he(e.getMinutes());return`${i}:${t}`}getHourFirstExecution(e){return this.getCurrentHour(new Date(e))}removeInvalidKeys(e,i){let t=i||["periodicity","hour","minute","day","daysOfWeek","dayOfMonth","firstExecutionHour","frequency","rangeLimitHour","rangeLimitDay"];Object.keys(e).forEach(n=>{(t.includes(n)||n==="rangeExecutions"&&e.periodicity==="single")&&delete e[n]})}replaceHourFirstExecution(e,i){try{if(!e)return e;let t=e.split("-"),n=i.split(":");if(t.length<2||n.length<1)return e;let s=parseInt(t[0]),c=parseInt(t[1])-1,y=parseInt(t[2]),L=parseInt(n[0],10),ae=parseInt(n[1],10),oe=new Date(s,c,y,L,ae);return oe instanceof Date&&!isNaN(oe.getTime())?hr(oe):e}catch{return e}}returnValidExecutionParameter(e){let i=m({},e);for(let t in i)i.hasOwnProperty(t)&&i[t]===void 0&&delete i[t];return i}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),qr=(()=>{class o{poPageJobSchedulerService;_componentsSize=void 0;breadcrumb={items:[]};set componentsSize(e){this._componentsSize=ie(e)}get componentsSize(){return this._componentsSize??X()}serviceApi;title;parameters=[];set value(e){this.model=this.poPageJobSchedulerService.convertToJobSchedulerInternal(e)}set stepperDefaultOrientation(e){this._orientation=Object.values(zi).includes(e)?e:void 0}get stepperDefaultOrientation(){return this._orientation}beforeSendAction;stepExecutionLast;success=new T;error=new T;model=new De;_subscription=new Xe;_orientation;constructor(e){this.poPageJobSchedulerService=e}ngOnDestroy(){this._subscription.unsubscribe()}loadData(e){if(!e){this.model=this.model||new De;return}this._subscription.add(this.poPageJobSchedulerService.getResource(e).subscribe(i=>{this.model=i},()=>{this.model=new De}))}markAsDirtyInvalidControls(e){for(let i in e)if(e.hasOwnProperty(i)){let t=e[i];t.invalid&&t.markAsDirty()}}static \u0275fac=function(i){return new(i||o)(W(Ye))};static \u0275dir=J({type:o,inputs:{breadcrumb:[0,"p-breadcrumb","breadcrumb"],componentsSize:[0,"p-components-size","componentsSize"],serviceApi:[0,"p-service-api","serviceApi"],title:[0,"p-title","title"],parameters:[0,"p-parameters","parameters"],value:[0,"p-value","value"],stepperDefaultOrientation:[0,"p-orientation","stepperDefaultOrientation"],beforeSendAction:[0,"p-before-send","beforeSendAction"],stepExecutionLast:[0,"p-step-execution-last","stepExecutionLast"]},outputs:{success:"p-success",error:"p-error"}})}return o})(),ao={en:{at:"at",back:"Back",next:"Next",periodicity:"Periodicity",execution:"Execution",process:"Process",enterProcess:"Enter a process",recurrent:"Recurrent",single:"Single",daily:"Daily",weekly:"Weekly",monthly:"Monthly",scheduling:"Scheduling",parameterization:"Parameterization",conclude:"Conclude",firstExecution:"First Execution",startTime:"Start time",endTime:"End time",time:"Time",hour:"Hour",minute:"Minute",day:"Day",endDay:"End day",startDay:"Start day",weekDays:"Week days",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",parameters:"Parameters",yes:"Yes",no:"No",notReported:"Not reported",periodicityData:"Periodicity data",confirmation:"Confirmation",confirmSaveMessage:"Are you sure you want to complete this schedule?",confirmUpdateMessage:"Are you sure you want to update this schedule?",saveNotificationSuccessUpdate:"Successfully updated scheduling",saveNotificationSuccessSave:"Successfully saved scheduling",parametersNotFound:"Parameters not found.",frequency:"Frequency",to:"to",from:"from"},es:{at:"a las",back:"Volver",next:"Avanzar",periodicity:"Periodicidad",execution:"Ejecuci\xF3n",process:"Proceso",enterProcess:"Informe un proceso",recurrent:"Recurrente",single:"\xDAnica",daily:"Diaria",weekly:"Semanal",monthly:"Mensual",scheduling:"Programaci\xF3n",parameterization:"Parametrizaci\xF3n",conclude:"Completar",firstExecution:"Primera ejecuci\xF3n",startTime:"Hora de inicio",endTime:"Hora de finalizaci\xF3n",time:"Hor\xE1rio",hour:"Hora",minute:"Minute",day:"D\xEDa",endDay:"\xDAltimo D\xEDa",startDay:"D\xEDa de inicio",weekDays:"Dias de la semana",sunday:"Domingo",monday:"Lunes",tuesday:"Martes",wednesday:"Mi\xE9rcoles",thursday:"Jueves",friday:"Viernes",saturday:"S\xE1bado",parameters:"Par\xE1metros",yes:"S\xED",no:"No",notReported:"No informado",periodicityData:"Dados da periodicidade",confirmation:"Confirmaci\xF3n",confirmSaveMessage:"\xBFEst\xE1 seguro de que desea completar esta programaci\xF3n de proceso?",confirmUpdateMessage:"\xBFEst\xE1 seguro de que desea cambiar esta programaci\xF3n de proceso?",saveNotificationSuccessUpdate:"Programaci\xF3n de proceso actualizada con \xE9xito.",saveNotificationSuccessSave:"Programaci\xF3n de proceso salvo con \xE9xito.",parametersNotFound:"No se encontraron par\xE1metros.",frequency:"Frecuencia",to:"de",from:"a"},pt:{at:"\xE0s",back:"Voltar",next:"Avan\xE7ar",periodicity:"Periodicidade",execution:"Execu\xE7\xE3o",process:"Processo",enterProcess:"Informe um processo",recurrent:"Recorrente",single:"\xDAnica",daily:"Di\xE1ria",weekly:"Semanal",monthly:"Mensal",scheduling:"Agendamento",parameterization:"Parametriza\xE7\xE3o",conclude:"Concluir",firstExecution:"Primeira execu\xE7\xE3o",startTime:"Hor\xE1rio inicial",endTime:"Hor\xE1rio final",time:"Hor\xE1rio",hour:"Hora",minute:"Minuto",day:"Dia",endDay:"Dia final",startDay:"Dia inicial",weekDays:"Dias de semana",sunday:"Domingo",monday:"Segunda-feira",tuesday:"Ter\xE7a-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"S\xE1bado",parameters:"Par\xE2metros",yes:"Sim",no:"N\xE3o",notReported:"N\xE3o informado",periodicityData:"Dados da periodicidade",confirmation:"Confirma\xE7\xE3o",confirmSaveMessage:"Tem certeza que deseja concluir este agendamento de processo?",confirmUpdateMessage:"Tem certeza que deseja alterar este agendamento de processo?",saveNotificationSuccessUpdate:"Agendamento de processo atualizado com sucesso.",saveNotificationSuccessSave:"Agendamento de processo salvo com sucesso.",parametersNotFound:"Par\xE2metros n\xE3o foram encontrados.",frequency:"Frequ\xEAncia",to:"das",from:"at\xE9"},ru:{at:"\u0432",back:"\u041D\u0430\u0437\u0430\u0434",next:"\u0421\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439",periodicity:"\u041F\u0435\u0440\u0438\u043E\u0434\u0438\u0447\u043D\u043E\u0441\u0442\u044C",execution:"\u0412\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0435",process:"\u041F\u0440\u043E\u0446\u0435\u0441\u0441",enterProcess:"\u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u043F\u0440\u043E\u0446\u0435\u0441\u0441",recurrent:"\u041F\u0435\u0440\u0438\u043E\u0434\u0438\u0447\u0435\u0441\u043A\u0438",single:"\u041E\u0434\u0438\u043D\u043E\u0447\u043D\u044B\u0439",daily:"\u0415\u0436\u0435\u0434\u043D\u0435\u0432\u043D\u043E",weekly:"\u0415\u0436\u0435\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u043E",monthly:"\u0415\u0436\u0435\u043C\u0435\u0441\u044F\u0447\u043D\u043E",scheduling:"\u041F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435",parameterization:"\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u044F",conclude:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C",firstExecution:"\u041F\u0435\u0440\u0432\u0438\u0447\u043D\u043E\u0435 \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0435",startTime:"\u043D\u0430\u0447\u0430\u043B\u044C\u043D\u043E\u0435 \u0432\u0440\u0435\u043C\u044F",endTime:"\u0432\u0440\u0435\u043C\u044F \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F",time:"\u0440\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u0435",hour:"\u0427\u0430\u0441",day:"\u0414\u0435\u043D\u044C",minute:"\u043C\u0438\u043D\u0443\u0442\u0430",endDay:"\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0439 \u0434\u0435\u043D\u044C",startDay:"\u0434\u0435\u043D\u044C \u043D\u0430\u0447\u0430\u043B\u0430",weekDays:"\u0420\u0430\u0431\u043E\u0447\u0438\u0435 \u0434\u043D\u0438",sunday:"\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435",monday:"\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A",tuesday:"\u0412\u0442\u043E\u0440\u043D\u0438\u043A",wednesday:"\u0421\u0440\u0435\u0434\u0430",thursday:"\u0427\u0435\u0442\u0432\u0435\u0440\u0433",friday:"\u041F\u044F\u0442\u043D\u0438\u0446\u0430",saturday:"\u0421\u0443\u0431\u0431\u043E\u0442\u0430",parameters:"\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B",yes:"\u0414\u0430",no:"\u041D\u0435\u0442",notReported:"\u041D\u0435 \u0441\u043E\u043E\u0431\u0449\u0430\u0435\u0442\u0441\u044F",periodicityData:"\u0414\u0430\u043D\u043D\u044B\u0435 \u043E \u043F\u0435\u0440\u0438\u043E\u0434\u0438\u0447\u043D\u043E\u0441\u0442\u0438",confirmation:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435",confirmSaveMessage:"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C \u044D\u0442\u043E \u0440\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u0435?",confirmUpdateMessage:"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u044D\u0442\u043E \u0440\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u0435?",saveNotificationSuccessUpdate:"\u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u043E",saveNotificationSuccessSave:"\u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043E ",parametersNotFound:"\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B",frequency:"\u0427\u0430\u0441\u0442\u043E\u0442\u0430",to:"\u0441",from:"\u0434\u043E"}},$t=(()=>{class o{poPageJobSchedulerService=h(Ye);getFilteredItems({filter:e,page:i,pageSize:t}){let n={page:i,pageSize:t,search:e};return this.poPageJobSchedulerService.getProcesses(n)}getObjectByValue(e){return this.poPageJobSchedulerService.getProcess(e)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Nr=(()=>{class o{templateRef;executionParameter;disabledAdvance=!1;title;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||o)(W(wt))};static \u0275dir=J({type:o,selectors:[["","p-job-scheduler-parameters-template",""]],inputs:{executionParameter:[0,"p-execution-parameter","executionParameter"],disabledAdvance:[0,"p-disable-advance","disabledAdvance"],title:[0,"p-label-step","title"]},standalone:!1})}return o})(),Br=(()=>{class o{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||o)(W(wt))};static \u0275dir=J({type:o,selectors:[["","p-job-scheduler-summary-template",""]],standalone:!1})}return o})(),Wr=(()=>{class o{poPageJobSchedulerService=h(Ye);poPageJobSchedulerLookup=h($t);form;dailyTemplate;monthlyTemplate;weeklyTempalte;componentsSize;isEdit=!1;literals={};noParameters=!0;noCustomParamsComponent=!0;changeProcess=new T;dayPattern="^(3[0-1]|[0-2][0-9]|[1-9]|0[1-9])$";existProcessAPI=!0;minDateFirstExecution=new Date;periodicityOptions=[];periodicityTemplates;timePattern="^(2[0-3]|[01][0-9]):?([0-5][0-9])$";weekDays=[];frequencyOptions=[];containsFrequency=!1;frequency="hour";rangeLimitHour;_value={};set value(e){this._value=e&&pe(e,"object")?e:{},this.containsFrequency=!!(this._value.frequency&&this._value.frequency.value)}get value(){return this._value}get startDateFirstExecution(){return this.isEdit?void 0:this.minDateFirstExecution}get hourLabel(){return this.containsFrequency?this.literals.startTime:this.literals.time}get dayLabel(){return this.containsFrequency?this.literals.startDay:this.literals.day}ngAfterViewInit(){setTimeout(()=>{this.subscribeProcessIdValueChanges(),this.value.periodicity&&(this.frequencyOptions=this.frequencyOptions.map(e=>ne(m({},e),{disabled:e.value==="day"&&this.value.periodicity!=="monthly"})))})}ngOnInit(){this.periodicityTemplates={daily:this.dailyTemplate,monthly:this.monthlyTemplate,weekly:this.weeklyTempalte},this.noParameters&&this.noCustomParamsComponent&&this.checkExistsProcessesAPI(),this.periodicityOptions=this.getPeriodicityOptions(),this.weekDays=this.getWeekDays(),this.frequencyOptions=this.getFrequencyOptions()}onChangeContainsFrequency(e){e?this.value.frequency={type:"hour",value:null}:this.value.frequency={},this.value.rangeLimitHour=null,this.value.rangeLimitDay=null,this.value.dayOfMonth=null}onChangePeriodicityOptions(e){this.frequencyOptions=this.frequencyOptions.map(i=>ne(m({},i),{disabled:i.value==="day"&&e!=="monthly"})),this.value.frequency.type=null}onChangeFrequencyOptions(){this.value.rangeLimitHour=null}checkExistsProcessesAPI(){this.poPageJobSchedulerService.getHeadProcesses().subscribe(void 0,e=>{this.existProcessAPI=!1})}getPeriodicityOptions(){return[{label:this.literals.single,value:"single"},{label:this.literals.daily,value:"daily"},{label:this.literals.weekly,value:"weekly"},{label:this.literals.monthly,value:"monthly"}]}getFrequencyOptions(){return[{label:this.literals.day,value:"day"},{label:this.literals.hour,value:"hour"},{label:this.literals.minute,value:"minute"}]}getWeekDays(){return[{label:this.literals.sunday,value:"Sunday"},{label:this.literals.monday,value:"Monday"},{label:this.literals.tuesday,value:"Tuesday"},{label:this.literals.wednesday,value:"Wednesday"},{label:this.literals.thursday,value:"Thursday"},{label:this.literals.friday,value:"Friday"},{label:this.literals.saturday,value:"Saturday"}]}subscribeProcessIdValueChanges(){this.form.controls.processID?.valueChanges.subscribe(e=>{this.changeProcess.emit({processId:e,existAPI:this.existProcessAPI})})}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-page-job-scheduler-execution"]],viewQuery:function(i,t){if(i&1&&(D(dn,7),D(un,7),D(mn,7),D(hn,7)),i&2){let n;M(n=x())&&(t.form=n.first),M(n=x())&&(t.dailyTemplate=n.first),M(n=x())&&(t.monthlyTemplate=n.first),M(n=x())&&(t.weeklyTempalte=n.first)}},inputs:{componentsSize:[0,"p-components-size","componentsSize"],isEdit:[0,"p-is-edit","isEdit"],literals:[0,"p-literals","literals"],noParameters:[0,"p-no-parameters","noParameters"],noCustomParamsComponent:[0,"p-no-custom-params-component","noCustomParamsComponent"],value:[0,"p-value","value"]},outputs:{changeProcess:"p-change-process"},standalone:!1,decls:21,vars:17,consts:[["formExecution","ngForm"],["dailyTemplate",""],["weeklyTemplate",""],["monthlyTemplate",""],["inputHourTemplate",""],[1,"po-row"],["name","processID","p-required","",1,"po-md-12",3,"ngModel","p-disabled","p-label","p-placeholder","p-size"],[1,"po-md-12",3,"p-label"],["name","firstExecution","p-placeholder","dd/mm/aaaa","p-required","",1,"po-md-4",3,"ngModelChange","ngModel","p-disabled","p-label","p-min-date","p-size"],["name","firstExecutionHour","p-mask","99:99","p-mask-format-model","","p-placeholder","HH:mm","p-required","",1,"po-md-2",3,"ngModelChange","ngModel","p-disabled","p-label","p-pattern","p-size"],["name","periodicity","p-columns","4","p-required","",1,"po-sm-12",3,"ngModelChange","p-change","ngModel","p-label","p-options","p-size"],["name","processID","p-field-label","description","p-field-value","processID","p-required","",1,"po-md-12",3,"ngModel","p-disabled","p-filter-service","p-label","p-placeholder","p-size"],["name","processID","p-field-label","description","p-field-value","processID","p-required","",1,"po-md-12",3,"ngModelChange","ngModel","p-disabled","p-filter-service","p-label","p-placeholder","p-size"],["name","processID","p-required","",1,"po-md-12",3,"ngModelChange","ngModel","p-disabled","p-label","p-placeholder","p-size"],["name","containsFrequency",1,"po-md-12",3,"ngModelChange","p-change","ngModel","p-label","p-label-off","p-label-on","p-size"],[4,"ngTemplateOutlet"],["name","recurrent",1,"po-md-3",3,"ngModelChange","ngModel","p-label","p-label-off","p-label-on","p-size"],["name","frequencyType","p-required","",1,"po-md-10",3,"ngModelChange","p-change","ngModel","p-columns","p-options","p-size"],["name","frequencyValue","p-required","",1,"po-md-2",3,"ngModelChange","p-size","ngModel"],["name","daysOfWeek","p-columns","4","p-required","",1,"po-md-12",3,"ngModelChange","ngModel","p-label","p-options","p-size"],["name","dayOfMonth","p-required","",1,"po-md-3",3,"ngModelChange","ngModel","p-error-pattern","p-label","p-max","p-pattern","p-size"],["name","rangeLimitDay","p-required","",1,"po-md-3",3,"ngModel","p-error-pattern","p-label","p-max","p-pattern","p-size"],["name","rangeLimitDay","p-required","",1,"po-md-3",3,"ngModelChange","ngModel","p-error-pattern","p-label","p-max","p-pattern","p-size"],["name","hour","p-mask","99:99","p-mask-format-model","","p-placeholder","HH:mm","p-required","",1,"po-md-2",3,"ngModelChange","ngModel","p-label","p-pattern","p-size"],["name","rangeLimitHour","p-mask","99:99","p-mask-format-model","","p-placeholder","HH:mm","p-required","",1,"po-md-2",3,"ngModel","p-label","p-pattern","p-size"],["name","rangeLimitHour","p-mask","99:99","p-mask-format-model","","p-placeholder","HH:mm","p-required","",1,"po-md-2",3,"ngModelChange","ngModel","p-label","p-pattern","p-size"]],template:function(i,t){if(i&1){let n=C();a(0,"form",null,0)(2,"div",5),P(3,fn,1,1)(4,yn,1,5,"po-input",6),l(),a(5,"div",5),_(6,"po-divider",7),a(7,"po-datepicker",8),k("ngModelChange",function(c){return g(n),A(t.value.firstExecution,c)||(t.value.firstExecution=c),f(c)}),l(),a(8,"po-input",9),k("ngModelChange",function(c){return g(n),A(t.value.firstExecutionHour,c)||(t.value.firstExecutionHour=c),f(c)}),l()(),_(9,"hr"),a(10,"div",5)(11,"po-radio-group",10),k("ngModelChange",function(c){return g(n),A(t.value.periodicity,c)||(t.value.periodicity=c),f(c)}),w("p-change",function(c){return g(n),f(t.onChangePeriodicityOptions(c))}),l(),P(12,_n,8,13),l(),P(13,Cn,1,1,"ng-template",null,1,Oe)(15,Sn,3,5,"ng-template",null,2,Oe)(17,kn,3,8,"ng-template",null,3,Oe)(19,xn,2,5,"ng-template",null,4,Oe),l()}i&2&&(r(3),b(t.existProcessAPI?3:4),r(3),d("p-label",t.literals.firstExecution),r(),E("ngModel",t.value.firstExecution),d("p-disabled",t.isEdit)("p-label",t.literals.day)("p-min-date",t.startDateFirstExecution)("p-size",t.componentsSize),r(),E("ngModel",t.value.firstExecutionHour),d("p-disabled",t.isEdit)("p-label",t.literals.time)("p-pattern",t.timePattern)("p-size",t.componentsSize),r(3),E("ngModel",t.value.periodicity),d("p-label",t.literals.periodicity)("p-options",t.periodicityOptions)("p-size",t.componentsSize),r(),b(t.value.periodicity!=="single"?12:-1))},dependencies:[nt,ve,Se,ye,Ee,re,qe,Pi,Rt,_i,lt,ki,Mi,zt],encapsulation:2})}return o})(),Ur=(()=>{class o{form;componentsSize;literals={};parameters=[];value;valueChange=new T;ngAfterViewInit(){this.form&&setTimeout(()=>{this.form.valueChanges.subscribe(e=>{this.valueChange.emit(e)})})}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-page-job-scheduler-parameters"]],viewQuery:function(i,t){if(i&1&&D(Dn,5),i&2){let n;M(n=x())&&(t.form=n.first)}},inputs:{componentsSize:[0,"p-components-size","componentsSize"],literals:[0,"p-literals","literals"],parameters:[0,"p-parameters","parameters"],value:[0,"p-value","value"]},outputs:{valueChange:"p-valueChange"},standalone:!1,decls:2,vars:1,consts:[["parametersForm","ngForm"],[1,"po-text-center"],["p-group-form","",3,"p-components-size","p-fields","p-value"],["p-icon","ICON_INFO"],[1,"po-font-text-large"]],template:function(i,t){i&1&&P(0,Ln,3,3,"form")(1,Tn,4,1,"div",1),i&2&&b(t.parameters&&t.parameters.length?0:1)},dependencies:[ve,ye,re,Me,me],encapsulation:2})}return o})(),jr=(()=>{class o{datePipe=h(ui);componentsSize;literals={};parameters=[];value={};noParameters=!0;jobSchedulerSummaryTemplate;executionValue="";firstExecutionValue="";infoOrientation=Di.Horizontal;periodicityValue="";frequencyValue="";rangeLimitHour="";rangeLimitDay="";recurrentValue="";ngOnInit(){let{periodicity:e,hour:i,dayOfMonth:t,daysOfWeek:n,recurrent:s,firstExecution:c,firstExecutionHour:y,frequency:L,rangeLimitHour:ae,rangeLimitDay:oe}=this.value;this.periodicityValue=this.getPeriodicityLabel(e),L&&(this.frequencyValue=this.getFrequencyValue(L,e)),this.executionValue=this.getExecutionValue(e,i,n,t,ae,oe),this.firstExecutionValue=this.getFirstExecutionLabel(c,y),this.recurrentValue=this.getRecurrentValue(s)}getFrequencyValue(e,i){return e.value&&e.type&&i!=="single"?`${e.value} - ${e.type}`:""}getExecutionValue(e,i,t,n,s,c){switch(e){case"daily":return this.getHourLabel(i,s);case"monthly":return this.getMonthlyLabelExecution(n,i,s,c);case"weekly":return this.getWeeklyLabelExecution(t,i,s);default:return this.literals.notReported}}getFirstExecutionLabel(e,i){return e?`${this.datePipe.transform(e,"dd/MM/yyyy","-0200")} ${this.getHourLabel(i)}`:this.literals.notReported}getHourLabel(e,i){return`${i?this.literals.from:this.literals.at} ${e||"00:00"} ${i?this.literals.to+" "+i:""}`}getMonthlyLabelExecution(e,i,t,n){let s=this.getHourLabel(i,t);return`${n?this.literals.from:""} ${e} ${n?this.literals.to:""} ${n||""} ${s}`}getPeriodicityLabel(e){switch(e){case"daily":return this.literals.daily;case"monthly":return this.literals.monthly;case"weekly":return this.literals.weekly;default:return this.literals.single}}getRecurrentValue(e){return e?this.literals.yes:this.literals.no}getSorterWeekDays(){return{sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6}}getTranslateWeekDay(e){return{Sunday:this.literals.sunday,Monday:this.literals.monday,Tuesday:this.literals.tuesday,Wednesday:this.literals.wednesday,Thursday:this.literals.thursday,Friday:this.literals.friday,Saturday:this.literals.saturday}[e]||""}getWeekDaysLabel(e=[]){return this.sortWeekDays(e).map(t=>this.getTranslateWeekDay(t)).join(", ")}getWeeklyLabelExecution(e,i,t){return e&&Array.isArray(e)?`${this.getWeekDaysLabel(e)} ${this.getHourLabel(i,t)}`:this.literals.notReported}sortWeekDays(e=[]){let i=this.getSorterWeekDays();return e.sort((t,n)=>{let s=t.toLowerCase(),c=n.toLowerCase();return i[s]>i[c]?1:-1})}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-page-job-scheduler-summary"]],inputs:{componentsSize:[0,"p-components-size","componentsSize"],literals:[0,"p-literals","literals"],parameters:[0,"p-parameters","parameters"],value:[0,"p-value","value"],noParameters:[0,"p-no-parameters","noParameters"],jobSchedulerSummaryTemplate:[0,"p-summary-template","jobSchedulerSummaryTemplate"]},standalone:!1,decls:9,vars:14,consts:[[1,"po-md-12"],[3,"p-label","p-orientation","p-value"],[1,"po-pt-1","po-pb-1","po-md-12",3,"p-title"],[1,"po-pt-1","po-pb-1","po-md-12"],[3,"p-fields","p-value"],[3,"ngTemplateOutlet"]],template:function(i,t){i&1&&(a(0,"div",0),P(1,Fn,1,3,"po-info",1),_(2,"po-info",1),P(3,In,1,3,"po-info",1)(4,Rn,1,3,"po-info",1),_(5,"po-info",1)(6,"po-info",1),l(),P(7,On,2,3,"po-widget",2)(8,Vn,2,1,"div",3)),i&2&&(r(),b(t.noParameters?-1:1),r(),d("p-label",t.literals.periodicity)("p-orientation",t.infoOrientation)("p-value",t.periodicityValue),r(),b(t.frequencyValue!==""?3:-1),r(),b(t.value.periodicity!=="single"?4:-1),r(),d("p-label",t.literals.recurrent)("p-orientation",t.infoOrientation)("p-value",t.recurrentValue),r(),d("p-label",t.literals.firstExecution)("p-orientation",t.infoOrientation)("p-value",t.firstExecutionValue),r(),b(t.parameters&&t.parameters.length&&!t.jobSchedulerSummaryTemplate?7:-1),r(),b(t.jobSchedulerSummaryTemplate?8:-1))},dependencies:[nt,Bt,Li,mt],encapsulation:2})}return o})(),Ms=(()=>{class o extends qr{poPageDynamicLookupService=h($t);activatedRoute=h(le);poDialogService=h(We);poNotification=h(ke);schedulerExecution;schedulerParameters;parametersTemplate;jobSchedulerSummaryTemplate;isEdit=!1;literals=m({},ao[U]);publicValues;saveOperation;step=1;parametersEmpty=!0;stepParametersInitialized=!1;steps=[];backPageAction={label:this.literals.back,action:this.nextStepOperation.bind(this,"back"),disabled:this.isDisabledBack.bind(this)};concludePageAction={label:this.literals.conclude,action:this.confirmJobScheduler.bind(this)};nextPageAction={label:this.literals.next,action:this.nextStepOperation.bind(this,"next"),disabled:this.isDisabledAdvance.bind(this)};concludePageActions=[this.concludePageAction,this.backPageAction];nextPageActions=[this.nextPageAction,this.backPageAction];jobSchedulerActions=[...this.nextPageActions];stepExecution=1;stepParameters=2;stepSummary=3;_stepExecutionLast;constructor(){let e=h(Ye),i=h(q);super(e),this.poPageJobSchedulerService=e;let t=i.getShortLanguage();this.literals=m(m({},this.literals),ao[t]),this.backPageAction.label=this.literals.back,this.concludePageAction.label=this.literals.conclude,this.nextPageAction.label=this.literals.next}get stepperOrientation(){return this.stepperDefaultOrientation||(window.innerWidth>481&&window.innerWidth<960?"horizontal":"vertical")}ngOnInit(){let e=this.activatedRoute.snapshot.params.id;this.isEdit=!!e,this.poPageJobSchedulerService.configServiceApi({endpoint:this.serviceApi}),this.parameters.length&&(this.parametersEmpty=!1),this.loadData(e)}ngAfterContentInit(){this.checkStepExecutionLast(),this.getSteps()}changePageActionsBySteps(e,i){let t=this.steps.length;i===t?this.jobSchedulerActions=[...this.concludePageActions]:e===t&&i<e&&(this.jobSchedulerActions=[...this.nextPageActions])}nextStep(e){let i=e>this.step?"next":"back";if(!((e-this.step)*(i==="back"?-1:1)>1)&&this.validateStepExecution()&&!(i==="next"&&!this.validateStepSchedulerParameters())&&!(i==="next"&&!this.validateStepTemplateParameters())){if(this.step===this.stepExecution&&this.setModelRecurrent(),this.setPropertiesFromTemplate(),e===this.steps.length){let n=JSON.parse(JSON.stringify(this.model));this.publicValues=this.hidesSecretValues(n)}this.steps[this.step-1].status=i==="next"?ut.Done:ut.Default,this.changePageActionsBySteps(this.step,e),this.step=e,this.stepParametersInitialized=this.stepParametersInitialized||e===this.stepParameters}}onChangeProcess(e){e.existAPI&&e.processId&&this.parametersEmpty&&!this.parametersTemplate.length&&(this.getParametersByProcess(e.processId),this.isEdit||(this.model.executionParameter={}))}checkStepExecutionLast(){if(!this.parametersTemplate.length){this._stepExecutionLast=!1;return}this._stepExecutionLast=this.stepExecutionLast}confirmJobScheduler(){let e=this.activatedRoute.snapshot.params.id,i=e?this.literals.confirmUpdateMessage:this.literals.confirmSaveMessage;this.poDialogService.confirm({title:this.literals.confirmation,message:i,confirm:()=>{let t=this.beforeSendAction?this.beforeSendAction(this.model):void 0,n=m({},t||this.model);this.save(n,e)}})}emitSuccessMessage(e,i){i.subscribe({next:()=>{this.success.emit(),this.poNotification.success(e),this.resetJobSchedulerForm()},error:t=>this.error.emit(t)})}getParametersByProcess(e){this.poPageJobSchedulerService.getParametersByProcess(e).subscribe(i=>{this.parameters=i})}hidesSecretValues(e){let i="**********";return this.parameters.forEach(t=>{this.isSecretParameter(e,t)&&(e.executionParameter[t.property]=i)}),e}getSteps(){let e=[];this.parametersTemplate.toArray().forEach((t,n,s)=>{e.push({label:t.title||`${this.literals.parameterization} ${s.length>1?n+1:""}`})});let i=[];this._stepExecutionLast||i.push({label:this.literals.scheduling}),e.length?i=[...i,...e]:i.push({label:this.literals.parameterization}),this._stepExecutionLast&&i.push({label:this.literals.scheduling}),i.push({label:this.literals.conclude}),this.steps=i,this.stepSummary=this.steps.length,this._stepExecutionLast&&(this.stepExecution=this.stepSummary-1)}getTemplateCurrent(){let e=this.step-(this.stepExecutionLast?1:2);return this.parametersTemplate.toArray()[e]}templateHasDisable(){return!this.getTemplateCurrent()?.disabledAdvance}isDisabledAdvance(){if(this.step===this.stepExecution)return this.schedulerExecution?.form?.invalid;if(this.schedulerParameters)return this.schedulerParameters?.form?.invalid;let e=this.getTemplateCurrent();return e?e.disabledAdvance:!1}isDisabledBack(){return this.step===1}isSecretParameter(e,i){return e.executionParameter&&i.hasOwnProperty("secret")&&i.secret===!0&&e.executionParameter.hasOwnProperty(i.property)}nextStepOperation(e){let i=e==="back"?this.step-1:this.step+1;this.nextStep(i)}resetJobSchedulerForm(){this.schedulerExecution.form.reset(),setTimeout(()=>{this.model=new De,this.step=1,this.steps.forEach(e=>{e.status=ut.Default}),this.jobSchedulerActions=[...this.nextPageActions]})}save(e,i){let t=i?this.poPageJobSchedulerService.updateResource(i,e):this.poPageJobSchedulerService.createResource(e),n=i?this.literals.saveNotificationSuccessUpdate:this.literals.saveNotificationSuccessSave;this.emitSuccessMessage(n,t)}setModelRecurrent(){this.model.recurrent=this.model.periodicity==="single"?!1:this.model.recurrent}setPropertiesFromTemplate(){let e=this.getTemplateCurrent();e&&(this.model=ne(m({},this.model),{executionParameter:m(m({},this.model.executionParameter),e.executionParameter)}))}validateStepExecution(){return this.step==this.stepExecution&&this.schedulerExecution.form.invalid?(this.markAsDirtyInvalidControls(this.schedulerExecution.form.controls),!1):!0}validateStepSchedulerParameters(){return this.step===this.stepExecution||this.step===this.stepSummary?!0:this.schedulerParameters&&this.schedulerParameters.form&&this.schedulerParameters.form.invalid?(this.markAsDirtyInvalidControls(this.schedulerParameters.form.controls),!1):!0}validateStepTemplateParameters(){return this.step===this.stepExecution||this.step===this.stepSummary||!this.parametersTemplate.length?!0:this.templateHasDisable()}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-page-job-scheduler"]],contentQueries:function(i,t,n){if(i&1&&(kt(n,Br,5),kt(n,Nr,4)),i&2){let s;M(s=x())&&(t.jobSchedulerSummaryTemplate=s.first),M(s=x())&&(t.parametersTemplate=s)}},viewQuery:function(i,t){if(i&1&&(D(qn,7),D(Nn,5)),i&2){let n;M(n=x())&&(t.schedulerExecution=n.first),M(n=x())&&(t.schedulerParameters=n.first)}},standalone:!1,features:[ee],decls:13,vars:18,consts:[["formScheduler","ngForm"],["schedulerExecution",""],["schedulerParameters",""],[3,"p-actions","p-breadcrumb","p-components-size","p-title"],[1,"po-row"],["p-sequential","true",3,"p-change-step","ngClass","p-orientation","p-step","p-steps"],[3,"ngClass"],[1,"po-md-12",3,"p-change-process","p-no-parameters","p-no-custom-params-component","hidden","p-components-size","p-is-edit","p-literals","p-value"],[1,"po-md-12",3,"hidden","p-components-size","p-literals","p-parameters","p-value"],[1,"po-md-12",3,"p-no-parameters","p-summary-template","p-components-size","p-literals","p-parameters","p-value"],[3,"hidden"],[1,"po-md-12",3,"p-valueChange","hidden","p-components-size","p-literals","p-parameters","p-value"],[3,"ngTemplateOutlet"]],template:function(i,t){if(i&1){let n=C();a(0,"po-page-default",3)(1,"div",4)(2,"po-stepper",5),w("p-change-step",function(c){return g(n),f(t.nextStep(c))}),l(),a(3,"po-container",6)(4,"form",null,0)(6,"div",4)(7,"po-page-job-scheduler-execution",7,1),w("p-change-process",function(c){return g(n),f(t.onChangeProcess(c))}),l(),P(9,Wn,2,6,"po-page-job-scheduler-parameters",8)(10,Un,1,6,"po-page-job-scheduler-summary",9),l()(),Fe(11,Hn,2,2,"div",10,Te),l()()()}i&2&&(d("p-actions",t.jobSchedulerActions)("p-breadcrumb",t.breadcrumb)("p-components-size",t.componentsSize)("p-title",t.title),r(2),d("ngClass",t.stepperDefaultOrientation==="horizontal"?"po-lg-12 po-xl-12":"po-lg-3 po-xl-2")("p-orientation",t.stepperOrientation)("p-step",t.step)("p-steps",t.steps),r(),d("ngClass",t.stepperDefaultOrientation==="horizontal"?"po-lg-12 po-xl-12":"po-lg-8 po-xl-6"),r(4),d("p-no-parameters",t.parametersEmpty)("p-no-custom-params-component",!t.parametersTemplate.length)("hidden",t.step!==t.stepExecution)("p-components-size",t.componentsSize)("p-is-edit",t.isEdit)("p-literals",t.literals)("p-value",t.model),r(2),b(t.stepParametersInitialized&&!t.parametersTemplate.length?9:-1),r(),b(t.step===t.stepSummary?10:-1),r(),Ie(t.parametersTemplate))},dependencies:[Ve,nt,ve,ye,re,It,pt,Vi,Wr,Ur,jr],styles:[`po-container .po-container{overflow-y:unset}
`],encapsulation:2})}return o})(),lo=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({providers:[Ye,$t],imports:[B,G,Ft,vi,bi,rt,Ue,ct,Ne,Ti,je,qi,ht]})}return o})(),Je=function(o){return o.Basic="Basic",o.Bearer="Bearer",o}(Je||{}),Kt=(()=>{class o{http;constructor(e){this.http=e}onLogin(e,i,t){if(i===Je.Bearer)return t.password=btoa(t.password),this.http.post(e,t);{let n=`(${t.login}:${t.password})`,s=new fe({Authorization:`${i} `+btoa(n)});return delete t.login,delete t.password,this.http.post(e,t,{headers:s})}}static \u0275fac=function(i){return new(i||o)(ni(te))};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),co=40,Ht={en:{title:"Welcome",loginErrorPattern:"Invalid Login",loginHint:`Your login user was given to you at your first day.
    If you don't have this information contact support`,loginPlaceholder:"Insert your e-mail",passwordErrorPattern:"Invalid Password",passwordPlaceholder:"Insert your password",customFieldErrorPattern:"Invalid value",customFieldPlaceholder:"Please enter a value",rememberUser:"Automatic login",rememberUserHint:"You can disable this option in system configuration",submitLabel:"Enter",submittedLabel:"Loading...",forgotPassword:"Forgot your Password?",highlightInfo:"",registerUrl:"New register",titlePopover:"Oops!",forgotYourPassword:"Forgot your password?",ifYouTryHarder:"If you try ",attempts:"{0} more time(s) ",yourUserWillBeBlocked:"without success your user will be blocked and you will be left 24 hours without being able to access :(",createANewPasswordNow:"Better create a new password now! You will be able to log into the system right away.",iForgotMyPassword:"I forgot my password",welcome:"Welcome",support:"Support"},es:{title:"Bienvenido",loginErrorPattern:"Login inv\xE1lido",loginHint:`Su usuario ha sido entregado para usted en su primer d\xEDa.
    Si no tiene esta informaci\xF3n, p\xF3ngase en contacto con el soporte t\xE9cnico`,loginPlaceholder:"Inserte su e-mail",passwordErrorPattern:"Contrase\xF1a inv\xE1lida",passwordPlaceholder:"Inserte su contrase\xF1a",customFieldErrorPattern:"Valor no v\xE1lido.",customFieldPlaceholder:"Por favor introduzca un valor",rememberUser:"Inicio de sesi\xF3n autom\xE1ticamente",rememberUserHint:"Puede deshabilitar esta opci\xF3n en el men\xFA del sistema.",submitLabel:"Entrar",submittedLabel:"Cargando...",forgotPassword:"Olvidaste tu contrase\xF1a?",highlightInfo:"",registerUrl:"Nuevo registro",titlePopover:"Opa!",forgotYourPassword:"Olvidaste tu contrase\xF1a?",ifYouTryHarder:"Si intenta m\xE1s ",attempts:"{0} vez/veces ",yourUserWillBeBlocked:"sin \xE9xito su usuario sera bloqueado y usted v\xE1s permanecer 24 horas sin poder acceder a :(",createANewPasswordNow:"\xA1Mejor crear una nueva contrase\xF1a ahora! Usted podr\xE1 entrar en el sistema inmediatamente despu\xE9s.",iForgotMyPassword:"Olvide mi contrase\xF1a",welcome:"Bienvenido",support:"Soporte"},pt:{title:"Bem-vindo",loginErrorPattern:"Login inv\xE1lido",loginHint:`Seu usu\xE1rio foi entregue a voc\xEA no seu primeiro dia.
    Caso n\xE3o tenha mais essa informa\xE7\xE3o contacte o suporte`,loginPlaceholder:"Insira seu e-mail",passwordErrorPattern:"Senha inv\xE1lida",passwordPlaceholder:"Insira sua senha",customFieldErrorPattern:"Valor inv\xE1lido.",customFieldPlaceholder:"Por favor insira um valor",rememberUser:"Logar automaticamente",rememberUserHint:"Voc\xEA pode desabilitar essa op\xE7\xE3o no menu do sistema",submitLabel:"Entrar",submittedLabel:"Carregando...",forgotPassword:"Esqueceu sua senha?",highlightInfo:"",registerUrl:"Novo registro",titlePopover:"Opa!",forgotYourPassword:"Esqueceu sua senha?",ifYouTryHarder:"Se tentar mais ",attempts:"{0} vez(es) ",yourUserWillBeBlocked:"sem sucesso seu usu\xE1rio ser\xE1 bloqueado e voc\xEA fica 24 horas sem poder acessar :(",createANewPasswordNow:"Melhor criar uma senha nova agora! Voc\xEA vai poder entrar no sistema logo em seguida.",iForgotMyPassword:"Esqueci minha senha",welcome:"Boas-vindas",support:"Suporte"},ru:{title:"\u0414\u043E\u0431\u0440\u043E \u043F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C!",loginErrorPattern:"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043B\u043E\u0433\u0438\u043D",loginHint:`\u0412\u0430\u0448 \u043B\u043E\u0433\u0438\u043D \u0431\u044B\u043B \u043F\u0440\u0435\u0434\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D \u0432\u0430\u043C \u0432 \u043F\u0435\u0440\u0432\u044B\u0439 \u0434\u0435\u043D\u044C.
    \u0415\u0441\u043B\u0438 \u0443 \u0432\u0430\u0441 \u043D\u0435\u0442 \u044D\u0442\u043E\u0439 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438, \u043E\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044C \u0432 \u0441\u043B\u0443\u0436\u0431\u0443 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0438`,loginPlaceholder:"\u0412\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u0441\u0432\u043E\u0439 \u0430\u0434\u0440\u0435\u0441 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B",passwordErrorPattern:"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C",passwordPlaceholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043E\u0439 \u043F\u0430\u0440\u043E\u043B\u044C",customFieldErrorPattern:"\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435.",customFieldPlaceholder:"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435",rememberUser:"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0432\u0445\u043E\u0434",rememberUserHint:"\u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u044D\u0442\u0443 \u043E\u043F\u0446\u0438\u044E \u0432 \u043A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u0438\u0441\u0442\u0435\u043C\u044B",submitLabel:"\u0412\u043E\u0439\u0442\u0438",submittedLabel:"3\u0430\u0433\u0440\u0443\u0437\u043A\u0430...",forgotPassword:"\u0417\u0430\u0431\u044B\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C?",highlightInfo:"",registerUrl:"\u041D\u043E\u0432\u044B\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440",titlePopover:"\u041E\u0439!",forgotYourPassword:"\u0417\u0430\u0431\u044B\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C?",ifYouTryHarder:"\u0415\u0441\u043B\u0438 \u0432\u044B \u0431\u0435\u0437\u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043F\u043E\u043F\u044B\u0442\u0430\u0435\u0442\u0435\u0441\u044C \u0432\u043E\u0439\u0442\u0438 \u0435\u0449\u0435 ",attempts:"{0} \u0440\u0430\u0437(\u0430) ",yourUserWillBeBlocked:"\u0412\u0430\u0448 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u043D, \u0438 \u0412\u044B \u043E\u0441\u0442\u0430\u043D\u0435\u0442\u0435\u0441\u044C \u043D\u0430 24 \u0447\u0430\u0441\u0430 \u0431\u0435\u0437 \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438 \u0434\u043E\u0441\u0442\u0443\u043F\u0430 :(",createANewPasswordNow:"\u041B\u0443\u0447\u0448\u0435 \u0441\u043E\u0437\u0434\u0430\u0439\u0442\u0435 \u043D\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C \u0441\u0435\u0439\u0447\u0430\u0441!\xA0\u0412\u044B \u0441\u043C\u043E\u0436\u0435\u0442\u0435 \u0441\u0440\u0430\u0437\u0443 \u0432\u043E\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043C\u0443.",iForgotMyPassword:"\u042F \u0437\u0430\u0431\u044B\u043B \u0441\u0432\u043E\u0439 \u043F\u0430\u0440\u043E\u043B\u044C",welcome:"\u0434\u043E\u0431\u0440\u043E \u043F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C",support:"\u041F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0430"}},Hr={en:"in",es:"en",pt:"em",ru:"\u0432"},Jr=(()=>{class o{loginService;router;poLanguageService;background;logo;loginPattern;passwordPattern;secondaryLogo;loginChange=new T;loginSubmit=new T;passwordChange=new T;languageChange=new T;noAutocompleteLogin=!0;noAutocompletePassword=!0;hideLabelStatus=!1;hidePasswordPeek;allLoginErrors=[];allPasswordErrors=[];customFieldObject;customFieldType;loginSubscription;password;rememberUser=!1;selectedLanguage;showExceededAttemptsWarning=!1;_authenticationType=Je.Basic;_authenticationUrl;_blockedUrl;_componentsSize=void 0;_contactEmail;_customField;_environment;_exceededAttemptsWarning;_hideRememberUser=!1;_literals;_loading=!1;_login;_loginErrors=[];_passwordErrors=[];_productName;_recovery;_registerUrl;_support;_languagesList;set componentsSize(e){this._componentsSize=ie(e)}get componentsSize(){return this._componentsSize??X()}set customField(e){if(e){if(pe(e,"string")){this.customFieldType="input",this._customField=e,this.customFieldObject=this.getDefaultCustomFieldObject(e);return}if(pe(e,"object")&&!Array.isArray(e)&&e.property){this._customField=e,this.customFieldObject=e,!this.customFieldObject.options&&!this.customFieldObject.url?this.customFieldType="input":this.customFieldType=this.customFieldObject.options?"select":"combo";return}}this._customField=void 0,this.customFieldObject=void 0}get customField(){return this._customField}set contactEmail(e){this._contactEmail=e}get contactEmail(){return this._contactEmail}set productName(e){this._productName=e}get productName(){return this._productName}set environment(e){e&&e.length>co?this._environment=e.substring(0,co):this._environment=e}get environment(){return this._environment}set exceededAttemptsWarning(e){this._exceededAttemptsWarning=yt(e),this.showExceededAttemptsWarning=this.exceededAttemptsWarning>0}get exceededAttemptsWarning(){return this._exceededAttemptsWarning}set hideRememberUser(e){this._hideRememberUser=e===""?!0:O(e),this._hideRememberUser&&(this.rememberUser=!1)}get hideRememberUser(){return this._hideRememberUser}set literals(e){this._literals=e}get literals(){return this._literals}set loading(e){this._loading=O(e)}get loading(){return this._loading}set login(e){this._login=e,this.authenticationUrl||this.loginChange.emit(this._login)}get login(){return this._login}set loginErrors(e){this._loginErrors=e||[],this.setLoginErrors(this._loginErrors)}get loginErrors(){return this._loginErrors}set passwordErrors(e){this._passwordErrors=e||[],this.setPasswordErrors(this._passwordErrors)}get passwordErrors(){return this._passwordErrors}set recovery(e){this._recovery=e}get recovery(){return this._recovery}set registerUrl(e){this._registerUrl=pe(e,"string")?e:void 0}get registerUrl(){return this._registerUrl}set authenticationType(e){this._authenticationType=Object.values(Je).includes(e)?e:Je.Basic}get authenticationType(){return this._authenticationType}set authenticationUrl(e){this._authenticationUrl=pe(e,"string")?e:void 0}get authenticationUrl(){return this._authenticationUrl}set blockedUrl(e){this._blockedUrl=pe(e,"string")?e:void 0}get blockedUrl(){return this._blockedUrl}set support(e){this._support=e}get support(){return this._support}set languagesList(e){e&&(e.length?this._languagesList=e:this._languagesList=st.filter(i=>i.language===this.language))}get languagesList(){return this._languagesList?this._languagesList:st}get showLanguage(){return this.languagesList.length>1}get language(){return this.selectedLanguage||mr()}get pageLoginLiterals(){let e=this.contactEmail?this.concatenateLoginHintWithContactEmail(this.contactEmail):void 0;return m(m(m(m({},Ht[U]),Ht[this.language]),e),this.literals)}constructor(e,i,t){this.loginService=e,this.router=i,this.poLanguageService=t,this.selectedLanguage=this.poLanguageService.getShortLanguage()}ngOnDestroy(){this.loginSubscription&&this.loginSubscription.unsubscribe()}closePopover(){this.showExceededAttemptsWarning=!1}onLoginSubmit(){let e={login:this.login,password:this.password,rememberUser:this.rememberUser};this.customField&&(e[this.customFieldObject.property]=this.customFieldObject.value),this.authenticationUrl?(this.loading=!0,this.loginSubscription=this.loginService.onLogin(this.authenticationUrl,this.authenticationType,e).subscribe(i=>{this.setValuesToProperties(),sessionStorage.setItem("PO_USER_LOGIN",JSON.stringify(i)),this.openInternalLink("/"),this.loading=!1},i=>{(i.error.code==="400"||i.error.code==="401")&&(this.setValuesToProperties(i),this.redirectBlockedUrl(this.exceededAttemptsWarning,this.blockedUrl)),this.loading=!1})):(this.loginSubmit.emit(e),this.showExceededAttemptsWarning=this.exceededAttemptsWarning>0)}getDefaultCustomFieldObject(e){return{property:e}}openExternalLink(e){window.open(e,"_blank")}openInternalLink(e){this.router.navigate([e])}redirectBlockedUrl(e,i){e===0&&i&&(this.showExceededAttemptsWarning=!1,de(i)?this.openExternalLink(i):this.openInternalLink(i))}setValuesToProperties(e){e?(this.exceededAttemptsWarning=e.error.maxAttemptsRemaining,this.loginErrors=e.error.loginWarnings,this.passwordErrors=e.error.passwordWarnings,this.blockedUrl=e.error.blockedUrl):(this.exceededAttemptsWarning=0,this.loginErrors=[],this.passwordErrors=[],this.blockedUrl="")}static \u0275fac=function(i){return new(i||o)(W(Kt),W(se),W(q))};static \u0275dir=J({type:o,inputs:{background:[0,"p-background","background"],logo:[0,"p-logo","logo"],loginPattern:[0,"p-login-pattern","loginPattern"],passwordPattern:[0,"p-password-pattern","passwordPattern"],secondaryLogo:[0,"p-secondary-logo","secondaryLogo"],noAutocompleteLogin:[0,"p-no-autocomplete-login","noAutocompleteLogin"],noAutocompletePassword:[0,"p-no-autocomplete-password","noAutocompletePassword"],hideLabelStatus:[2,"p-hide-label-status","hideLabelStatus",O],hidePasswordPeek:[0,"p-hide-password-peek","hidePasswordPeek"],componentsSize:[0,"p-components-size","componentsSize"],customField:[0,"p-custom-field","customField"],contactEmail:[0,"p-contact-email","contactEmail"],productName:[0,"p-product-name","productName"],environment:[0,"p-environment","environment"],exceededAttemptsWarning:[0,"p-exceeded-attempts-warning","exceededAttemptsWarning"],hideRememberUser:[0,"p-hide-remember-user","hideRememberUser"],literals:[0,"p-literals","literals"],loading:[0,"p-loading","loading"],login:[0,"p-login","login"],loginErrors:[0,"p-login-errors","loginErrors"],passwordErrors:[0,"p-password-errors","passwordErrors"],recovery:[0,"p-recovery","recovery"],registerUrl:[0,"p-register-url","registerUrl"],authenticationType:[0,"p-authentication-type","authenticationType"],authenticationUrl:[0,"p-authentication-url","authenticationUrl"],blockedUrl:[0,"p-blocked-url","blockedUrl"],support:[0,"p-support","support"],languagesList:[0,"p-languages","languagesList"]},outputs:{loginChange:"p-login-change",loginSubmit:"p-login-submit",passwordChange:"p-password-change",languageChange:"p-language-change"},features:[Le]})}return o})(),Qr=(()=>{class o{literals;set recovery(e){this._recovery=e,pe(e,"string")&&(this.recoveryType=de(e)?"externalLink":"internalLink")}get recovery(){return this._recovery}remainingAttempts;forgotPassword=new T;recoveryType;_recovery;onForgotPasswordClick(e){this.forgotPassword.emit(e)}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-page-login-popover"]],inputs:{literals:[0,"p-literals","literals"],recovery:[0,"p-recovery","recovery"],remainingAttempts:[0,"p-remaining-attempts","remainingAttempts"]},outputs:{forgotPassword:"p-forgot-password"},standalone:!1,decls:18,vars:10,consts:[[1,"po-page-login-popover-container"],[1,"po-page-login-popover"],[1,"po-page-login-popover-arrow"],[1,"po-page-login-popover-content"],[1,"po-font-text-bold","po-page-login-popover-title"],[1,"po-font-text"],[1,"po-font-text-bold","po-page-login-popover-attempts"],[1,"po-font-text-bold","po-mt-1","po-page-login-popover-link-container"],[1,"po-page-login-popover-link",3,"routerLink"],["target","_blank",1,"po-page-login-popover-link",3,"href"],[1,"po-page-login-popover-link"],[1,"po-page-login-popover-link",3,"click"]],template:function(i,t){i&1&&(a(0,"div",0)(1,"div",1),_(2,"div",2),a(3,"div",3)(4,"p",4),v(5),l(),a(6,"p",5),v(7),l(),a(8,"p",5),v(9),a(10,"span",6),v(11),Mt(12,"poI18n"),l(),v(13),l(),_(14,"br"),a(15,"p",5),v(16),l(),P(17,Kn,4,3,"div",7),l()()()),i&2&&(r(5),S(" ",t.literals==null?null:t.literals.titlePopover," "),r(2),S(" ",t.literals==null?null:t.literals.forgotYourPassword," "),r(2),S(" ",t.literals==null?null:t.literals.ifYouTryHarder," "),r(2),S(" ",xt(12,7,t.literals==null?null:t.literals.attempts,t.remainingAttempts)," "),r(2),S("",t.literals==null?null:t.literals.yourUserWillBeBlocked," "),r(3),S(" ",t.literals==null?null:t.literals.createANewPasswordNow," "),r(),b(t.recovery?17:-1))},dependencies:[Lt,Ae],encapsulation:2})}return o})(),xs=(()=>{class o extends Jr{changeDetector=h(ze);activatedRoute=h(le);poComponentInjector=h(Ot);loginForm;pageLogin;initialSelectLanguage;componentRef=null;differ;customPasswordError={custom:!1};constructor(){let e=h(li),i=h(Kt),t=h(se),n=h(q);super(i,t,n),this.differ=e.find([]).create(null)}ngAfterViewChecked(){this.differ&&this.validateArrayChanges(this.differ,[{array:this.loginErrors,callback:this.generateLoginError.bind(this)},{array:this.passwordErrors,callback:this.generatePasswordError.bind(this)}])}ngOnInit(){this.checkingForRouteMetadata(this.activatedRoute.snapshot.data),this.selectedLanguage=this.initializeLanguage(),this.initialSelectLanguage=this.selectedLanguage}activateSupport(){switch(typeof this.support){case"string":{this.setUrlRedirect(this.support);break}case"function":{this.support();break}}}changeLoginModel(){this.authenticationUrl?this.loginErrors=[]:(this.setLoginErrors(this.loginErrors),this.loginChange.emit(this.login))}changePasswordModel(){this.authenticationUrl?this.passwordErrors=[]:(this.setPasswordErrors(this.passwordErrors),this.passwordChange.emit(this.password))}onSelectedLanguage(e){this.languageChange.emit(this.languagesList.find(i=>i.language===e)),this.selectedLanguage=e}openUrl(e){switch(typeof e){case"string":{this.setUrlRedirect(e);break}case"function":{e();break}case"object":{this.createModalPasswordRecoveryComponent(e);break}}}concatenateLoginHintWithContactEmail(e){let i=Ht[this.language].loginHint,t=Hr[this.language];return this.concatenateLiteral(e,"loginHint",i,t)}setLoginErrors(e){let i=this.loginForm.form.controls.login;this.setControlErrors("allLoginErrors",i,e,this.pageLoginLiterals.loginErrorPattern)}setPasswordErrors(e){let i=this.loginForm.form.controls.password;this.setControlErrors("allPasswordErrors",i,e,this.pageLoginLiterals.passwordErrorPattern)}checkingForMetadataProperty(e,i){if(Object.prototype.hasOwnProperty.call(e,i))return e[i]}checkingForRouteMetadata(e){Object.keys(e).length!==0&&(this.authenticationUrl=this.checkingForMetadataProperty(e,"serviceApi")||this.authenticationUrl,this.authenticationType=this.checkingForMetadataProperty(e,"authenticationType")||this.authenticationType,this.environment=this.checkingForMetadataProperty(e,"environment")||this.environment,this.recovery=this.checkingForMetadataProperty(e,"recovery")||this.recovery,this.registerUrl=this.checkingForMetadataProperty(e,"registerUrl")||this.registerUrl)}concatenate(e,i,t){return`${e} ${i} ${t}`}concatenateLiteral(e,i,t,n){return{[i]:this.concatenate(t,n,e)}}createModalPasswordRecoveryComponent(e){this.componentRef&&this.poComponentInjector.destroyComponentInApplication(this.componentRef),this.componentRef=this.poComponentInjector.createComponentInApplication(yo),this.componentRef.instance.urlRecovery=e.url,this.componentRef.instance.contactEmail=e.contactMail,this.componentRef.instance.phoneMask=e.phoneMask,this.componentRef.instance.type=e.type||N.Email,this.componentRef.changeDetectorRef.detectChanges(),setTimeout(()=>{this.componentRef.instance.open()})}generateLoginError(){if(this.loginErrors&&this.loginErrors.length)this.setLoginErrors(this.loginErrors);else{let e=this.loginForm.form.controls.login;e&&this.resetControl(e)}}generatePasswordError(){if(this.passwordErrors&&this.passwordErrors.length)this.setPasswordErrors(this.passwordErrors);else{let e=this.loginForm.form.controls.password;e&&this.resetControl(e)}}resetControl(e){e.markAsPristine(),e.markAsUntouched(),e.updateValueAndValidity()}setControlErrors(e,i,t,n){i&&(this[e]=i.hasError("pattern")?[...t,n]:[...t],t&&t.length&&(i.valid||i.pristine)&&(i.markAsTouched(),i.markAsDirty(),i.setErrors(this.customPasswordError)))}setUrlRedirect(e){de(e)?window.open(e,"_blank"):this.router.navigate([e])}validateArrayChanges(e,i){i.forEach(t=>{e.diff(t.array)&&(t.callback(),this.changeDetector.detectChanges())})}initializeLanguage(){return this.languagesList.find(i=>i.language===this.language)?.language||this.languagesList[0].language}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=F({type:o,selectors:[["po-page-login"]],viewQuery:function(i,t){if(i&1&&(D(Gn,7,re),D(Yn,7,St)),i&2){let n;M(n=x())&&(t.loginForm=n.first),M(n=x())&&(t.pageLogin=n.first)}},standalone:!1,features:[ee],decls:38,vars:44,consts:[["pageLogin",""],["loginForm","ngForm"],[1,"po-page-login-support",3,"click","hidden"],["p-icon","ICON_HELP"],[3,"p-selected-language","p-components-size","p-show-select-language","p-languages","p-initial-language","p-background","p-highlight-info","p-logo","p-secondary-logo"],[1,"po-page-login-header"],[1,"po-page-login-header-product-name"],[1,"po-page-login-header-product-environment","po-mb-md-4","po-mb-sm-1"],["p-type","warning",3,"p-value"],[1,"po-page-login-header-welcome","po-mb-md-4","po-mb-sm-2"],[1,"po-page-login-form"],[1,"po-row"],[1,"po-lg-12"],[1,"po-page-login-hint","po-page-login-info-container"],["name","login","p-auto-focus","","p-required","",1,"po-page-login-info-field",3,"ngModelChange","click","keyup.enter","p-change-model","ngModel","p-label","p-no-autocomplete","p-pattern","p-placeholder","p-size"],[1,"po-page-login-info-icon-container",3,"po-page-login-info-icon-container-dynamic"],[1,"po-field-container-bottom","po-field-container-error-container"],[1,"po-field-container-bottom-text-error","po-field-container-error-item"],[1,"po-page-login-password-container"],["name","password","p-required","",1,"po-page-login-field-size","po-page-login-password-item",3,"ngModelChange","click","keyup.enter","p-change-model","ngModel","p-hide-password-peek","p-label","p-no-autocomplete","p-pattern","p-placeholder","p-size"],[1,"po-page-login-password-item","po-page-login-password-popover-container"],["name","customFieldInput","p-required","",1,"po-page-login-field-size","po-lg-12",3,"po-page-login-field-size-dynamic","ngModel","p-error-pattern","p-pattern","p-placeholder","p-size"],["name","customFieldCombo","p-required","",1,"po-page-login-field-size","po-lg-12",3,"po-page-login-field-size-dynamic","ngModel","p-field-value","p-filter-service","p-placeholder","p-size"],["name","customFieldSelect","p-required","",1,"po-page-login-field-size","po-lg-12",3,"po-page-login-field-size-dynamic","ngModel","p-placeholder","p-options","p-size"],["p-kind","primary",1,"po-lg-12","po-page-login-button","po-page-login-field-size",3,"p-click","p-disabled","p-label","p-loading","p-size"],[1,"po-page-login-recovery-link"],[1,"po-page-login-register-link"],[1,"po-page-login-info-icon-container"],["p-icon","ICON_INFO po-field-icon","p-tooltip-position","right",3,"p-tooltip"],["p-icon","ICON_EXCLAMATION"],[1,"po-field-container-error-text"],[3,"p-literals","p-recovery","p-remaining-attempts"],[3,"p-forgot-password","p-literals","p-recovery","p-remaining-attempts"],["name","customFieldInput","p-required","",1,"po-page-login-field-size","po-lg-12",3,"ngModelChange","keyup.enter","ngModel","p-error-pattern","p-pattern","p-placeholder","p-size"],["name","customFieldCombo","p-required","",1,"po-page-login-field-size","po-lg-12",3,"ngModelChange","ngModel","p-field-value","p-filter-service","p-placeholder","p-size"],["name","customFieldSelect","p-required","",1,"po-page-login-field-size","po-lg-12",3,"ngModelChange","ngModel","p-placeholder","p-options","p-size"],["name","rememberUser","p-label-position","1",1,"po-page-login-info-field","po-lg-7","po-offset-lg-5","po-offset-xl-5",3,"ngModelChange","keyup.enter","ngModel","p-label-off","p-label-on","p-size","p-hide-label-status"],[1,"po-page-login-info-icon-container","po-page-login-info-icon-remember-user",3,"po-page-login-info-icon-container-dynamic"],[1,"po-page-login-info-icon-container","po-page-login-info-icon-remember-user"],[1,"po-font-text-large-bold",3,"click"]],template:function(i,t){if(i&1){let n=C();a(0,"button",2),w("click",function(){return g(n),f(t.activateSupport())}),_(1,"po-icon",3),v(2),l(),a(3,"po-page-background",4,0),w("p-selected-language",function(c){return g(n),f(t.onSelectedLanguage(c))}),a(5,"header",5)(6,"div",6)(7,"h1"),v(8),l()(),a(9,"div",7),P(10,Xn,1,1,"po-tag",8),l(),a(11,"div",9),v(12),l()(),a(13,"form",10,1)(15,"div",11)(16,"div",12)(17,"div",13)(18,"po-login",14),k("ngModelChange",function(c){return g(n),A(t.login,c)||(t.login=c),f(c)}),w("click",function(){return g(n),f(t.closePopover())})("keyup.enter",function(){g(n);let c=K(14);return f(c.valid&&t.onLoginSubmit())})("p-change-model",function(){return g(n),f(t.changeLoginModel())}),l(),P(19,er,2,3,"div",15),l(),a(20,"div",16),Fe(21,tr,4,1,"div",17,Te),l()(),a(23,"div",12)(24,"div",18)(25,"po-password",19),k("ngModelChange",function(c){return g(n),A(t.password,c)||(t.password=c),f(c)}),w("click",function(){return g(n),f(t.closePopover())})("keyup.enter",function(){g(n);let c=K(14);return f(c.valid&&t.onLoginSubmit())})("p-change-model",function(){return g(n),f(t.changePasswordModel())}),l(),P(26,or,2,1,"div",20),l(),a(27,"div",16),Fe(28,nr,4,1,"div",17,Te),l()(),P(30,rr,1,7,"po-input",21)(31,sr,1,7,"po-combo",22)(32,ar,1,6,"po-select",23),a(33,"div",12),P(34,pr,3,6,"div",13),l(),a(35,"po-button",24),w("p-click",function(){return g(n),f(t.onLoginSubmit())}),l(),P(36,dr,3,1,"div",25)(37,ur,3,1,"div",26),l()()()}if(i&2){let n=K(14);d("hidden",!t.support),r(2),S(" ",t.pageLoginLiterals==null?null:t.pageLoginLiterals.support,`
`),r(),d("p-components-size",t.componentsSize)("p-show-select-language",t.showLanguage)("p-languages",t.languagesList)("p-initial-language",t.initialSelectLanguage)("p-background",t.background)("p-highlight-info",t.pageLoginLiterals.highlightInfo)("p-logo",t.logo)("p-secondary-logo",t.secondaryLogo),r(5),V(t.productName),r(2),b(t.environment?10:-1),r(2),V(t.pageLoginLiterals.welcome),r(6),$("po-page-login-info-field-dynamic",!t.pageLoginLiterals.loginHint&&!t.pageLoginLiterals.rememberUserHint),E("ngModel",t.login),d("p-label",t.pageLoginLiterals.loginLabel)("p-no-autocomplete",t.noAutocompleteLogin)("p-pattern",t.loginPattern)("p-placeholder",t.pageLoginLiterals.loginPlaceholder)("p-size",t.componentsSize),r(),b(t.pageLoginLiterals.loginHint||t.pageLoginLiterals.rememberUserHint?19:-1),r(2),Ie(t.allLoginErrors),r(4),$("po-page-login-field-size-dynamic",!t.pageLoginLiterals.loginHint&&!t.pageLoginLiterals.rememberUserHint),E("ngModel",t.password),d("p-hide-password-peek",t.hidePasswordPeek)("p-label",t.pageLoginLiterals.passwordLabel)("p-no-autocomplete",t.noAutocompletePassword)("p-pattern",t.passwordPattern)("p-placeholder",t.pageLoginLiterals.passwordPlaceholder)("p-size",t.componentsSize),r(),b(t.pageLoginLiterals.loginHint||t.pageLoginLiterals.rememberUserHint?26:-1),r(2),Ie(t.allPasswordErrors),r(2),b(t.customField&&t.customFieldType==="input"?30:-1),r(),b(t.customField&&t.customFieldType==="combo"?31:-1),r(),b(t.customField&&t.customFieldType==="select"?32:-1),r(2),b(t.hideRememberUser?-1:34),r(),$("po-page-login-button-dynamic",!t.pageLoginLiterals.loginHint&&!t.pageLoginLiterals.rememberUserHint),d("p-disabled",n.invalid)("p-label",t.loading?t.pageLoginLiterals.submittedLabel:t.pageLoginLiterals.submitLabel)("p-loading",t.loading)("p-size",t.componentsSize),r(),b(t.recovery?36:-1),r(),b(t.registerUrl?37:-1)}},dependencies:[ve,Se,ye,Ee,re,Qt,Be,Si,lt,Ai,Vt,qt,zt,fi,me,gi,Qr],encapsulation:2})}return o})(),po=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({providers:[Kt],imports:[B,G,ce,$e,_e]})}return o})(),uo=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({imports:[Ji,$e,Gi,Yi,eo,io,jt,so,lo,po,Ji,$e,Gi,Yi,eo,io,jt,so,lo,po]})}return o})(),mo=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({imports:[_t,Ke,_t,Ke]})}return o})(),Gt=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({imports:[uo,mo,uo,mo]})}return o})();var $r=["vs-dark","vs","hc-black"],Po="vs",Kr=(()=>{class o{editor;modifiedValue="";value="";_height=150;_language="plainText";_readonly=!1;_showDiff=!1;_suggestions;_theme=Po;set language(e){this._language=e&&e.length?e.trim():"plainText",this.editor&&this._language&&this.setLanguage(this._language)}get language(){return this._language}set readonly(e){this._readonly=e===""?!0:this.convertToBoolean(e),this.editor&&this.setReadOnly(e)}get readonly(){return this._readonly}set showDiff(e){this._showDiff=e===""?!0:this.convertToBoolean(e)}get showDiff(){return this._showDiff}set suggestions(e){this._suggestions=e,this.editor&&this._suggestions&&this.setSuggestions(this._suggestions)}get suggestions(){return this._suggestions}set theme(e){this._theme=$r.includes(e)?e:Po,this.editor&&this.setTheme(e)}get theme(){return this._theme}set height(e){this._height=parseFloat(e)>=150?parseFloat(e):150}get height(){return`${this._height}px`}onTouched=e=>{};onChangePropagate=e=>{};getOptions(){return{language:this.language,theme:this.theme,readOnly:this.readonly}}registerOnChange(e){this.onChangePropagate=e}registerOnTouched(e){this.onTouched=e}convertToBoolean(e){return typeof e=="string"?(e=e.toLowerCase().trim(),e==="true"||e==="on"||e===""):typeof e=="number"?e===1:!!e}static \u0275fac=function(i){return new(i||o)};static \u0275dir=J({type:o,inputs:{language:[0,"p-language","language"],readonly:[0,"p-readonly","readonly"],showDiff:[0,"p-show-diff","showDiff"],suggestions:[0,"p-suggestions","suggestions"],theme:[0,"p-theme","theme"],height:[0,"p-height","height"]}})}return o})(),Gr=(()=>{class o{suggestions={};constructor(){}getSuggestion(e,i){if(this.suggestions[e]){let t=this.deduplicateSuggestions(this.suggestions[e],i);return this.suggestions[e]=[...this.suggestions[e],...t],t}else return this.suggestions[e]=[...i]}deduplicateSuggestions(e,i){return i.filter(t=>!e.find(n=>n.label===t.label))}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Yt=(()=>{class o{language;options;suggestions;static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Yr=["editorContainer"],_o=!1,bo,Xr=[{provide:mi,useExisting:oi(()=>Zr),multi:!0}],Zr=(()=>{class o extends Kr{zone;el;poCodeEditorSuggestionService;codeEditorRegister;editorContainer;canLoad=!1;constructor(e,i,t,n){super(),this.zone=e,this.el=i,this.poCodeEditorSuggestionService=t,this.codeEditorRegister=n}ngAfterViewInit(){_o?bo.then(()=>{setTimeout(()=>{this.el.nativeElement.offsetWidth?(this.registerCustomLanguage(),this.initMonaco(this.getOptions())):this.canLoad=!0})}):(_o=!0,bo=new Promise(e=>{let i=()=>{window.require.config({paths:{vs:"./assets/monaco/vs"}}),window.require(["vs/editor/editor.main"],()=>{setTimeout(()=>{this.el.nativeElement.offsetWidth?(this.registerCustomLanguage(),this.initMonaco(this.getOptions())):this.canLoad=!0,e()})})};if(!window.require){let t=document.createElement("script");t.type="text/javascript",t.src="./assets/monaco/vs/loader.js",t.addEventListener("load",i),document.body.appendChild(t)}}))}ngDoCheck(){this.canLoad&&this.el.nativeElement.offsetWidth&&(this.registerCustomLanguage(),this.initMonaco(this.getOptions()),this.canLoad=!1)}monacoCreateModel(e){return monaco.editor.createModel(e)}setValueInEditor(){this.showDiff?setTimeout(()=>{this.editor&&this.editor.setModel({original:this.monacoCreateModel(this.value),modified:this.monacoCreateModel(this.modifiedValue)})}):setTimeout(()=>{this.editor&&this.editor.setValue(this.value)})}setLanguage(e){this.showDiff?(this.setMonacoLanguage(this.editor.getModel().original,e),this.setMonacoLanguage(this.editor.getModel().modified,e)):this.setMonacoLanguage(this.editor.getModel(),e)}setTheme(e){monaco.editor.setTheme(e)}setReadOnly(e){this.editor.updateOptions({readOnly:e})}setSuggestions(e,i=this.language){if(!e)return;let t=this.poCodeEditorSuggestionService.getSuggestion(i,e);monaco.languages.registerCompletionItemProvider(i,{provideCompletionItems:()=>({suggestions:t})})}writeValue(e){this.value=e&&e instanceof Array?e[0]:e,this.modifiedValue=e&&e instanceof Array&&e.length>0?e[1]:"",this.setValueInEditor()}initMonaco(e){this.showDiff?(this.editor=monaco.editor.createDiffEditor(this.editorContainer.nativeElement,e),this.editor.setModel({original:monaco.editor.createModel(this.value),modified:monaco.editor.createModel(this.modifiedValue)}),this.editor.onDidUpdateDiff(i=>{let t=this.editor.getModel().original.getValue(),n=this.editor.getModel().modified.getValue();this.onChangePropagate([t,n])})):(this.editor=monaco.editor.create(this.editorContainer.nativeElement,e),this.editor.setValue(this.value),this.editor.onDidChangeModelContent(i=>{let t=this.editor.getValue();this.onChangePropagate(t),this.zone.run(()=>this.value=t)})),setTimeout(()=>{this.setLanguage(this.language),this.setSuggestions(this.suggestions)},500)}setMonacoLanguage(e,i){monaco.editor.setModelLanguage(e,i)}registerCustomLanguage(){this.codeEditorRegister.language&&(monaco.languages.register({id:this.codeEditorRegister.language}),this.codeEditorRegister.options&&monaco.languages.setMonarchTokensProvider(this.codeEditorRegister.language,this.codeEditorRegister.options),this.codeEditorRegister.suggestions&&this.setSuggestions(this.codeEditorRegister.suggestions.provideCompletionItems().suggestions,this.codeEditorRegister.language))}static \u0275fac=function(i){return new(i||o)(W(ri),W(tt),W(Gr),W(Yt))};static \u0275cmp=F({type:o,selectors:[["po-code-editor"]],viewQuery:function(i,t){if(i&1&&D(Yr,7),i&2){let n;M(n=x())&&(t.editorContainer=n.first)}},standalone:!1,features:[we(Xr),ee],decls:2,vars:2,consts:[["editorContainer",""]],template:function(i,t){i&1&&_(0,"div",null,0),i&2&&it("height",t.height)},encapsulation:2})}return o})(),Xt=(()=>{class o{static forRegister(e){return{ngModule:o,providers:[{provide:Yt,useValue:e}]}}static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({providers:[Yt],imports:[B]})}return o})();var Co={language:"terraform",options:{keywords:["resource","provider","variable","output","module","true","false"],operators:["{","}","(",")","[","]","?",":"],symbols:new RegExp("[=><!~?:&|+\\-*\\/\\^%]+"),escapes:new RegExp(`\\\\(?:[abfnrtv\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})`),tokenizer:{root:[["[a-z_$][\\w$]*",{cases:{"@keywords":"keyword","@default":"identifier"}}],{include:"@whitespace"},["\\d*\\.\\d+([eE][\\-+]?\\d+)?","number.float"],["0[x][0-9a-fA-F]+","number.hex"],["\\d+","number"],["[;,.]","delimiter"],['"([^"\\\\]|\\\\.)*$',"string.invalid"],['"',{token:"string.quote",bracket:"@open",next:"@string"}],["'[^\\\\']'","string"],["'","string.invalid"]],comment:[["[^\\/*]+","comment"],["[\\/*]","comment"],["[\\#.*]","comment"]],string:[['[^\\\\"\\$]+',"string"],["\\$","string.interpolated","@interpolated"],["\\\\.","string.escape.invalid"],['"',{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[["[ \\t\\r\\n]+","white"],["\\/\\/.*$","comment"],["\\#.*$","comment"]],interpolated:[["[{]",{token:"string.escape.curly",switchTo:"@interpolated_compound"}],["","","@pop"]]}}};var js=(()=>{class o{element;constructor(e){this.element=e}ngAfterViewInit(){this.element&&hljs.highlightBlock(this.element.nativeElement)}static \u0275fac=function(i){return new(i||o)(W(tt))};static \u0275dir=J({type:o,selectors:[["","appCodeHighlight",""]],standalone:!1})}return o})();var ea=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=R({type:o});static \u0275inj=I({imports:[B,G,Dt,_e,Gt,Ni.config({contexts:{general:{en:{loginErrorPattern:"Invalid ID",loginPlaceholder:"Insert your ID",passwordErrorPattern:"Invalid PIN",passwordPlaceholder:"Insert your PIN",submitLabel:"Access your account",forgotPassword:"Forgot your ID or PIN?",highlightInfo:"For us the future is now"},es:{loginErrorPattern:"ID invalido",loginPlaceholder:"Inserte su ID",passwordErrorPattern:"Contrase\xF1a incorrecta",passwordPlaceholder:"Inserte su contrase\xF1a",submitLabel:"Accede a su cuenta",forgotPassword:"\xBFOlvid\xF3 su ID o contrase\xF1a?",highlightInfo:"Para nosotros el futuro es ahora"},pt:{loginErrorPattern:"ID inv\xE1lido",loginPlaceholder:"Insira seu ID",passwordErrorPattern:"Senha incorreta",passwordPlaceholder:"Insira sua senha",submitLabel:"Acesse a sua conta",forgotPassword:"Esqueceu seu ID ou sua senha?",highlightInfo:"Para n\xF3s o futuro \xE9 agora"}}},default:{context:"general",cache:!0}}),Xt.forRegister(Co),B,G,Dt,_e,Gt,Xt]})}return o})();export{N as a,yo as b,Pt as c,Ss as d,Es as e,Lr as f,As as g,Or as h,ks as i,Nr as j,Br as k,Ms as l,xs as m,Zr as n,js as o,ea as p};
