import{a as tt,b as ot,c as g,f as it}from"./chunk-KRTCBQ6C.js";import{S as _,k as et,n as L}from"./chunk-2NW4R7JR.js";import{Aa as b,Da as J,Fa as C,H as D,Ja as p,Ka as l,L as v,La as y,O as u,P as T,Pa as E,Q as F,Qa as x,Ra as m,T as A,U as w,Y as B,Ya as P,Z as V,Za as O,_a as z,a as j,ab as k,bb as U,cb as Y,h as N,ha as c,ka as M,ma as W,oa as Q,qa as q,s as H,sa as G,ta as K,ua as f,vb as Z,wa as X,ya as h,zb as $}from"./chunk-DWJZBVI2.js";var d=function(e){return e.Inline="inline",e.Alert="alert",e}(d||{});var a=function(e){return e[e.Bottom=0]="Bottom",e[e.Top=1]="Top",e}(a||{});var n=function(e){return e.Error="error",e.Information="information",e.Success="success",e.Warning="warning",e}(n||{});var st={en:{close:"Close"},es:{close:"Cerrar"},pt:{close:"Fechar"},ru:{close:"\u0431\u043B\u0438\u0437\u043A\u043E"}};var nt=(()=>{class e{_isHide;_sizeActions=void 0;action;actionLabel;message;isHide=!1;isHideChange=new V;showClose=!0;set sizeActions(t){this._sizeActions=_(t,g)}get sizeActions(){return this._sizeActions??et(g)}supportMessage;type=n.Information;mode=d.Inline;orientation=a.Bottom;componentRef;position;static \u0275fac=function(o){return new(o||e)};static \u0275dir=q({type:e,inputs:{action:[0,"p-action","action"],actionLabel:[0,"p-action-label","actionLabel"],message:[0,"p-message","message"],isHide:[2,"p-hide","isHide",L],showClose:[2,"p-show-close","showClose",L],sizeActions:[0,"p-size-actions","sizeActions"],supportMessage:[0,"p-support-message","supportMessage"],type:[0,"p-type","type"],mode:[0,"p-mode","mode"]},outputs:{isHideChange:"p-hide-change"},features:[K]})}return e})();var lt=["toaster"],mt=["buttonClose"];function ht(e,s){if(e&1&&y(0,"po-icon",4),e&2){let t=m();h("p-icon",t.getIcon())}}function dt(e,s){if(e&1&&y(0,"po-icon",12),e&2){let t=m();b("po-toaster-inline-icon-aa",t.sizeActions==="small"),h("p-icon",t.getIcon())}}function ut(e,s){if(e&1&&(p(0,"div",8),k(1),l()),e&2){let t=m();c(),U(t.supportMessage)}}function ft(e,s){if(e&1){let t=E();p(0,"po-button",13),x("p-click",function(i){A(t);let r=m();return w(r.poToasterAction(i))}),l()}if(e&2){let t=m();h("p-label",t.actionLabel)("p-size",t.sizeActions)}}function Ct(e,s){if(e&1){let t=E();p(0,"div",11),y(1,"div",14),p(2,"po-button",15,1),x("p-click",function(i){A(t);let r=m();return w(r.onButtonClose(i))}),l()()}if(e&2){let t=m();c(2),h("p-size",t.sizeActions)}}var rt=8,at=(()=>{class e extends nt{changeDetector=T(Z);renderer=T(W);toaster;buttonClose;alive=!0;language;literals;icon;margin=0;observableOnClose=new N;toasterPosition="po-toaster-bottom";toasterType;constructor(){let t=T(ot);super(),this.language=t.getShortLanguage(),this.literals=j({},st[this.language])}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){setTimeout(()=>{this.renderer.addClass(this.toaster.nativeElement,"po-toaster-visible"),this.isInline()&&this.configToaster(this)})}ngOnChanges(t){t.isHide&&t.isHide.previousValue!==void 0&&(t.isHide.currentValue===!0?this.hide():this.show(),this.changeDetector.detectChanges())}changePosition(t){setTimeout(()=>{this.margin=rt;for(let o=0;o<t;o++)this.margin+=this.returnHeightToaster(o)+rt;this.orientation===a.Top?this.toaster.nativeElement.style.top=this.margin+"px":this.toaster.nativeElement.style.bottom=this.margin+"px"})}close(){this.isAlert()?this.observableOnClose.next(!0):this.hide()}setFadeOut(){this.renderer.removeClass(this.toaster.nativeElement,"po-toaster-visible"),this.renderer.addClass(this.toaster.nativeElement,"po-toaster-invisible")}setFadeIn(){this.renderer.removeClass(this.toaster.nativeElement,"po-toaster-invisible"),this.renderer.addClass(this.toaster.nativeElement,"po-toaster-visible")}configToaster(t){this.type=t.type,this.message=t.message,this.orientation=t.orientation,this.position=t.position,this.action=t.action,this.actionLabel=t.actionLabel,this.componentRef=t.componentRef,this.mode=t.mode,this.sizeActions=t.sizeActions,this.showClose=t.showClose,this.supportMessage=t.supportMessage,this.orientation===a.Top&&(this.toasterPosition="po-toaster-top"),this.mode||(this.mode=d.Inline),(!this.type||!Object.values(n).includes(this.type))&&(this.type=n.Information),this.changePosition(this.position),this.type===n.Error?this.toaster.nativeElement.setAttribute("role","alert"):this.action&&this.actionLabel?this.toaster.nativeElement.setAttribute("role","alertdialog"):this.toaster.nativeElement.setAttribute("role","status"),this.getToasterType(),this.changeDetector.detectChanges(),this.buttonClose?.buttonElement.nativeElement.setAttribute("aria-label",this.literals.close)}hasClose(){return this.isAlert()||this.showClose}isAlert(){return this.mode==="alert"}isInline(){return this.mode==="inline"}getIcon(){return this.icon}show(){this.isHide=!0,this.setFadeIn(),this.renderer.removeAttribute(this.toaster.nativeElement,"hidden")}hide(){this.isHide=!0,this.setFadeOut(),this.renderer.setAttribute(this.toaster.nativeElement,"hidden","true")}getToasterPosition(){return this.toasterPosition}getToasterType(){switch(this.type){case n.Error:{this.toasterType="po-toaster-error",this.icon="ICON_CLOSE";break}case n.Information:{this.toasterType="po-toaster-info",this.icon=this.isAlert()?"ICON_INFO":"ICON_WARNING";break}case n.Success:{this.toasterType="po-toaster-success",this.icon="ICON_OK";break}case n.Warning:{this.toasterType="po-toaster-warning",this.icon=this.isAlert()?"ICON_EXCLAMATION":"ICON_WARNING";break}}return this.toasterType}onButtonClose(t){this.action&&!this.actionLabel?this.poToasterAction(t):this.close(),this.isInline()&&this.isHideChange.emit(this.isHide)}poToasterAction(t){this.action(this)}returnHeightToaster(t){return this.orientation===a.Top?document.querySelectorAll(".po-toaster-top")[t].offsetHeight:document.querySelectorAll(".po-toaster-bottom")[t].offsetHeight}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=Q({type:e,selectors:[["po-toaster"]],viewQuery:function(o,i){if(o&1&&(P(lt,5),P(mt,5)),o&2){let r;O(r=z())&&(i.toaster=r.first),O(r=z())&&(i.buttonClose=r.first)}},standalone:!1,features:[G,F],decls:12,vars:16,consts:[["toaster",""],["buttonClose",""],[3,"hidden"],[1,"po-toaster-icon",3,"ngClass"],[3,"p-icon"],[1,"po-toaster-inline-icon",3,"po-toaster-inline-icon-aa","p-icon"],[1,"po-toaster-actions"],[1,"po-toaster-message"],[1,"po-toaster-support-message"],[1,"po-toaster-action"],["p-kind","tertiary",3,"p-label","p-size"],[1,"po-toaster-close"],[1,"po-toaster-inline-icon",3,"p-icon"],["p-kind","tertiary",3,"p-click","p-label","p-size"],[1,"po-toaster-divider"],["p-icon","ICON_CLOSE","p-kind","tertiary",1,"po-toaster-button-close",3,"p-click","p-size"]],template:function(o,i){o&1&&(p(0,"div",2,0)(2,"div",3),f(3,ht,1,1,"po-icon",4),l(),f(4,dt,1,3,"po-icon",5),p(5,"div",6)(6,"div",7),k(7),f(8,ut,2,1,"div",8),l(),p(9,"div",9),f(10,ft,1,2,"po-button",10),l()(),f(11,Ct,4,1,"div",11),l()),o&2&&(J(`
    po-toaster 
    `,i.getToasterType(),` 
    `,i.getToasterPosition(),`
  `),b("po-toaster-inline",i.isInline()),h("hidden",i.isHide),c(2),h("ngClass",i.isAlert()?"po-toaster-icon-default":"po-toaster-decoration"),c(),C(i.isAlert()?3:-1),c(),C(i.isInline()?4:-1),c(),b("po-toaster-actions-aa",i.sizeActions==="small"),c(2),Y(" ",i.message," "),c(),C(i.supportMessage?8:-1),c(2),C(i.action&&i.actionLabel?10:-1),c(),C(i.hasClose()?11:-1))},dependencies:[$,tt,it],encapsulation:2})}return e})();var I=class{stackTop=[];stackBottom=[];defaultDuration=9e3;success(s){this.createToaster(this.buildToaster(s,n.Success))}warning(s){this.createToaster(this.buildToaster(s,n.Warning))}error(s){this.createToaster(this.buildToaster(s,n.Error))}information(s){this.createToaster(this.buildToaster(s,n.Information))}setDefaultDuration(s){this.defaultDuration=s}buildToaster(s,t){let o=0,i;s.orientation===void 0||s.orientation===a.Bottom?(o=this.stackBottom.length,i=a.Bottom):(o=this.stackTop.length,i=a.Top);let r=_(s.sizeActions,g),S={componentRef:void 0,message:s.message||s,type:t,orientation:i,action:s.action,actionLabel:s.actionLabel,position:o,mode:s.mode||d.Alert,showClose:s.showClose||!0,sizeActions:r,supportMessage:s.supportMessage,duration:s.duration||this.defaultDuration};return s.action&&(S.action=pt=>{s.action(),this.destroyToaster(pt.componentRef)}),S}};var ct=(()=>{class e{componentResolver;applicationRef;injector;constructor(t,o,i){this.componentResolver=t,this.applicationRef=o,this.injector=i}createComponentInApplication(t){let o=this.componentResolver.resolveComponentFactory(t).create(this.injector);this.applicationRef.attachView(o.hostView);let i=o.hostView.rootNodes[0];return document.body.appendChild(i),o}destroyComponentInApplication(t){this.applicationRef.detachView(t.hostView),t.destroy()}static \u0275fac=function(o){return new(o||e)(u(M),u(X),u(B))};static \u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var vt=5,Tt=200,se=(()=>{class e extends I{poComponentInjector;constructor(t){super(),this.poComponentInjector=t}createToaster(t){let o=this.poComponentInjector.createComponentInApplication(at);t.componentRef=o,o.changeDetectorRef.detectChanges(),o.instance.configToaster(t);let i=t.orientation===a.Top?this.stackTop:this.stackBottom;i.push(o),this.verifyLimitToaster(i),this.observableOnClose(o),t.action&&t.actionLabel||t.type===n.Error||H(t.duration).pipe(D(()=>o.instance.alive)).subscribe(()=>{this.destroyToaster(o)})}destroyToaster(t){let o;t.instance.orientation===a.Top?o=this.stackTop:o=this.stackBottom,t.instance.setFadeOut();let i=o.indexOf(t);o.splice(i,1),setTimeout(()=>{this.poComponentInjector.destroyComponentInApplication(t);for(let r=0;r<o.length;r++)o[r].instance.changePosition(r)},Tt)}observableOnClose(t){t.instance.observableOnClose.subscribe(()=>{this.destroyToaster(t)})}verifyLimitToaster(t){t.length>vt&&this.destroyToaster(t[0])}static \u0275fac=function(o){return new(o||e)(u(ct))};static \u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var bt=function(e){return e[e.startsWith=0]="startsWith",e[e.contains=1]="contains",e[e.endsWith=2]="endsWith",e}(bt||{});export{ct as a,se as b,bt as c};
