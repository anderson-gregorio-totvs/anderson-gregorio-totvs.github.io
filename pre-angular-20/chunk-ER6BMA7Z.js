import{A as Lo,B as Oo,C as hi,a as Ae,b as Vo,c as St,d as oe,e as xo,f as ee,g as J,h as So,i as ai,j as Ke,k as li,l as Po,m as ut,n as Ce,o as pi,p as Eo,q as Mi,r as ko,s as ye,t as pe,u as ht,v as di,w as Mo,x as ci,y as ui,z as Ao}from"./chunk-J3IX4MOT.js";import{a as To,b as si}from"./chunk-2XR4GHQN.js";import{a as po}from"./chunk-6324J2B5.js";import{a as X,b as R,c as N,f as Pt}from"./chunk-QR4W5ZPZ.js";import{A as Ye,B as Co,C as bo,D as xt,E as vo,F as yo,G as wo,H as ct,L as ri,M as se,N as Do,O as ki,Q as De,R as Fo,S as Z,a as co,b as uo,d as oi,e as te,i as Dt,k as Y,n as _,o as Me,p as ie,q as nt,r as ho,s as Ft,t as ni,u as mo,v as fo,w as rt,x as go,y as Vt,z as _o}from"./chunk-MGTC3UNY.js";import{$a as V,A as Gt,Aa as Jt,Ab as le,Ac as ii,B as zi,Ba as T,Bb as Ji,Bc as it,Ca as ji,Cb as Xi,Cc as no,Da as je,Dc as Ot,Ea as Ui,Ec as ot,Fa as Xt,Fc as ro,G as be,Ga as C,Ha as Fe,I as qe,Ia as fe,Ib as Te,Ja as ge,K as q,Ka as h,Kc as ao,L as ce,La as u,Lb as ti,Lc as lo,Ma as B,Na as pt,O as Bi,Oa as dt,P as g,Pa as _e,Q as me,Qa as b,Ra as f,Sa as r,T as s,Ta as Ki,U as p,Ua as Gi,Ub as vt,Uc as so,Va as Zt,Vb as Zi,Wb as eo,X as et,Xb as to,Y as Qt,Ya as ei,Yb as Ee,Z as v,Za as x,_a as F,a as D,aa as P,ab as K,b as He,bb as I,c as Kt,cb as Pe,cd as yt,db as j,dd as wt,e as Xe,eb as Qi,f as de,fb as ne,gb as re,h as gt,ha as $t,hb as ae,ia as c,ib as W,ja as A,jb as Ei,ka as Yt,kb as Ue,l as We,lb as $i,m as Ti,n as _t,na as ve,nb as Yi,o as we,oa as Ni,pa as k,qb as Ct,r as $e,ra as O,sa as Wi,sb as bt,ta as L,u as qi,ua as G,v as Lt,va as y,vb as ze,vc as Q,w as Ze,wb as S,wc as io,xb as tt,xc as $,ya as z,yc as ke,za as m,zc as oo}from"./chunk-2SZI3FNB.js";var Io=(()=>{class n{autoFocus;fields;value;formOutput=new v;load;validate;validateFields;_componentsSize=void 0;_groupForm=!1;set componentsSize(e){this._componentsSize=Z(e,N)}get componentsSize(){return this._componentsSize??Y(N)}set groupForm(e){this._groupForm=e===""?!0:_(e)}get groupForm(){return this._groupForm}validateOnInput=!1;static \u0275fac=function(t){return new(t||n)};static \u0275dir=O({type:n,inputs:{autoFocus:[0,"p-auto-focus","autoFocus"],fields:[0,"p-fields","fields"],value:[0,"p-value","value"],load:[0,"p-load","load"],validate:[0,"p-validate","validate"],validateFields:[0,"p-validate-fields","validateFields"],componentsSize:[0,"p-components-size","componentsSize"],groupForm:[0,"p-group-form","groupForm"],validateOnInput:[2,"p-validate-on-input","validateOnInput",_]},outputs:{formOutput:"p-form"},features:[G]})}return n})();var Tt=class{http;constructor(l){this.http=l}execute(l,e){return typeof l=="string"?this.post(l,e):We(l(e))}post(l,e){return this.http.post(l,e)}setFormDefaultIfEmpty(l){return l||{value:{},fields:[],focus:void 0}}};var Ro=(()=>{class n extends Tt{constructor(){let e=g(Ee);super(e)}createAndUpdateFieldsForm(e=[],t=[]){return[...e].reduce((i,o)=>{let a=i.findIndex(w=>w.property===o.property);return a>=0?i[a]=D(D({},t[a]),o):i.push(o),i},[...t])}executeLoad(e,t){return this.execute(e,t).pipe(we(i=>this.setFormDefaultIfEmpty(i)))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var It=(()=>{class n extends Tt{constructor(){let e=g(Ee);super(e)}sendFieldChange(e,t){let i={property:e.property,value:t};return this.execute(e.validate,i).pipe(we(o=>this.setFieldDefaultIfEmpty(o)))}sendFormChange(e,t,i){let o={property:t.property,value:i};return this.execute(e,o).pipe(we(a=>this.setFormDefaultIfEmpty(a)))}updateFieldsForm(e=[],t=[]){return[...e].reduce((i,o)=>{let a=i.findIndex(w=>w.property===o.property);return a>=0&&(i[a]=D(D({},t[a]),o)),i},[...t])}setFieldDefaultIfEmpty(e){return e||{field:{}}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ge=function(n){return n.Boolean="boolean",n.Currency="currency",n.Decimal="decimal",n.Date="date",n.DateTime="datetime",n.Time="time",n.Number="number",n.String="string",n.Upload="upload",n}(Ge||{});function Ho(n,l,e,t,i){let o={gridSm:e?.smGrid||n||12,gridMd:e?.mdGrid||n||6,gridLg:e?.lgGrid||n||4,gridXl:e?.xlGrid||n||3,offsetSm:t?.smOffset||l||0,offsetMd:t?.mdOffset||l||0,offsetLg:t?.lgOffset||l||0,offsetXl:t?.xlOffset||l||0,pullSm:i?.smPull||0,pullMd:i?.mdPull||0,pullLg:i?.lgPull||0,pullXl:i?.xlPull||0};return`po-sm-${o.gridSm} po-offset-sm-${o.offsetSm} po-pull-sm-${o.pullSm} po-md-${o.gridMd} po-offset-md-${o.offsetMd} po-pull-md-${o.pullMd} po-lg-${o.gridLg} po-offset-lg-${o.offsetLg} po-pull-lg-${o.pullLg} po-xl-${o.gridXl} po-offset-xl-${o.offsetXl} po-pull-xl-${o.pullXl}`}function qo(n){return"visible"in n?n.visible:!0}var zo=(()=>{class n{visibleFields=[];containerFields=[];hasContainers=!1;ensureFieldHasContainer(e){if(e&&e.some(t=>t?.container)){let t=e.findIndex(i=>i.order===1);t!==-1&&!e[t].container&&(e[t].container="")}}setContainerFields(){this.hasContainers=this.visibleFields&&this.visibleFields.some(e=>e.container),this.hasContainers&&(this.containerFields=this.groupFieldsIntoContainers(this.visibleFields))}groupFieldsIntoContainers(e){let t=[[]];return e.reduce((i,o)=>(o.container&&i[i.length-1].length>0&&i.push([]),i[i.length-1].push(o),i),t)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=O({type:n})}return n})();var Bo=(()=>{class n extends zo{titleCasePipe;autoFocus;disabledForm;validate;formValidate=new v;fieldsChange=new v;objectValue=new v;validateOnInput;_componentsSize=void 0;_fields;_validateFields;_value={};set componentsSize(e){this._componentsSize=Z(e,N)}get componentsSize(){return this._componentsSize??Y(N)}set fields(e){this._fields=Array.isArray(e)?[...e]:[]}get fields(){return this._fields}set value(e){this._value=e&&ie(e,"object")?e:{}}get value(){return this._value}set validateFields(e){this._validateFields=Array.isArray(e)?[...e]:[]}get validateFields(){return this._validateFields}constructor(e){super(),this.titleCasePipe=e}compareTo(e,t){return e===t}getVisibleFields(){let e=[];this.fields.forEach(i=>{if(this.existsProperty(e,i.property)){this.printError(`"po-dynamic-form" property "${i.property}" est\xE1 duplicado. Interface: PoDynamicFormField.`);return}if(!i.property){this.printError('"po-dynamic-form" \xC9 obrigat\xF3rio ser especificado um property.');return}qo(i)&&e.push(this.createField(i))});let t=bo(e);return this.ensureFieldHasContainer(t),t}convertOptions(e){return e.every(i=>typeof i=="string")?e.map(i=>({label:i,value:i})):e}createField(e){let t=this.getComponentControl(e),i=e.options?this.convertOptions(e.options):void 0,o=this.hasFocus(e),a=e&&e.type?e.type.toLocaleLowerCase():"string",d=Ho(e.gridColumns,e.offsetColumns,{smGrid:e.gridSmColumns,mdGrid:e.gridMdColumns,lgGrid:e.gridLgColumns,xlGrid:e.gridXlColumns},{smOffset:e.offsetSmColumns,mdOffset:e.offsetMdColumns,lgOffset:e.offsetLgColumns,xlOffset:e.offsetXlColumns},{smPull:e.gridSmPull,mdPull:e.gridMdPull,lgPull:e.gridLgPull,xlPull:e.gridXlPull});return He(D({label:this.titleCasePipe.transform(e.property),maskFormatModel:this.compareTo(a,Ge.Time)},e),{componentClass:d,control:t,focus:o,options:i})}existsProperty(e,t){return e.some(i=>i.property===t)}getComponentControl(e={}){let t=e&&e.type?e.type.toLocaleLowerCase():"string",{forceBooleanComponentType:i}=e,o=this.verifyForceOptionComponent(e);if(i)return i;if(o){let{forceOptionsComponentType:a}=e;return a}return this.isNumberType(e,t)?"number":this.isCurrencyType(e,t)||t===Ge.Decimal?"decimal":this.isSelect(e)?"select":this.isRadioGroup(e)?"radioGroup":this.isCheckboxGroup(e)?"checkboxGroup":this.isMultiselect(e)?"multiselect":this.compareTo(t,Ge.Boolean)?"switch":this.compareTo(t,Ge.Date)||this.compareTo(t,Ge.DateTime)?e.range?"datepickerrange":"datepicker":this.compareTo(t,Ge.Time)?(e.mask=e.mask||"99:99","input"):this.isCombo(e)?"combo":this.isLookup(e)?"lookup":this.isTextarea(e)?"textarea":this.isPassword(e)?"password":this.isUpload(e)?"upload":"input"}hasFocus(e){return!!this.autoFocus&&this.autoFocus===e.property}isCheckboxGroup(e){let{optionsService:t,optionsMulti:i,options:o}=e;return!t&&i&&!!o&&o.length<=3}isCombo(e){let{optionsService:t}=e;return!!t&&(ie(t,"string")||this.isComboFilter(t))}isCurrencyType(e,t){let{mask:i,pattern:o}=e;return this.compareTo(t,Ge.Currency)&&!i&&!o}isLookupFilter(e){return e&&e.getObjectByValue!==void 0}isComboFilter(e){return e&&e.getFilteredData!==void 0}isLookup(e){let{searchService:t}=e;return!!t&&(ie(t,"string")||this.isLookupFilter(t))}isMultiselect(e){let{optionsService:t,optionsMulti:i,options:o}=e;return i&&(!!t||!!o&&o.length>3)}isNumberType(e,t){let{mask:i,pattern:o}=e;return this.compareTo(t,Ge.Number)&&!i&&!o}isPassword(e){let{secret:t}=e;return t}isRadioGroup(e){let{optionsMulti:t,options:i}=e;return!t&&!!i&&i.length<=3}isUpload(e){let{url:t,type:i}=e;return t&&i==="upload"}verifyForceOptionComponent(e){let{optionsMulti:t,optionsService:i,forceOptionsComponentType:o}=e;return!!(o&&!t&&!i)}isSelect(e){let{optionsMulti:t,options:i}=e;return!t&&!!i&&i.length>3}isTextarea(e){let{rows:t}=e;return t&&t>=3}printError(e){console.error(e)}static \u0275fac=function(t){return new(t||n)(A(ti))};static \u0275dir=O({type:n,inputs:{autoFocus:[0,"p-auto-focus","autoFocus"],disabledForm:[0,"p-disabled-form","disabledForm"],validate:[0,"p-validate","validate"],validateOnInput:[0,"p-validate-on-input","validateOnInput"],componentsSize:[0,"p-components-size","componentsSize"],fields:[0,"p-fields","fields"],value:[0,"p-value","value"],validateFields:[0,"p-validate-fields","validateFields"]},outputs:{formValidate:"p-form-validate",fieldsChange:"p-fieldsChange",objectValue:"p-object-value"},features:[L]})}return n})();var mi=6,nr=12,No=(()=>{class n{additionalHelpEventTrigger;additionalHelpTooltip;appendBox=!1;autoFocus=!1;name;optional;fieldErrorMessage;errorLimit=!1;additionalHelp=new v;change=new v;keydown=new v;displayAdditionalHelp=!1;mdColumns=mi;value;onTouched=null;_columns=mi;_disabled=!1;_options;_required=!1;_size=void 0;onChangePropagate=null;validatorChange;set columns(e){let t=Me(e,mi);this._columns=this.getGridSystemColumns(t,4),this.mdColumns=this.getGridSystemColumns(t,2)}get columns(){return this._columns}set disabled(e){this._disabled=_(e),this.validateModel()}get disabled(){return this._disabled}set required(e){this._required=_(e),this.validateModel()}get required(){return this._required}showRequired=!1;set options(e){this._options=e,xt(this.options)}get options(){return this._options}set size(e){this._size=Z(e,Mi)}get size(){return this._size??Y(Mi)}changeValue(e){this.onChangePropagate&&this.onChangePropagate(e),this.value!==e&&this.change.emit(e),this.value=e}setDisabledState(e){this.disabled=e}registerOnChange(e){this.onChangePropagate=e}registerOnTouched(e){this.onTouched=e}registerOnValidatorChange(e){this.validatorChange=e}validate(e){if(pe(this.required,this.disabled,e.value))return{required:{valid:!1}}}writeValue(e){this.value=e,!this.getElementByValue(e)&&this.onChangePropagate&&(this.value=void 0,this.onChangePropagate(this.value))}checkColumnsRange(e,t){return e>=1&&e<=t}getGridSystemColumns(e,t){let i=nr/e;return this.checkColumnsRange(e,t)?i:mi}validateModel(){this.validatorChange&&this.validatorChange()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],appendBox:[2,"p-append-in-body","appendBox",_],autoFocus:[2,"p-auto-focus","autoFocus",_],name:"name",optional:[0,"p-optional","optional"],fieldErrorMessage:[0,"p-field-error-message","fieldErrorMessage"],errorLimit:[0,"p-error-limit","errorLimit"],columns:[0,"p-columns","columns"],disabled:[0,"p-disabled","disabled"],required:[0,"p-required","required"],showRequired:[0,"p-show-required","showRequired"],options:[0,"p-options","options"],size:[0,"p-size","size"]},outputs:{additionalHelp:"p-additional-help",change:"p-change",keydown:"p-keydown"},features:[G]})}return n})();var rr=["inp"],ar=["inputRadio"];function lr(n,l){if(n&1){let e=b();h(0,"div")(1,"po-radio",7,1),f("p-blur",function(){s(e);let i=K(2),o=r();return p(o.onBlur(i))})("keydown",function(i){s(e);let o=K(2),a=r();return p(a.onKeyDown(i,o))})("keyup",function(i){let o=s(e).$implicit,a=r();return p(a.onKeyUp(i,o.value))})("click",function(){let i=s(e).$implicit,o=r();return p(o.eventClick(i.value,i.disabled===!0||o.disabled))}),u()()}if(n&2){let e=l.$implicit,t=r();Ui("po-radio-group-item po-md-",t.mdColumns," po-lg-",t.columns,""),c(),m("name",t.name)("p-checked",t.value===e.value)("p-disabled",e.disabled===!0||t.disabled)("p-label",e.label)("p-required",t.required)("p-size",t.size)("p-value",e.value)}}var Wo=(()=>{class n extends No{el=g(P);cd=g(S);label;help;inputEl;radioLabels;differ;constructor(){let e=g(tt);super(),this.differ=e.find([]).create(null)}ngAfterViewInit(){this.autoFocus&&this.focus()}ngDoCheck(){this.differ.diff(this.options)&&xt(this.options),this.cd.markForCheck()}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}eventClick(e,t){t||(this.onTouched?.(),this.changeValue(e))}focus(){if(this.radioLabels&&!this.disabled){let e=this.radioLabels.find((t,i)=>!this.options[i].disabled);e&&e.focus()}}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}getElementByValue(e){return this.inputEl.nativeElement.querySelector(`input[value='${e}']`)}getErrorPattern(){return this.fieldErrorMessage&&this.hasInvalidClass()?this.fieldErrorMessage:""}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")}onBlur(e){!this.isRadioOptionFocused(e)&&this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp()}onKeyDown(e,t){this.isRadioOptionFocused(t)&&this.keydown.emit(e)}onKeyUp(e,t){let i=e.keyCode||e.which;this.isArrowKey(i)&&this.changeValue(t)}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}isArrowKey(e){return e>=37&&e<=40}isRadioOptionFocused(e){return document.activeElement===e.radioInput.nativeElement}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-radio-group"]],viewQuery:function(t,i){if(t&1&&(x(rr,7,P),x(ar,5)),t&2){let o;F(o=V())&&(i.inputEl=o.first),F(o=V())&&(i.radioLabels=o)}},inputs:{label:[0,"p-label","label"],help:[0,"p-help","help"]},standalone:!1,features:[W([{provide:Q,useExisting:q(()=>n),multi:!0},{provide:$,useExisting:q(()=>n),multi:!0}]),L],decls:7,vars:16,consts:[["inp",""],["inputRadio",""],[3,"p-disabled","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],["role","radiogroup",1,"po-radio-group"],[3,"class"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-disabled","p-error-limit","p-error-pattern","p-help","p-show-additional-help","p-show-additional-help-icon"],[3,"p-blur","keydown","keyup","click","name","p-checked","p-disabled","p-label","p-required","p-size","p-value"]],template:function(t,i){if(t&1){let o=b();h(0,"po-field-container",2)(1,"div",3)(2,"div",4,0),fe(4,lr,3,11,"div",5,Fe),u(),h(6,"po-field-container-bottom",6),f("p-additional-help",function(){return s(o),p(i.emitAdditionalHelp())}),u()()()}t&2&&(m("p-disabled",i.disabled)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),c(),z("name",i.name),c(),z("aria-label",i.label)("data-options",i.options.length),c(2),ge(i.options),c(2),m("p-additional-help-tooltip",i.getAdditionalHelpTooltip())("p-append-in-body",i.appendBox)("p-disabled",i.disabled)("p-error-limit",i.errorLimit)("p-error-pattern",i.getErrorPattern())("p-help",i.help)("p-show-additional-help",i.displayAdditionalHelp)("p-show-additional-help-icon",i.showAdditionalHelpIcon()))},dependencies:[ee,J,ko],encapsulation:2,changeDetection:0})}return n})();var Qe=class{mask="";formatModel=!1;initialPosition=0;finalPosition=0;pattern="";get getPattern(){return this.pattern}valueToInput;get getValueToInput(){return this.valueToInput}set setValueToInput(l){this.valueToInput=l}valueToModel;get getValueToModel(){return this.valueToModel}set setValueToModel(l){this.valueToModel=l}formattingEnds;constructor(l,e){this.mask=l,this.formatModel=e,this.pattern=this.getRegexFromMask(l)}keyup(l){if(this.mask){let e=l.target.value;switch((l.keyCode===17||l.keyCode===91)&&(l.target.value=this.controlFormatting(e),this.resetPositions(l)),l.preventDefault(),l.keyCode){case 37:this.initialPosition>0&&this.initialPosition--,this.setPositionNotShiftKey(l),this.setSelectionRange(l);break;case 39:this.initialPosition<e.toString().length&&this.initialPosition++,this.setPositionNotShiftKey(l),this.setSelectionRange(l);break;case 35:this.finalPosition=e.toString().length,l.shiftKey?this.setPositions(l):(this.initialPosition=this.finalPosition,this.setPositions(l));break;case 36:l.shiftKey?(this.finalPosition=this.initialPosition,this.initialPosition=0,this.setPositions(l)):(this.initialPosition=0,this.finalPosition=0,this.setPositions(l));break}}}setPositionNotShiftKey(l){l.shiftKey||(this.finalPosition=this.initialPosition)}setSelectionRange(l){this.initialPosition>this.finalPosition?l.target.setSelectionRange?.(this.finalPosition,this.initialPosition):l.target.setSelectionRange?.(this.initialPosition,this.finalPosition)}keydown(l){if(this.mask){let e=l.target.value;if(l.keyCode===9||(!l.ctrlKey&&!l.metaKey&&l.preventDefault(),l.ctrlKey||l.metaKey&&l.keyCode!==86||l.keyCode>=37&&l.keyCode<=40||l.keyCode===16||l.keyCode===9))return;if(this.isKeyValid(l.keyCode))switch(this.finalPosition===null&&(this.finalPosition=this.initialPosition),this.revertPositions(this.initialPosition,this.finalPosition),l.keyCode){case 8:this.getPosition(l),this.initialPosition<0&&(this.initialPosition=0,this.setPositions(l)),this.initialPosition===this.finalPosition?(this.checkMaskBefore(l,-1),this.initialPosition!==0&&(e=e.slice(0,this.initialPosition-1)+e.slice(this.finalPosition),e=this.controlFormatting(e),l.target.value=e,this.changePosition(l,-1),this.checkMaskBefore(l,-1),this.setPositions(l),this.resetPositions(l))):this.clearRangeSelection(e,l,!0),this.setPositions(l);break;case 46:this.getPosition(l),this.initialPosition===this.finalPosition?(this.checkMaskAfter(l,1),e=e.slice(0,this.initialPosition)+e.slice(this.finalPosition+1),e=this.controlFormatting(e),l.target.value=e,this.setPositions(l),this.resetPositions(l)):this.clearRangeSelection(e,l,!1),this.setPositions(l);break;default:this.getPosition(l),e=e.slice(0,this.initialPosition)+l.key+e.slice(this.finalPosition),e=this.controlFormatting(e),l.target.value=e,this.changePosition(l,1),this.checkMaskBefore(l,1),this.setPositions(l),this.resetPositions(l),this.setPositions(l)}}}clearRangeSelection(l,e,t){l=l.slice(0,this.initialPosition)+l.slice(this.finalPosition),l=this.controlFormatting(l),e.target.value=l,t&&this.checkMaskBefore(e,-1),this.setPositions(e),this.resetPositions(e)}click(l){this.initialPosition=l.target.selectionStart,this.finalPosition=l.target.selectionEnd}blur(l){if(this.mask){let e=l.target.value;e=this.controlFormatting(e),l.target.value=e}}revertPositions(l,e){if(l>e){let t=l;this.initialPosition=e,this.finalPosition=t}}resetPositions(l){this.initialPosition=l.target.selectionStart,this.finalPosition=this.initialPosition}setPositions(l){l.target.setSelectionRange?.(this.initialPosition,this.finalPosition)}changePosition(l,e){this.initialPosition=this.initialPosition+e,this.finalPosition=this.finalPosition+e,this.setPositions(l)}getPosition(l){this.initialPosition=l.target.selectionStart,this.finalPosition=l.target.selectionEnd,this.setPositions(l)}controlFormatting(l){if(!l)return this.valueToInput="",this.valueToModel="","";let e,t=this.mask,i=[],o=0;for(;this.hasOptionalNumber(t);)i.push(t),t=this.replaceOptionalNumber(t);for(i.push(t),i.reverse(),this.formattingEnds=!1;!this.formattingEnds&&(this.formattingEnds=!0,!!i[o]);)e=this.formatValue(l,i[o]),o++;return e}formatValue(l,e){e=e.replace(/\?/g,"");let t=e.replace(this.listValidKeys(),"_"),i=0,o="";l=this.removeFormattingValue(l);for(let a=0;a<l.length;a++){let d=l[a];if(!t[i]){this.formattingEnds=!1;break}for(;this.isFixedCharacterGuide(t[i])&&t[i];)o+=t[i],i++;if(this.isKeyValidMask(d,e[i]))o+=d,i++;else break}return this.formatModel?(this.valueToInput=o,this.valueToModel=o):(this.valueToInput=o,this.valueToModel=this.removeFormattingValue(o)),o}checkMaskBefore(l,e){this.isFixedCharacterGuide(l.target.value.toString().charAt(this.initialPosition-1))&&(this.changePosition(l,e),this.checkMaskBefore(l,e))}checkMaskAfter(l,e){this.isFixedCharacterGuide(l.target.value.toString().charAt(this.initialPosition))&&(this.changePosition(l,e),this.checkMaskAfter(l,e))}replaceOptionalNumber(l){let e=9;for(;e>=0;){if(l.indexOf(e+"?")>-1)return l.replace(e+"?","");e--}return l}isFixedCharacterGuide(l){return this.testRegex(l,this.getFixedCharacterGuide())}getFixedCharacterGuide(){return/[\\\/() +-.\:]/g}listValidKeys(){return/[a-zA-Z0-9]/g}isKeyValid(l){return this.isKeyCodeValid(l)}isKeyCodeValid(l){return l>=48&&l<=57||l>=65&&l<=90||l>=96&&l<=105||l===8||l===9||l===46}isKeyValidMask(l,e){return this.testRegex(l,this.replaceMask(e))}testRegex(l,e){return e.test(l)}removeFormattingValue(l){return l.replace(this.getFixedCharacterGuide(),"")}hasOptionalNumber(l){return l.match(/\d\?/g)}replaceMask(l){let e=/./;switch(l){case"0":e=/[0]/;break;case"1":e=/[0-1]/;break;case"2":e=/[0-2]/;break;case"3":e=/[0-3]/;break;case"4":e=/[0-4]/;break;case"5":e=/[0-5]/;break;case"6":e=/[0-6]/;break;case"7":e=/[0-7]/;break;case"8":e=/[0-8]/;break;case"9":e=/[0-9]/;break;case" ":e=/\s/;break;case"@":e=/[a-zA-Z]/;break;case"w":e=/[a-zA-Z0-9]/;break}return e}getRegexFromMask(l){if(l){let e;return this.formatModel?(e=l.replace(/\\/g,"\\\\"),e=e.replace(/\+/g,"\\+"),e=e.replace(/\./g,"\\."),e=e.replace(/-/g,"-"),e=e.replace(/\(/g,"\\("),e=e.replace(/\)/g,"\\)"),e=e.replace(/\//g,"\\/"),e=e.replace(/\s/g,"\\s"),e=e.replace(/:/g,"\\:"),e=e.replace(/\@(?!\s)/g,"\\w"),e=e.replace(/\d/g,"\\w")):(e=l.replace(/\\/g,""),e=e.replace(/\+/g,""),e=e.replace(/\./g,""),e=e.replace(/-/g,""),e=e.replace(/\(/g,""),e=e.replace(/\)/g,""),e=e.replace(/\//g,""),e=e.replace(/\s/g,""),e=e.replace(/:/g,""),e=e.replace(/\@/g,"\\w"),e=e.replace(/\d/g,"\\w")),e}else return null}};var fi=function(n){return n.Basic="basic",n.Extended="extended",n}(fi||{});var jo="dd/mm/yyyy",Uo=(()=>{class n{languageService;cd;additionalHelpEventTrigger;additionalHelpTooltip;autoFocus=!1;errorAsync;name;optional;errorPattern="";errorLimit=!1;showErrorMessageRequired=!1;additionalHelp=new v;onblur=new v;onchange=new v;keydown=new v;offset;firstStart=!0;hour="T00:00:00-00:00";isExtendedISO=!1;objMask;onChangeModel=null;validatorChange;onTouchedModel=null;shortLanguage;isInvalid;hasValidatorRequired;_format=jo;_isoFormat;_maxDate;_minDate;_noAutocomplete=!1;_placeholder="";previousValue;_size=void 0;subscription=new de;_date;set noAutocomplete(e){this._noAutocomplete=_(e)}get noAutocomplete(){return this._noAutocomplete}set placeholder(e){this._placeholder=ie(e,"string")?e:""}get placeholder(){return this._placeholder}disabled=!1;set setDisabled(e){this.disabled=e===""?!0:_(e),this.validateModel(Ft(this.date,this.hour))}readonly=!1;set setReadonly(e){this.readonly=e===""?!0:_(e)}required=!1;set setRequired(e){this.required=e===""?!0:_(e),this.validateModel(Ft(this.date,this.hour))}showRequired=!1;set size(e){this._size=Z(e,N)}get size(){return this._size??Y(N)}clean=!1;set setClean(e){this.clean=e===""?!0:_(e)}set minDate(e){if(e instanceof Date){let t=e.getFullYear(),i=new Date(t,e.getMonth(),e.getDate(),0,0,0);Ye(i,t),this._minDate=i}else this._minDate=nt(e,!0,!1);this.validateModel(Ft(this.date,this.hour))}get minDate(){return this._minDate}set maxDate(e){if(e instanceof Date){let t=e.getFullYear(),i=new Date(t,e.getMonth(),e.getDate(),23,59,59);Ye(i,t),this._maxDate=i}else this._maxDate=nt(e,!1,!0);this.validateModel(Ft(this.date,this.hour))}get maxDate(){return this._maxDate}set format(e){if(e&&(e=e.toLowerCase(),e.match(/dd/)&&e.match(/mm/)&&e.match(/yyyy/))){this._format=e,this.objMask=this.buildMask(De(this.format,this.languageService.getDateSeparator(this.locale))),this.refreshValue(this.date);return}this._format=jo,this.objMask=this.buildMask(De(this.format,this.languageService.getDateSeparator(this.locale)))}get format(){return this._format}set isoFormat(e){Object.values(fi).includes(e)&&(this._isoFormat=e,this.isExtendedISO=e===fi.Extended)}get isoFormat(){return this._isoFormat}_locale;set locale(e){e?(this._locale=e.length>=2?e:te,this.objMask=this.buildMask(De(this.format,this.languageService.getDateSeparator(this.locale)))):(this._locale=this.shortLanguage,this.objMask=this.buildMask(De(this.format,this.languageService.getDateSeparator(this.locale)))),this.refreshValue(this.date)}get locale(){return this._locale||this.shortLanguage}appendBox=!1;constructor(e,t){this.languageService=e,this.cd=t}set date(e){this._date=typeof e=="string"?nt(e,!1,!1):e}get date(){return this._date}ngOnInit(){this.offset=new Date().getTimezoneOffset(),this.formatTimezoneAndHour(this.offset),this.objMask=this.buildMask(De(this.format,this.languageService.getDateSeparator(this.locale)))}ngOnDestroy(){this.subscription?.unsubscribe()}getDateFromString(e){let t=parseInt(e.substring(this.format.indexOf("d"),this.format.indexOf("d")+2),10),i=parseInt(e.substring(this.format.indexOf("m"),this.format.indexOf("m")+2),10)-1,o=parseInt(e.substring(this.format.indexOf("y"),this.format.indexOf("y")+4),10),a=new Date(o,i,t);return Ye(a,o),a.getFullYear()===o&&a.getMonth()===i&&a.getDate()===t?a:null}formatToDate(e){let t=this.format;return t=t.replace("dd",("0"+e.getDate()).slice(-2)),t=t.replace("mm",("0"+(e.getMonth()+1)).slice(-2)),t=t.replace("yyyy",ni(e.getFullYear())),t}controlModel(e){this.date=e,e&&this.isExtendedISO?this.callOnChange(Ft(this.date,this.hour)):e&&!this.isExtendedISO?this.callOnChange(ho(this.date)):e===void 0?this.callOnChange(""):this.callOnChange("Data inv\xE1lida")}callOnChange(e,t=!0){this.onChangeModel&&e!==this.previousValue?(this.onChangeModel(e),this.previousValue=e):t&&setTimeout(()=>this.callOnChange(e,!1))}setDisabledState(e){this.disabled=e}registerOnChange(e){this.onChangeModel=e}registerOnTouched(e){this.onTouchedModel=e}registerOnValidatorChange(e){this.validatorChange=e}validate(e){return this.errorPattern=this.errorPattern!=="Data inv\xE1lida"&&this.errorPattern!=="Data fora do per\xEDodo"?this.errorPattern:"",!this.hasValidatorRequired&&this.showErrorMessageRequired&&e.hasValidator(ke.required)&&(this.hasValidatorRequired=!0),Ao(e.value)?(this.errorPattern=this.errorPattern||"Data inv\xE1lida",this.cd?.markForCheck(),{date:{valid:!1}}):pe(this.required,this.disabled,e.value)?(this.cd?.markForCheck(),{required:{valid:!1}}):this.date&&!ri(this.date,this._minDate,this._maxDate)?(this.errorPattern=this.errorPattern||"Data fora do per\xEDodo",this.cd?.markForCheck(),{date:{valid:!1}}):(this.errorPattern!==""&&(this.subscription?.unsubscribe(),this.subscription=e.statusChanges.pipe(be(t=>(t==="INVALID"&&this.cd?.markForCheck(),[]))).subscribe()),null)}validateModel(e){this.validatorChange&&this.validatorChange(e)}buildMask(e=this.format){let t=e.toUpperCase();return t=t.replace(/DD/g,"99"),t=t.replace(/MM/g,"99"),t=t.replace(/YYYY/g,"9999"),new Qe(t,!0)}formatTimezoneAndHour(e){let t=Math.abs(e),i=(e<0?"+":"-")+("00"+Math.floor(t/60)).slice(-2)+":"+("00"+t%60).slice(-2);this.hour="T00:00:00"+i}static \u0275fac=function(t){return new(t||n)(A(R),A(S))};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],autoFocus:[2,"p-auto-focus","autoFocus",_],errorAsync:[0,"p-error-async","errorAsync"],name:"name",optional:[0,"p-optional","optional"],errorPattern:[0,"p-error-pattern","errorPattern"],errorLimit:[0,"p-error-limit","errorLimit"],showErrorMessageRequired:[0,"p-required-field-error-message","showErrorMessageRequired"],noAutocomplete:[0,"p-no-autocomplete","noAutocomplete"],placeholder:[0,"p-placeholder","placeholder"],setDisabled:[0,"p-disabled","setDisabled"],setReadonly:[0,"p-readonly","setReadonly"],setRequired:[0,"p-required","setRequired"],showRequired:[0,"p-show-required","showRequired"],size:[0,"p-size","size"],setClean:[0,"p-clean","setClean"],minDate:[0,"p-min-date","minDate"],maxDate:[0,"p-max-date","maxDate"],format:[0,"p-format","format"],isoFormat:[0,"p-iso-format","isoFormat"],locale:[0,"p-locale","locale"],appendBox:[2,"p-append-in-body","appendBox",_]},outputs:{additionalHelp:"p-additional-help",onblur:"p-blur",onchange:"p-change",keydown:"p-keydown"},features:[G]})}return n})();var Ko={en:{open:"Open calendar"},es:{open:"Calendario abierto"},pt:{open:"Abrir calend\xE1rio"},ru:{open:"\u043E\u0442\u043A\u0440\u044B\u0442\u044B\u0439 \u043A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C"}};var Ai=function(n){return n.Range="range",n}(Ai||{});var Go=(()=>{class n{poDate;languageService;change=new v;activateDate;value;onTouched=null;propagateChange=null;today=new Date;shortLanguage;_locale;_maxDate;_minDate;_mode;set locale(e){this._locale=oi.includes(e)?e:this.shortLanguage}get locale(){return this._locale}set maxDate(e){this._maxDate=this.poDate.getDateForDateRange(e,!1)}get maxDate(){return this._maxDate}set minDate(e){this._minDate=this.poDate.getDateForDateRange(e,!0)}get minDate(){return this._minDate}set mode(e){this._mode=e,this.setActivateDate()}get mode(){return this._mode}get isRange(){return this.mode===Ai.Range}constructor(e,t){this.poDate=e,this.languageService=t,this.shortLanguage=t.getShortLanguage(),this._locale=this.languageService.getShortLanguage()}setActivateDate(e){let t;if(typeof e!="string"){let d=new Date(e),w=d.getFullYear(),M=("0"+(d.getMonth()+1)).slice(-2),H=("0"+d.getDate()).slice(-2);t=`${w}-${M}-${H}`+"T00:00:00"}else t=e+"T00:00:00";let i=e||this.verifyActivateDate(),o,a;this.isRange?(new Date(t).getDate()>28?(o=new Date(i),a=new Date(o.getFullYear(),o.getMonth()+1,0,23,59,59,999),a.setMilliseconds(a.getMilliseconds()+1)):(o=typeof i=="string"?this.poDate.convertIsoToDate(i):new Date(i),a=new Date(new Date(o).setMonth(o.getMonth()+1))),this.activateDate={start:o,end:a}):this.activateDate=new Date(i)}verifyActivateDate(){let e=this.today;return this.minDate&&this.minDate>this.today?e=this.minDate:this.maxDate&&this.maxDate<this.today&&(e=this.maxDate),e}static \u0275fac=function(t){return new(t||n)(A(Ke),A(R))};static \u0275dir=O({type:n,inputs:{locale:[0,"p-locale","locale"],maxDate:[0,"p-max-date","maxDate"],minDate:[0,"p-min-date","minDate"],mode:[0,"p-mode","mode"]},outputs:{change:"p-change"}})}return n})();var Qo=(()=>{class n{language=te;months=[{pt:"Janeiro",en:"January",es:"Enero",ru:"\u042F\u043D\u0432\u0430\u0440\u044C"},{pt:"Fevereiro",en:"February",es:"Febrero",ru:"\u0424\u0435\u0432\u0440\u0430\u043B\u044C"},{pt:"Mar\xE7o",en:"March",es:"Marzo",ru:"\u041C\u0430\u0440\u0442"},{pt:"Abril",en:"April",es:"Abril",ru:"\u0410\u043F\u0440\u0435\u043B\u044C"},{pt:"Maio",en:"May",es:"Mayo",ru:"\u041C\u0430\u0439"},{pt:"Junho",en:"June",es:"Junio",ru:"\u0418\u044E\u043D\u044C"},{pt:"Julho",en:"July",es:"Julio",ru:"\u0418\u044E\u043B\u044C"},{pt:"Agosto",en:"August",es:"Agosto",ru:"\u0410\u0432\u0433\u0443\u0441\u0442"},{pt:"Setembro",en:"September",es:"Setiembre",ru:"\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C"},{pt:"Outubro",en:"October",es:"Octubre",ru:"\u041E\u043A\u0442\u044F\u0431\u0440\u044C"},{pt:"Novembro",en:"November",es:"Noviembre",ru:"\u041D\u043E\u044F\u0431\u0440\u044C"},{pt:"Dezembro",en:"December",es:"Diciembre",ru:"\u0414\u0435\u043A\u0430\u0431\u0440\u044C"}];shortWeekDays=[{pt:"Dom",en:"Sun",es:"Dom",ru:"\u0412\u0441"},{pt:"Seg",en:"Mon",es:"Lun",ru:"\u041F\u043D"},{pt:"Ter",en:"Tue",es:"Mar",ru:"\u0412\u0442"},{pt:"Qua",en:"Wed",es:"Mi\xE9",ru:"\u0421\u0440"},{pt:"Qui",en:"Thu",es:"Jue",ru:"\u0427\u0442"},{pt:"Sex",en:"Fri",es:"Vie",ru:"\u041F\u0442"},{pt:"S\xE1b",en:"Sat",es:"S\xE1b",ru:"\u0421\u0431"}];monthLabel={pt:"M\xEAs",en:"Month",es:"Mes",ru:"\u041C\u0435\u0441\u044F\u0446"};yearLabel={pt:"Ano",en:"Year",es:"A\xF1o",ru:"\u0413\u043E\u0434"};todayLabel={pt:"Hoje",en:"Today",es:"Hoy",ru:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F"};getMonth(e){return this.months[e][this.language]}getMonthLabel(){return this.monthLabel[this.language]}getMonthsArray(){let e=Array();for(let t=0;t<this.months.length;t++)e.push(this.months[t][this.language]);return e}getWeekDays(e){return this.shortWeekDays[e][this.language]}getWeekDaysArray(){let e=Array();for(let t=0;t<this.shortWeekDays.length;t++){let i=this.shortWeekDays[t][this.language];e.push(i.toLowerCase())}return e}getYearLabel(){return this.yearLabel[this.language]}getTodayLabel(){return this.todayLabel[this.language]}setLanguage(e){e&&e.length>=2&&(e=e.toLowerCase().slice(0,2),this.language=oi.includes(e)?e:te)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pr=0,Li=(()=>{class n{monthDates(e,t,i=null,o=null){if(typeof t!="number"||t<0||t>11)throw Error("month must be a number (Jan is 0)");let a=[],d=[],w=0,M=new Date(e,t,1);e>=0&&e<100&&M.setFullYear(e),M=this.weekStartDate(M);do{for(w=0;w<7;w++)d.push(i?i(M):M),M=new Date(M.getTime()),M.setDate(M.getDate()+1);a.push(o?o(d):d),d=[]}while(M.getMonth()<=t&&M.getFullYear()===e);return a}monthDays(e,t){let i=function(o){return o.getMonth()===t?o:0};return this.monthDates(e,t,i)}weekStartDate(e){let t=new Date(e.getTime());for(;t.getDay()!==pr;)t.setDate(t.getDate()-1);return t}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dr=["*"];function cr(n,l){if(n&1){let e=b();h(0,"po-icon",4),f("click",function(){s(e);let i=r();return p(i.previous.emit())}),u()}}function ur(n,l){if(n&1){let e=b();h(0,"po-icon",5),f("click",function(){s(e);let i=r();return p(i.next.emit())}),u()}}var $o=(()=>{class n{hidePrevious=!1;hideNext=!1;previous=new v;next=new v;constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-calendar-header"]],inputs:{hidePrevious:[0,"p-hide-previous","hidePrevious"],hideNext:[0,"p-hide-next","hideNext"]},outputs:{previous:"p-previous",next:"p-next"},standalone:!1,ngContentSelectors:dr,decls:5,vars:2,consts:[[1,"po-calendar-header"],["p-icon","ICON_ARROW_LEFT",1,"po-calendar-header-left"],["attr-calendar","",1,"po-calendar-header-title"],["p-icon","ICON_ARROW_RIGHT",1,"po-calendar-header-right"],["p-icon","ICON_ARROW_LEFT",1,"po-calendar-header-left",3,"click"],["p-icon","ICON_ARROW_RIGHT",1,"po-calendar-header-right",3,"click"]],template:function(t,i){t&1&&(Ki(),h(0,"div",0),y(1,cr,1,0,"po-icon",1),h(2,"div",2),Gi(3),u(),y(4,ur,1,0,"po-icon",3),u()),t&2&&(c(),C(i.previous!=null&&i.previous.observers&&!i.hidePrevious?1:-1),c(3),C(i.next!=null&&i.next.observers.length&&!i.hideNext?4:-1))},dependencies:[X],encapsulation:2,changeDetection:0})}return n})();function mr(n,l){if(n&1&&(h(0,"div",10),I(1),u()),n&2){let e=l.$implicit;c(),j(" ",e," ")}}function fr(n,l){if(n&1&&(h(0,"span",13),I(1),u()),n&2){let e=r().$implicit,t=r(2);m("ngClass",t.getDayForegroundColor(e)),c(),j(" ",e.getDate()," ")}}function gr(n,l){if(n&1){let e=b();h(0,"div",11),f("click",function(){let i=s(e).$implicit,o=r(2);return p(o.onSelectDate(i))})("mouseenter",function(){let i=s(e).$implicit,o=r(2);return p(o.onMouseEnter(i))})("mouseleave",function(){s(e);let i=r(2);return p(i.onMouseLeave())}),y(1,fr,2,2,"span",12),u()}if(n&2){let e=l.$implicit,t=r(2);m("ngClass",t.getDayBackgroundColor(e)),c(),m("ngIf",e!==0)}}function _r(n,l){if(n&1){let e=b();pt(0),h(1,"po-calendar-header",2),f("p-previous",function(){s(e);let i=r();return p(i.onPreviousMonth())})("p-next",function(){s(e);let i=r();return p(i.onNextMonth())}),h(2,"span",3),f("click",function(){s(e);let i=r();return p(i.selectDisplayMode("month"))}),I(3),u(),h(4,"span",4),f("click",function(){s(e);let i=r();return p(i.selectDisplayMode("year"))}),I(5),u()(),h(6,"div",5)(7,"div",6),y(8,mr,2,1,"div",7),u(),h(9,"div",8),y(10,gr,2,2,"div",9),u()(),dt()}if(n&2){let e=r();c(),m("p-hide-previous",e.isEndPart)("p-hide-next",e.isStartPart&&!e.responsive),c(2),Pe(e.displayMonth),c(2),Pe(e.displayYear),c(3),m("ngForOf",e.displayWeekDays),c(2),m("ngForOf",e.displayDays)}}function Cr(n,l){if(n&1){let e=b();h(0,"div",17),f("click",function(){let i=s(e).index,o=r(2);return p(o.onSelectMonth(o.displayYear,i))}),h(1,"span",13),I(2),u()()}if(n&2){let e=l.$implicit,t=l.index,i=r(2);m("ngClass",i.getBackgroundColor(t,i.displayMonthNumber)),c(),m("ngClass",i.getForegroundColor(t,i.displayMonthNumber)),c(),j(" ",e," ")}}function br(n,l){if(n&1){let e=b();pt(0),h(1,"po-calendar-header",14),f("p-previous",function(){s(e);let i=r();return p(i.updateYear(-1))})("p-next",function(){s(e);let i=r();return p(i.updateYear(1))}),h(2,"span",4),f("click",function(){s(e);let i=r();return p(i.selectDisplayMode("year"))}),I(3),u()(),h(4,"div",5)(5,"div",6)(6,"div",10),I(7),u()(),h(8,"div",15),y(9,Cr,3,3,"div",16),u()(),dt()}if(n&2){let e=r();c(3),j(" ",e.displayYear," "),c(4),j(" ",e.monthLabel," "),c(2),m("ngForOf",e.displayMonths)}}function vr(n,l){if(n&1){let e=b();h(0,"div",20),f("click",function(){let i=s(e).$implicit,o=r(2);return p(o.onSelectYear(i,o.displayMonthNumber))}),h(1,"span",13),I(2),u()()}if(n&2){let e=l.$implicit,t=r(2);m("ngClass",t.getBackgroundColor(e,t.currentYear)),c(),m("ngClass",t.getForegroundColor(e,t.currentYear)),c(),j(" ",e," ")}}function yr(n,l){if(n&1){let e=b();pt(0),h(1,"po-calendar-header",14),f("p-previous",function(){s(e);let i=r();return p(i.updateYear(-10))})("p-next",function(){s(e);let i=r();return p(i.updateYear(10))}),I(2),u(),h(3,"div",5)(4,"div",6)(5,"div",10),I(6),u()(),h(7,"div",18),y(8,vr,3,3,"div",19),u()(),dt()}if(n&2){let e=r();c(2),Qi(" ",e.displayStartDecade," - ",e.displayFinalDecade," "),c(4),j(" ",e.yearLabel," "),c(2),m("ngForOf",e.displayDecade)}}function wr(n,l){if(n&1){let e=b();pt(0),h(1,"div",21)(2,"div",22)(3,"button",23),f("click",function(){s(e);let i=r();return p(i.onSelectDate(i.today))})("keydown.enter",function(){s(e);let i=r();return p(i.onSelectDate(i.today))})("keydown.space",function(){s(e);let i=r();return p(i.onSelectDate(i.today))}),I(4),u()()(),dt()}if(n&2){let e=r();c(3),m("disabled",e.isTodayUnavailable()),c(),j(" ",e.displayToday," ")}}var Yo=(()=>{class n{poCalendarService=g(Li);poCalendarLangService=g(Qo);poDate=g(Ke);value;mode="day";responsive=!1;partType;range=!1;activateDate=new Date;selectedValue;minDate;maxDate;hoverValue;headerChange=new v;selectDate=new v;hoverDate=new gt().pipe(Ze(100));currentYear;displayDays;displayDecade;displayFinalDecade;displayMonth;displayMonthNumber;displayMonths=Array();displayStartDecade;displayWeekDays=Array();displayYear;displayToday;today=new Date;currentMonthNumber;date;lastDisplay;_locale;set locale(e){this._locale=e,this.initializeLanguage()}get locale(){return this._locale}get monthLabel(){return this.poCalendarLangService.getMonthLabel()}get yearLabel(){return this.poCalendarLangService.getYearLabel()}get isDayVisible(){return this.mode==="day"}get isMonthVisible(){return this.mode==="month"}get isYearVisible(){return this.mode==="year"}get isStartPart(){return this.partType==="start"}get isEndPart(){return this.partType==="end"}ngOnInit(){this.init()}ngOnChanges(e){let{activateDate:t}=e;t&&this.updateDate(t.currentValue)}getBackgroundColor(e,t){return e===t?"po-calendar-box-background-selected":"po-calendar-box-background"}getDayBackgroundColor(e){return this.getDayColor(e,"background")}getDayForegroundColor(e){return this.getDayColor(e,"foreground")}getForegroundColor(e,t){return e===t?"po-calendar-box-foreground-selected":"po-calendar-box-foreground"}isTodayUnavailable(){return this.minDate>this.today||this.maxDate<this.today}onNextMonth(){this.displayMonthNumber<11?this.updateDisplay(this.displayYear,this.displayMonthNumber+1):this.updateDisplay(this.displayYear+1,0),this.headerChange.emit({month:this.displayMonthNumber,year:this.displayYear})}onPreviousMonth(){this.displayMonthNumber>0?this.updateDisplay(this.displayYear,this.displayMonthNumber-1):this.updateDisplay(this.displayYear-1,11),this.headerChange.emit({month:this.displayMonthNumber,year:this.displayYear})}onMouseEnter(e){this.hoverDate.next(e)}onMouseLeave(){this.hoverDate.next(null)}onSelectDate(e){this.selectDate.emit(e)}onSelectMonth(e,t){this.selectDisplayMode("day"),this.updateDisplay(e,t),this.headerChange.emit({month:t,year:e})}onSelectYear(e,t){this.selectDisplayMode(this.lastDisplay==="month"?"month":"day"),this.currentYear=e,this.updateDisplay(e,t),this.headerChange.emit({month:t,year:e})}selectDisplayMode(e){this.lastDisplay=this.mode,this.mode=e}updateYear(e){this.updateDisplay(this.displayYear+e,this.displayMonthNumber)}addAllYearsInDecade(e){let t;for(t=e;t<e+10;t++)this.displayDecade.push(t)}equalsDate(e,t){try{return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}catch{return!1}}getDecadeArray(e){if(this.displayDecade=Array(),e%10!==0)for(;e%10!==0;)e--;this.updateDecade(e)}getColorForDate(e,t){return this.poDate.validateDateRange(e,this.minDate,this.maxDate)?`po-calendar-box-${t}-selected`:`po-calendar-box-${t}-selected-disabled`}getColorForDefaultDate(e,t){return this.poDate.validateDateRange(e,this.minDate,this.maxDate)?`po-calendar-box-${t}`:`po-calendar-box-${t}-disabled`}getColorForToday(e,t){return this.poDate.validateDateRange(e,this.minDate,this.maxDate)?`po-calendar-box-${t}-today`:`po-calendar-box-${t}-today-disabled`}getColorForDateRange(e,t){return this.poDate.validateDateRange(e,this.minDate,this.maxDate)?`po-calendar-box-${t}-in-range`:`po-calendar-box-${t}-in-range-disabled`}getDayColor(e,t){let i=this.selectedValue?.start,o=this.selectedValue?.end;return this.range&&(this.equalsDate(e,i)||this.equalsDate(e,o))?this.getColorForDate(e,t):this.range&&i&&o&&e>i&&e<o?this.getColorForDateRange(e,t):this.range&&i&&!o&&e>i&&e<this.hoverValue?`po-calendar-box-${t}-hover`:!this.range&&this.equalsDate(e,this.value)?this.getColorForDate(e,t):this.equalsDate(e,this.today)?this.getColorForToday(e,t):this.getColorForDefaultDate(e,t)}init(){this.updateDate(this.activateDate),this.initializeLanguage(),this.selectDisplayMode("day")}initializeLanguage(){this.poCalendarLangService.setLanguage(this.locale),this.displayWeekDays=this.poCalendarLangService.getWeekDaysArray(),this.displayMonths=this.poCalendarLangService.getMonthsArray(),this.displayMonth=this.displayMonths[this.displayMonthNumber],this.displayToday=this.poCalendarLangService.getTodayLabel()}updateDate(e=new Date){let t=new Date(e);this.currentMonthNumber=t.getMonth(),this.currentYear=t.getFullYear(),this.updateDisplay(this.currentYear,this.currentMonthNumber)}updateDecade(e){this.addAllYearsInDecade(e),this.displayStartDecade=e,this.displayFinalDecade=e+9}updateDisplay(e,t){let i=this.poCalendarService.monthDays(e,t);this.displayDays=[].concat.apply([],i),this.displayMonthNumber=t,this.displayMonth=this.displayMonths[t],this.displayYear=e,this.getDecadeArray(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-calendar-wrapper"]],inputs:{value:[0,"p-value","value"],mode:[0,"p-mode","mode"],responsive:[0,"p-responsive","responsive"],partType:[0,"p-part-type","partType"],range:[0,"p-range","range"],activateDate:[0,"p-activate-date","activateDate"],selectedValue:[0,"p-selected-value","selectedValue"],minDate:[0,"p-min-date","minDate"],maxDate:[0,"p-max-date","maxDate"],hoverValue:[0,"p-hover-value","hoverValue"],locale:[0,"p-locale","locale"]},outputs:{headerChange:"p-header-change",selectDate:"p-select-date",hoverDate:"p-hover-date"},standalone:!1,features:[W([Li]),me],decls:5,vars:4,consts:[[1,"po-calendar-wrapper"],[4,"ngIf"],[3,"p-previous","p-next","p-hide-previous","p-hide-next"],[1,"po-clickable","po-mr-1",3,"click"],[1,"po-clickable",3,"click"],[1,"po-calendar-content"],[1,"po-calendar-labels"],["class","po-calendar-label",4,"ngFor","ngForOf"],[1,"po-calendar-content-list-day"],["class","po-calendar-day","attr-calendar","",3,"ngClass","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"po-calendar-label"],["attr-calendar","",1,"po-calendar-day",3,"click","mouseenter","mouseleave","ngClass"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"p-previous","p-next"],[1,"po-calendar-content-list-month"],["class","po-calendar-month","attr-calendar","",3,"ngClass","click",4,"ngFor","ngForOf"],["attr-calendar","",1,"po-calendar-month",3,"click","ngClass"],[1,"po-calendar-content-list-year"],["class","po-calendar-year","attr-calendar","",3,"ngClass","click",4,"ngFor","ngForOf"],["attr-calendar","",1,"po-calendar-year",3,"click","ngClass"],[1,"po-calendar-footer"],[1,"po-calendar-footer-today"],["type","button",1,"po-calendar-footer-today-button",3,"click","keydown.enter","keydown.space","disabled"]],template:function(t,i){t&1&&(h(0,"div",0),y(1,_r,11,6,"ng-container",1)(2,br,10,3,"ng-container",1)(3,yr,9,4,"ng-container",1)(4,wr,5,2,"ng-container",1),u()),t&2&&(c(),m("ngIf",i.isDayVisible),c(),m("ngIf",i.isMonthVisible),c(),m("ngIf",i.isYearVisible),c(),m("ngIf",!i.range))},dependencies:[le,Ji,Xi,$o],encapsulation:2,changeDetection:0})}return n})();var Fr=()=>({partType:"start"}),Vr=()=>({partType:"end"});function xr(n,l){n&1&&_e(0)}function Sr(n,l){n&1&&_e(0)}function Pr(n,l){if(n&1&&y(0,Sr,1,0,"ng-container",3),n&2){r(2);let e=K(3);m("ngTemplateOutlet",e)("ngTemplateOutletContext",Ei(2,Vr))}}function Tr(n,l){if(n&1&&(h(0,"div",1),y(1,xr,1,0,"ng-container",3)(2,Pr,1,3,"ng-container"),u()),n&2){let e=r(),t=K(3);c(),m("ngTemplateOutlet",t)("ngTemplateOutletContext",Ei(3,Fr)),c(),C(e.isResponsive?-1:2)}}function Er(n,l){}function kr(n,l){if(n&1&&(h(0,"div",2),y(1,Er,0,0,"ng-template",4),u()),n&2){r();let e=K(3);c(),m("ngTemplateOutlet",e)}}function Mr(n,l){if(n&1){let e=b();h(0,"po-calendar-wrapper",5),f("p-header-change",function(i){let o=s(e).partType,a=r();return p(a.onHeaderChange(i,o))})("p-select-date",function(i){let o=s(e).partType,a=r();return p(a.onSelectDate(i,o))})("p-hover-date",function(i){s(e);let o=r();return p(o.onHoverDate(i))}),u()}if(n&2){let e=l.partType,t=r();m("p-value",t.getValue(e))("p-activate-date",t.getActivateDate(e))("p-locale",t.locale)("p-min-date",t.minDate)("p-max-date",t.maxDate)("p-part-type",e)("p-range",t.isRange)("p-responsive",t.isResponsive)("p-selected-value",t.value)("p-hover-value",t.hoverValue)}}var Ar=[{provide:Q,useExisting:q(()=>Et),multi:!0},{provide:$,useExisting:q(()=>Et),multi:!0}],Lr=600,Et=(()=>{class n extends Go{changeDetector=g(S);hoverValue;constructor(){let e=g(Ke),t=g(R);super(e,t)}get isResponsive(){return window.innerWidth<Lr}ngOnInit(){this.setActivateDate()}ngOnChanges(e){(e.minDate||e.maxDate)&&this.setActivateDate()}getActivateDate(e){return this.isRange&&this.activateDate?this.activateDate[e]:this.activateDate}getValue(e){return this.isRange&&this.value?this.value[e]:this.value}onSelectDate(e,t){let i;this.isRange?(i=this.getValueFromSelectedDate(e),t==="end"&&(!this.value?.start||this.value.start&&this.value.end)&&this.setActivateDate(e)):(i=e,this.setActivateDate(e)),this.value=i;let o=this.convertDateToISO(this.value);this.updateModel(o),this.change.emit(o)}onHoverDate(e){this.hoverValue=e}onHeaderChange({month:e,year:t},i){if(this.isRange){let o,a,{start:d,end:w}=this.activateDate;if(i==="end"){let M=e===0?t-1:t,H=new Date(M,e,0).getDate();t!==M?(o=new Date(t,e-1,Math.min(d.getDate(),H)),a=new Date(t,e,Math.min(w.getDate(),H))):(o=new Date(M,e-1,Math.min(d.getDate(),H)),a=new Date(M,e,Math.min(w.getDate(),H)))}else{let M=e===11?t+1:t,H=new Date(M,e+1,0).getDate();t!==M?(a=new Date(t,e+1,Math.min(w.getDate(),H)),o=new Date(t,e,Math.min(d.getDate(),H))):(a=new Date(M,e+1,Math.min(w.getDate(),H)),o=new Date(M,e,Math.min(d.getDate(),H)))}this.activateDate={start:o,end:a}}}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.onTouched=e}validate(e){return null}writeValue(e){e?this.writeDate(e):this.value=null;let t=this.getValidateStartDate(e);this.setActivateDate(t),this.changeDetector.markForCheck()}getValidateStartDate(e){return this.isRange?e?.start||null:e instanceof Date||typeof e=="string"?e:null}getValueFromSelectedDate(e){return!this.value?.start||this.value.start>e||this.value.end&&this.value.start?{start:new Date(e),end:null}:{start:new Date(this.value.start),end:new Date(e)}}convertDateToISO(e){if(this.isRange){let t=e?.start instanceof Date?this.poDate.convertDateToISO(e.start):null,i=e?.end instanceof Date?this.poDate.convertDateToISO(e.end):null;return{start:t,end:i}}else return this.poDate.convertDateToISO(e)}convertDateFromIso(e){if(e&&typeof e=="string"){let{year:t,month:i,day:o}=this.poDate.getDateFromIso(e),a=new Date(t,i-1,o);return this.poDate.setYearFrom0To100(a,t),a}return null}updateModel(e){this.propagateChange&&this.propagateChange(e)}writeDate(e){if(this.isRange){let t=e?.start,i=e?.end,o=t instanceof Date?new Date(t):this.convertDateFromIso(t),a=i instanceof Date?new Date(i):this.convertDateFromIso(i);this.value={start:o,end:a}}else this.value=e instanceof Date?new Date(e):this.convertDateFromIso(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-calendar"]],standalone:!1,features:[W(Ar),L,me],decls:4,vars:1,consts:[["calendarWrapper",""],[1,"po-calendar-range"],[1,"po-calendar"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet"],[3,"p-header-change","p-select-date","p-hover-date","p-value","p-activate-date","p-locale","p-min-date","p-max-date","p-part-type","p-range","p-responsive","p-selected-value","p-hover-value"]],template:function(t,i){t&1&&y(0,Tr,3,4,"div",1)(1,kr,2,1,"div",2)(2,Mr,1,10,"ng-template",null,0,ze),t&2&&C(i.isRange?0:1)},dependencies:[Te,Yo],encapsulation:2,changeDetection:0})}return n})();var Or=["calendar"],Ir=["dialogPicker"],Rr=["iconDatepicker"],Hr=["inp"];function qr(n,l){if(n&1){let e=b();h(0,"po-clean",16),f("p-change-event",function(){s(e);let i=r();return p(i.clear())}),u()}if(n&2){let e=r();m("p-element-ref",e.inputEl)("p-size",e.size)}}function zr(n,l){n&1&&_e(0)}function Br(n,l){if(n&1&&y(0,zr,1,0,"ng-container",17),n&2){r(2);let e=K(15);m("ngTemplateOutlet",e)}}function Nr(n,l){if(n&1&&y(0,Br,1,1,"ng-template",14),n&2){r();let e=K(4);m("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayDisableClose",!0)}}function Wr(n,l){n&1&&_e(0)}function jr(n,l){if(n&1&&y(0,Wr,1,0,"ng-container",17),n&2){r();let e=K(15);m("ngTemplateOutlet",e)}}function Ur(n,l){n&1&&B(0,"div",19)}function Kr(n,l){if(n&1){let e=b();h(0,"div",18,5),y(2,Ur,1,0,"div",19),h(3,"po-calendar",20,6),ae("ngModelChange",function(i){s(e);let o=r();return re(o.date,i)||(o.date=i),p(i)}),f("p-change",function(){s(e);let i=r();return p(i.dateSelected())})("keydown",function(i){s(e);let o=r();return p(o.onCalendarKeyDown(i))}),u()()}if(n&2){let e=r();T("po-datepicker-popup-calendar",!e.verifyMobile()),c(2),C(e.verifyMobile()?2:-1),c(),T("po-datepicker-calendar-mobile",e.verifyMobile()),ne("ngModel",e.date),m("p-max-date",e.maxDate)("p-min-date",e.minDate)("p-locale",e.locale)}}function Gr(n,l){if(n&1){let e=b();h(0,"po-field-container-bottom",21),f("p-additional-help",function(){s(e);let i=r();return p(i.emitAdditionalHelp())}),u()}if(n&2){let e=r();m("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-append-in-body",e.appendBox)("p-help",e.help)("p-disabled",e.disabled)("p-error-pattern",e.getErrorPattern())("p-error-limit",e.errorLimit)("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}var Qr=8,Xo="bottom-left",tn=(()=>{class n extends Uo{controlPosition=g(Ae);renderer=g(ve);calendar;dialogPicker;iconDatepicker;inputEl;label;help;displayAdditionalHelp=!1;el;hour;id=`po-datepicker[${se()}]`;visible=!1;literals;eventListenerFunction;eventResizeListener;clickListener;dateRegex=new RegExp("^(?:[0-9])\\d{1}(?:[0-9])\\d{1}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])$");isoRegex=new RegExp("^(?:[0-9])\\d{1}(?:[0-9])\\d{1}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])T(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d(?:Z|-0[1-9]|-1\\d|-2[0-3]|-00:?(?:0[1-9]|[0-5]\\d)|\\+[01]\\d|\\+2[0-3])(?:|:?[0-5]\\d)$");timeoutChange;valueBeforeChange;subscriptionValidator=new de;get autocomplete(){return this.noAutocomplete?"off":"on"}constructor(){let e=g(R),t=g(S),i=g(P);super(e,t),this.languageService=e,this.cd=t,this.shortLanguage=this.languageService.getShortLanguage(),this.el=i;let o=e.getShortLanguage();this.literals=D({},Ko[o])}onKeyup(e){this.readonly||e?.target!==this.inputEl?.nativeElement||(this.objMask.keyup(e),this.objMask.valueToModel||this.objMask.valueToModel===""?this.objMask.valueToModel.length>=10?(this.controlModel(this.getDateFromString(this.inputEl.nativeElement.value)),this.date=this.getDateFromString(this.inputEl.nativeElement.value)):(this.date=void 0,this.controlModel(this.date)):this.date=void 0)}onKeydown(e){this.readonly||(e.key==="Escape"&&this.visible&&(this.togglePicker(!1),e.preventDefault(),e.stopPropagation()),e.key==="Tab"&&e.shiftKey&&e.target instanceof HTMLInputElement&&this.visible&&this.togglePicker(),this.objMask.keydown(e))}ngAfterViewInit(){this.setDialogPickerStyleDisplay("none"),this.autoFocus&&this.focus(),this.renderer.setAttribute(this.iconDatepicker.buttonElement.nativeElement,"aria-label",this.literals.open)}ngOnDestroy(){this.subscriptionValidator?.unsubscribe(),this.removeListeners()}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}focus(){!this.disabled&&this.inputEl?.nativeElement&&this.inputEl.nativeElement.focus()}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}togglePicker(e=!0){this.disabled||this.readonly||!this.iconDatepicker?.buttonElement?.nativeElement||(this.visible?(this.inputEl.nativeElement.disabled=!1,this.closeCalendar(e),this.renderer.removeAttribute(this.inputEl.nativeElement,"aria-expanded"),this.renderer.removeAttribute(this.iconDatepicker.buttonElement.nativeElement,"aria-expanded")):(this.setCalendarPosition(),this.initializeListeners(),this.visible=!0,this.renderer.setAttribute(this.inputEl.nativeElement,"aria-expanded","true"),this.renderer.setAttribute(this.iconDatepicker.buttonElement.nativeElement,"aria-expanded","true")))}dateSelected(){this.onTouchedModel?.(),this.verifyMobile()||this.inputEl.nativeElement.focus(),this.inputEl.nativeElement.value=this.formatToDate(this.date),this.controlModel(this.date),this.controlChangeEmitter(),this.togglePicker()}wasClickedOnPicker(e){!this.dialogPicker||!this.iconDatepicker||(!this.dialogPicker.nativeElement.contains(e.target)||this.hasOverlayClass(e.target))&&!this.iconDatepicker.buttonElement.nativeElement.contains(e.target)&&!this.hasAttrCalendar(e.target)&&this.closeCalendar()}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&(this.inputEl.nativeElement.value!==""||this.showErrorMessageRequired&&(this.required||this.hasValidatorRequired))}getErrorPattern(){return this.errorPattern!==""&&this.hasInvalidClass()?this.errorPattern:""}clear(){this.valueBeforeChange=this.formatToDate(this.date),this.date=void 0,this.controlModel(this.date),this.controlChangeEmitter()}eventOnBlur(e){this.onTouchedModel?.(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp();let t=this.inputEl.nativeElement.value,i=t?this.getDateFromString(t):void 0;this.objMask.blur(e),this.onblur.emit(),this.objMask.valueToModel?this.objMask.valueToModel.length>=10?(this.controlModel(i),this.date=i):(this.date=null,this.controlModel(this.date)):(this.date=void 0,this.callOnChange(this.date)),this.controlChangeEmitter()}eventOnClick(e){this.verifyMobile()?(e.target.blur(),setTimeout(()=>this.togglePicker(),0)):this.objMask.click(e)}onKeyDown(e){document.activeElement===this.inputEl.nativeElement&&this.keydown.emit(e)}onKeyPress(e){(Vt(e)||_o(e))&&this.togglePicker(!1),e.key==="Tab"&&e.shiftKey&&!this.visible&&(this.focus(),e.preventDefault(),e.stopPropagation())}formatToDate(e){if(!e)return;let t=De(this.format,this.languageService.getDateSeparator(this.locale));return t=t.replace("dd",("0"+e.getDate()).slice(-2)),t=t.replace("mm",("0"+(e.getMonth()+1)).slice(-2)),t=t.replace("yyyy",ni(e.getFullYear())),t}refreshValue(e){e&&(this.inputEl.nativeElement.value=this.formatToDate(e))}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}writeValue(e){if(this.inputEl&&e){if(e instanceof Date){let i=e.toString();this.hour="T"+i.substring(16,24)+i.substring(28,31)+":"+i.substring(31,33),this.date=e,this.inputEl.nativeElement.value=this.formatToDate(e)}else if(this.isValidDateIso(e)||this.isValidExtendedIso(e)){this.isValidExtendedIso(e)&&(this.hour=e.substring(10,25)),this.isoFormat===void 0&&(this.isExtendedISO=this.isValidExtendedIso(e));let i=parseInt(e.substring(8,10),10),o=parseInt(e.substring(5,7),10)-1,a=parseInt(e.substring(0,4),10),d=new Date(a,o,i);Ye(d,a),this.date=d,this.inputEl.nativeElement.value=this.formatToDate(d)}else this.inputEl.nativeElement.value="",this.date=void 0;this.controlModel(this.date);let t=this.formatToDate(this.date);this.verifyErrorAsync(t)}else this.inputEl&&(this.inputEl.nativeElement.value="",this.date=void 0,this.callOnChange(this.date,!1));this.valueBeforeChange=this.formatToDate(this.date)}isValidDateIso(e){return this.dateRegex.test(e)}isValidExtendedIso(e){return this.isoRegex.test(e)}hasOverlayClass(e){return e.classList.contains("po-datepicker-calendar-overlay")}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}verifyErrorAsync(e){if(this.errorPattern!==""&&this.errorAsync){let t=this.errorAsync(e);_t(t)&&(this.subscriptionValidator?.unsubscribe(),this.subscriptionValidator=t.pipe(be(i=>{let o=this.el.nativeElement;return i?(o.classList.add("ng-invalid"),o.classList.add("ng-dirty"),this.cd.detectChanges()):o.classList.contains("ng-invalid")&&o.classList.contains("ng-dirty")&&!this.isInvalid&&(o.classList.remove("ng-invalid"),this.cd.detectChanges()),We("")})).subscribe())}}verifyMobile(){return rt()}closeCalendar(e=!0){this.visible=!1,this.removeListeners(),this.setDialogPickerStyleDisplay("none"),!this.verifyMobile()&&e&&this.focus()}controlChangeEmitter(){let e=this.formatToDate(this.date);e!==this.valueBeforeChange&&(this.valueBeforeChange=e,clearTimeout(this.timeoutChange),this.timeoutChange=setTimeout(()=>{this.onchange.emit(e),this.verifyErrorAsync(e)},200))}hasAttrCalendar(e){let t="attr-calendar";return e&&e.hasAttribute(t)||e.parentElement&&e.parentElement.hasAttribute(t)}initializeListeners(){this.clickListener=this.renderer.listen("document","click",e=>{this.wasClickedOnPicker(e)}),this.eventResizeListener=this.renderer.listen("window","resize",()=>{this.closeCalendar()}),window.addEventListener("scroll",this.onScroll,!0)}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}onScroll=()=>{this.controlPosition.adjustPosition(Xo)};removeListeners(){this.clickListener&&this.clickListener(),this.eventResizeListener&&this.eventResizeListener(),window.removeEventListener("scroll",this.onScroll,!0)}setDialogPickerStyleDisplay(e){this.dialogPicker&&this.dialogPicker.nativeElement&&(this.dialogPicker.nativeElement.style.display=e)}setCalendarPosition(){this.setDialogPickerStyleDisplay("block"),this.dialogPicker&&this.dialogPicker.nativeElement&&(this.controlPosition.setElements(this.dialogPicker.nativeElement,Qr,this.inputEl,["top-left","top-right","bottom-left","bottom-right"],!1,!0),this.controlPosition.adjustPosition(Xo))}handleCleanKeyboardTab(e){this.shouldHandleTab(e)&&this.focusCalendar(e)}shouldHandleTab(e){return this.visible&&!e.shiftKey}focusCalendar(e){if(!this.dialogPicker?.nativeElement)return;let t=["button:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(", "),i=this.dialogPicker.nativeElement.querySelector(t);i?(e.preventDefault(),i?.focus()):this.togglePicker(!1)}onCalendarKeyDown(e){new Set(["Tab","Escape"]).has(e.key)&&(this.togglePicker(),e.preventDefault(),e.stopPropagation())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-datepicker"]],viewQuery:function(t,i){if(t&1&&(x(Or,7),x(Ir,5,P),x(Rr,5),x(Hr,7,P)),t&2){let o;F(o=V())&&(i.calendar=o.first),F(o=V())&&(i.dialogPicker=o.first),F(o=V())&&(i.iconDatepicker=o.first),F(o=V())&&(i.inputEl=o.first)}},hostBindings:function(t,i){t&1&&f("keyup",function(a){return i.onKeyup(a)})("keydown",function(a){return i.onKeydown(a)})},inputs:{label:[0,"p-label","label"],help:[0,"p-help","help"]},standalone:!1,features:[W([{provide:Q,useExisting:q(()=>n),multi:!0},{provide:$,useExisting:q(()=>n),multi:!0},Ae]),L],decls:17,vars:27,consts:[["outerContainer",""],["trigger","cdkOverlayOrigin"],["inp",""],["iconDatepicker",""],["sharedCalendarContent",""],["dialogPicker",""],["calendar",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],["cdkOverlayOrigin","",1,"po-field-container-content","po-field-container-content-datepicker"],[1,"po-field-container-input"],["type","text",1,"po-input","po-datepicker",3,"blur","click","keydown","keydown.tab","autocomplete","disabled","id","placeholder","readonly","required"],[1,"po-field-icon-container-right"],[1,"po-icon-input",3,"p-element-ref","p-size"],["p-icon","ICON_CALENDAR","p-kind","tertiary",1,"po-datepicker-button",3,"keydown","keydown.tab","p-click","p-disabled","p-size"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayDisableClose"],[3,"p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"],[1,"po-icon-input",3,"p-change-event","p-element-ref","p-size"],[4,"ngTemplateOutlet"],["tabindex","-1"],[1,"po-datepicker-calendar-overlay"],[3,"ngModelChange","p-change","keydown","ngModel","p-max-date","p-min-date","p-locale"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"]],template:function(t,i){if(t&1){let o=b();h(0,"po-field-container",7)(1,"div",null,0)(3,"div",8,1)(5,"div",9)(6,"input",10,2),f("blur",function(d){return s(o),p(i.eventOnBlur(d))})("click",function(d){return s(o),p(i.eventOnClick(d))})("keydown",function(d){return s(o),p(i.onKeyDown(d))})("keydown.tab",function(d){return s(o),p(i.handleCleanKeyboardTab(d))}),u(),h(8,"div",11),y(9,qr,1,2,"po-clean",12),u()(),h(10,"po-button",13,3),f("keydown",function(d){return s(o),p(i.onKeyPress(d))})("keydown.tab",function(d){return s(o),p(i.handleCleanKeyboardTab(d))})("p-click",function(){return s(o),p(i.togglePicker())}),u()(),y(12,Nr,1,3,null,14)(13,jr,1,1,"ng-container")(14,Kr,5,9,"ng-template",null,4,ze),u(),y(16,Gr,1,8,"po-field-container-bottom",15),u()}if(t&2){let o=K(7);m("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),c(6),T("po-input-icon-right",i.clean&&o.value)("po-input-icon-right-aa",i.clean&&o.value&&i.size==="small")("po-input-aa",i.size==="small"),m("autocomplete",i.autocomplete)("disabled",i.disabled)("id",i.id)("placeholder",i.disabled?"":i.placeholder)("readonly",i.readonly)("required",i.required),z("name",i.name)("data-append-in-body",i.appendBox),c(3),C(i.clean&&!i.disabled&&!i.readonly?9:-1),c(),T("po-datepicker-button-aa",i.size==="small"),m("p-disabled",i.disabled||i.readonly)("p-size",i.size),c(2),C(i.appendBox?12:13),c(4),C(i.readonly?-1:16)}},dependencies:[Te,it,ot,ee,J,wt,yt,ye,Et,Pt],encapsulation:2,changeDetection:0})}return n})();var Be=function(n){return n[n.startsWith=0]="startsWith",n[n.contains=1]="contains",n[n.endsWith=2]="endsWith",n}(Be||{});var Ht={en:{noData:"No data found",chooseOption:"Choose an option",clear:"Clear"},es:{noData:"Datos no encontrados",chooseOption:"Elija una opci\xF3n",clear:"limpia"},pt:{noData:"Nenhum dado encontrado",chooseOption:"Escolha uma op\xE7\xE3o",clear:"Apagar"},ru:{noData:"\u0414\u0430\u043D\u043D\u044B\u0435 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B",chooseOption:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u043F\u0446\u0438\u044E",clear:"\u0447\u0438\u0441\u0442\u044B\u0439"}};var Yr=400,on="label",nn="value",Jr="bottom",rn=(()=>{class n{changeDetector;additionalHelpEventTrigger;additionalHelpTooltip;blur=new v;autoFocus=!1;label;help;name;filterService;set infiniteScroll(e){this._infiniteScroll=_(e)}get infiniteScroll(){return this._infiniteScroll}set infiniteScrollDistance(e){this._infiniteScrollDistance=e>100||e<0?100:e}get infiniteScrollDistance(){return this._infiniteScrollDistance}icon;optional;clean;emitObjectValue=!1;disabledTabFilter=!1;removeInitialFilter=!1;fieldErrorMessage;additionalHelp=new v;errorLimit=!1;change=new v;keydown=new v;ngModelChange=new v;inputChange=new v;controlValueWithLabel=!1;listboxControlPosition=Jr;cacheOptions=[];defaultService;firstInWriteValue=!0;isFirstFilter=!0;isFiltering=!1;keyupSubscribe;onModelChange;previousSearchValue="";selectedOption;selectedValue;selectedView;service;visibleOptions=[];page=1;pageSize=10;loading=!1;displayAdditionalHelp=!1;dynamicLabel="label";dynamicValue="value";shouldApplyFocus=!1;hasValidatorRequired=!1;cacheStaticOptions=[];comboOptionsList=[];onModelTouched=null;_changeOnEnter=!1;_debounceTime=400;_disabled=!1;_disabledInitFilter=!1;_fieldLabel="label";_fieldValue="value";_filterMinlength=0;_filterMode=Be.startsWith;_filterParams;_literals;_options=[];_placeholder="";_required=!1;_size=void 0;_sort=!1;language;_infiniteScrollDistance=100;_infiniteScroll=!1;fromWriteValue=!1;validatorChange;set placeholder(e){this._placeholder=e||this.literals.chooseOption}get placeholder(){return this._placeholder}set debounceTime(e){let t=parseInt(e,10);this._debounceTime=!isNaN(t)&&t>0?t:Yr}get debounceTime(){return this._debounceTime}set disabledInitFilter(e){this._disabledInitFilter=_(e)}get disabledInitFilter(){return this._disabledInitFilter}set fieldValue(e){!this.service&&!this.filterService&&(this.dynamicValue=e),this._fieldValue=e||nn,ie(this.filterService,"string")&&this.service&&(this.service.fieldValue=this._fieldValue)}get fieldValue(){return this._fieldValue}set fieldLabel(e){!this.service&&!this.filterService&&(this.dynamicLabel=e),this._fieldLabel=e||on,ie(this.filterService,"string")&&this.service&&(this.service.fieldLabel=this._fieldLabel)}get fieldLabel(){return this._fieldLabel}set filterMinlength(e){let t=typeof e=="string"?parseInt(e,10):e;this._filterMinlength=Number.isInteger(t)?t:0}get filterMinlength(){return this._filterMinlength}set required(e){this._required=_(e),this.validateModel(this.selectedValue)}get required(){return this._required}showRequired=!1;set size(e){this._size=Z(e,N)}get size(){return this._size??Y(N)}set changeOnEnter(e){this._changeOnEnter=_(e)}get changeOnEnter(){return this._changeOnEnter}set disabled(e){this._disabled=_(e),this.validateModel(this.selectedValue)}get disabled(){return this._disabled}set sort(e){this._sort=_(e),this.comboListDefinitions()}get sort(){return this._sort}set options(e){this._options=Array.isArray(e)?e:[],this.comboListDefinitions()}get options(){return this._options}set filterMode(e){switch(this._filterMode=e in Be?e:Be.startsWith,this._filterMode.toString()){case"startsWith":this._filterMode=Be.startsWith;break;case"contains":this._filterMode=Be.contains;break;case"endsWith":this._filterMode=Be.endsWith;break}}get filterMode(){return this._filterMode}set filterParams(e){this._filterParams=e||e===0||e===!1?e:void 0}get filterParams(){return this._filterParams}set literals(e){e instanceof Object&&!(e instanceof Array)?this._literals=D(D(D({},Ht[te]),Ht[this.language]),e):this._literals=Ht[this.language]}get literals(){return this._literals||Ht[this.language]}cache=!0;appendBox=!1;constructor(e,t){this.changeDetector=t,this.language=e.getShortLanguage()}get isOptionGroupList(){return this._options.length&&this._options[0].hasOwnProperty("options")}ngOnInit(){this.dynamicValue=this.checkIfService("value"),this.dynamicLabel=this.checkIfService("label"),this.updateComboList()}onInitService(){this.filterService&&(this.setService(this.filterService),this.initInputObservable())}setService(e){e&&(ie(e,"object")?this.service=e:(this.service=this.defaultService,this.service.configProperties(e,this.fieldLabel,this.fieldValue)))}compareMethod(e,t,i){switch(i){case Be.startsWith:return this.startsWith(e,t);case Be.contains:return this.contains(e,t);case Be.endsWith:return this.endsWith(e,t)}}startsWith(e,t){return t[this.dynamicLabel].toLowerCase().startsWith(e.toLowerCase())}contains(e,t){return t[this.dynamicLabel].toLowerCase().indexOf(e.toLowerCase())>-1}endsWith(e,t){return t[this.dynamicLabel].toLowerCase().endsWith(e.toLowerCase())}getOptionFromValue(e,t){return t?t.find(i=>this.isEqual(i[this.dynamicValue],e)):null}getOptionFromLabel(e,t){return t?t.find(i=>i[this.dynamicLabel].toString().toLowerCase()===e.toString().toLowerCase()):null}updateSelectedValue(e,t=!0){let i=e&&e[this.dynamicLabel]||"";if(this.updateInternalVariables(e),this.changeOnEnter&&t?this.setInputValue(i):this.changeOnEnter||this.setInputValue(i),t){let o=e?.[this.dynamicValue]!==void 0?e[this.dynamicValue]:void 0;this.updateModel(o)}}callModelChange(e){return this.onModelChange?this.onModelChange(e):this.ngModelChange.emit(e)}isEqual(e,t){return(e||e===0)&&t?e.toString()===t.toString():((e===null&&t!==null||e===void 0&&t!==void 0)&&(e=`${e}`),e===t)}searchForLabel(e,t,i){if(e&&t&&t.length){let o=[],a=!1,d;t.forEach(w=>{if("options"in w)return a=!1,d=w;w[this.dynamicLabel]&&(this.compareMethod(e,w,i)||this.service)&&(this.isOptionGroupList&&!a&&(o.push(d),a=!0),o.push(w))}),this.selectedView=o[this.isOptionGroupList?1:0],this.updateComboList(o)}else this.updateComboList()}updateComboList(e){let t=e||[...this.comboOptionsList],i;this.removeInitialFilter?i=t:i=!e&&!this.infiniteScroll&&this.selectedValue?[D({},this.selectedOption)]:t,this.visibleOptions=i,!this.selectedView&&this.visibleOptions.length&&(this.selectedView=t.find(o=>o[this.dynamicValue]!==void 0))}getNextOption(e,t,i=!1){let o=i?t.slice(0).reverse():t.slice(0),a=null,d=!1;for(let w of o){if(w[this.dynamicValue]&&!a&&(a=w),w[this.dynamicValue]&&d)return w;this.isEqual(w[this.dynamicValue],e)&&(d=!0)}return a}getIndexSelectedView(){for(let e=0;e<this.visibleOptions.length;e++)if(this.compareObjects(this.visibleOptions[e],this.selectedView))return e;return null}compareObjects(e,t){return JSON.stringify(e)===JSON.stringify(t)}verifyValidOption(){let e=this.getInputValue(),t=this.getOptionFromLabel(e,this.comboOptionsList);if(this.service||this.updateComboList([...this.cacheStaticOptions]),t&&t[this.dynamicValue]!==this.selectedValue)this.updateSelectedValue(t),this.previousSearchValue=t[this.dynamicLabel];else if(this.selectedValue&&this.selectedOption&&this.selectedOption[this.dynamicLabel]!==e){this.updateSelectedValueWithOldOption(),this.previousSearchValue=this.selectedOption[this.dynamicLabel];return}else if(e&&!t){let i=!!(this.selectedOption&&this.selectedOption[this.dynamicLabel]!==e);this.updateSelectedValue(null,i||this.changeOnEnter),this.previousSearchValue="";return}}writeValue(e){if(e=this.getValueWrite(e),this.fromWriteValue=!0,ct(e)&&!this.service&&this.comboOptionsList&&this.comboOptionsList.length){let t=this.getOptionFromValue(e,this.comboOptionsList);this.updateSelectedValue(t),this.comboOptionsList=this.comboOptionsList.map(i=>this.isEqual(i[this.dynamicValue],e)?He(D({},i),{selected:!0}):i),this.updateComboList(),this.removeInitialFilter=!1;return}if(e&&this.service)return this.getObjectByValue(e);this.updateSelectedValue(null),this.updateComboList(),this.updateHasNext()}setDisabledState(e){this.disabled=e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.validatorChange=e}validate(e){if(!this.hasValidatorRequired&&this.fieldErrorMessage&&e.hasValidator(ke.required)&&(this.hasValidatorRequired=!0),pe(this.required||this.hasValidatorRequired,this.disabled,e.value))return this.changeDetector.markForCheck(),{required:{valid:!1}}}clear(e){this.callModelChange(e),this.updateSelectedValue(null),this.updateComboList(),this.initInputObservable(),this.updateHasNext(),(this.service||this.filterService)&&this.keyupSubscribe.unsubscribe()}configAfterSetFilterService(e){e?(this.comboOptionsList=[],this.unsubscribeKeyupObservable(),this.onInitService()):(this.service=void 0,this.comboOptionsList=this.cacheStaticOptions),this.visibleOptions=[],this.isFirstFilter=!0}unsubscribeKeyupObservable(){this.keyupSubscribe&&this.keyupSubscribe.unsubscribe()}validateModel(e){this.validatorChange&&this.validatorChange(e)}comboListDefinitions(){this.comboOptionsList=this.options.length>0?this.listingComboOptions(this.options):this.options,this.cacheStaticOptions=this.comboOptionsList,this.updateComboList()}checkIfService(e){if((this.service||this.filterService)&&e==="label")return on;if((this.service||this.filterService)&&e==="value")return nn;if(!this.service&&e==="label")return this.fieldLabel;if(!this.service&&e==="value")return this.fieldValue}compareOptions(e){return function(t,i){let o=t[e].toString().toLowerCase(),a=i[e].toString().toLowerCase();return o<a?-1:o>a?1:0}}getValueUpdate(e,t){let{[this.dynamicValue]:i,[this.dynamicLabel]:o}=t||{};return this.controlValueWithLabel&&i?{value:i,label:o}:e}getValueWrite(e){return this.controlValueWithLabel&&e?.value?e?.value:e}hasDuplicatedOption(e,t,i){return i?i.some(o=>o[this.dynamicLabel]===t):e.some(o=>o[this.dynamicValue]===t)}listingComboOptions(e){let t=e.concat(),i=this.verifyComboOptions(t);return this.sortOptions(i),this.isOptionGroupList&&i.length>0?this.verifyComboOptionsGroup(i):i}sortOptions(e){if(e.length>0&&this.sort)return e.sort(this.compareOptions(this.dynamicLabel))}validateValue(e,t=!1){let{options:i}=e;return this.isOptionGroupList?ct(e[this.dynamicLabel])&&i&&i.length>0||t===!0&&ct(e[this.dynamicValue]):ct(e[this.dynamicValue])&&!i}verifyComboOptions(e,t=!1,i){return e.reduce((o,a)=>(!this.verifyIfHasLabel(a)||this.hasDuplicatedOption(o,a[this.dynamicValue]||a[this.dynamicLabel],i)||!this.validateValue(a,t)||o.push(a),o),[])}verifyComboOptionsGroup(e){return e.reduce((t,i)=>{let{options:o}=i,a=this.verifyComboOptions(o,!0,t);return a.length>0&&(this.sortOptions(a),t.push({label:i[this.dynamicLabel],options:!0},...a)),t},[])}verifyIfHasLabel(e={}){let{options:t}=e;return this.isOptionGroupList&&t&&!e[this.dynamicLabel]||!e[this.dynamicLabel]&&!e[this.dynamicValue]||!this.isOptionGroupList&&t?!1:(e[this.dynamicLabel]||(e[this.dynamicLabel]=e[this.dynamicValue].toString()),!0)}updateInternalVariables(e){e?(this.selectedView=e,this.selectedOption=e):(this.selectedView=void 0,this.selectedOption=void 0)}updateModel(e){e!==this.selectedValue&&(this.fromWriteValue||this.callModelChange(this.getValueUpdate(e,this.selectedOption)),this.change.emit(this.emitObjectValue?this.selectedOption:e)),this.selectedValue=e,this.fromWriteValue=!1}updateSelectedValueWithOldOption(){let e=this.getOptionFromValue(this.selectedValue,this.comboOptionsList);if(e&&e[this.dynamicLabel])return this.updateSelectedValue(e)}updateHasNext(){this.service&&this.infiniteScroll&&(this.defaultService.hasNext=!0)}static \u0275fac=function(t){return new(t||n)(A(R),A(S))};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],autoFocus:[2,"p-auto-focus","autoFocus",_],label:[0,"p-label","label"],help:[0,"p-help","help"],name:"name",filterService:[0,"p-filter-service","filterService"],infiniteScroll:[0,"p-infinite-scroll","infiniteScroll"],infiniteScrollDistance:[0,"p-infinite-scroll-distance","infiniteScrollDistance"],icon:[0,"p-icon","icon"],optional:[0,"p-optional","optional"],clean:[2,"p-clean","clean",_],emitObjectValue:[2,"p-emit-object-value","emitObjectValue",_],disabledTabFilter:[2,"p-disabled-tab-filter","disabledTabFilter",_],removeInitialFilter:[0,"p-remove-initial-filter","removeInitialFilter"],fieldErrorMessage:[0,"p-field-error-message","fieldErrorMessage"],errorLimit:[0,"p-error-limit","errorLimit"],controlValueWithLabel:[2,"p-control-value-with-label","controlValueWithLabel",_],listboxControlPosition:[0,"p-listbox-control-position","listboxControlPosition"],placeholder:[0,"p-placeholder","placeholder"],debounceTime:[0,"p-debounce-time","debounceTime"],disabledInitFilter:[0,"p-disabled-init-filter","disabledInitFilter"],fieldValue:[0,"p-field-value","fieldValue"],fieldLabel:[0,"p-field-label","fieldLabel"],filterMinlength:[0,"p-filter-minlength","filterMinlength"],required:[0,"p-required","required"],showRequired:[0,"p-show-required","showRequired"],size:[0,"p-size","size"],changeOnEnter:[0,"p-change-on-enter","changeOnEnter"],disabled:[0,"p-disabled","disabled"],sort:[0,"p-sort","sort"],options:[0,"p-options","options"],filterMode:[0,"p-filter-mode","filterMode"],filterParams:[0,"p-filter-params","filterParams"],literals:[0,"p-literals","literals"],cache:[2,"p-cache","cache",_],appendBox:[2,"p-append-in-body","appendBox",_]},outputs:{blur:"p-blur",additionalHelp:"p-additional-help",change:"p-change",keydown:"p-keydown",ngModelChange:"ngModelChange",inputChange:"p-input-change"},features:[G]})}return n})();var Oi=(()=>{class n{http=g(Ee);fieldLabel="label";fieldValue="value";hasNext=!0;headers=new vt({"X-PO-No-Message":"true"});_url;messages=[];get url(){return this._url}getFilteredData(e,t){let i=this.prepareParams(e,t);return this.http.get(`${this.url}`,{responseType:"json",params:i,headers:this.headers}).pipe(qe(o=>this.hasNext=o.hasNext),we(o=>this.parseToArrayComboOption(o.items)))}getObjectByValue(e,t){let i=ki(t);return this.http.get(`${this.url}/${e}`,{params:i,headers:this.headers}).pipe(we(o=>this.parseToComboOption(o)))}configProperties(e,t,i){this._url=e,this.fieldLabel=t,this.fieldValue=i}scrollListener(e){return $e(e,"scroll").pipe(Ze(100))}prepareParams(e,t){let{page:i,pageSize:o,value:a}=e,d=ki(t);return i?He(D({},d),{page:i,pageSize:o,filter:a}):He(D({},d),{filter:a})}parseToArrayComboOption(e){if(e&&e.length>0){let t=e.map(i=>this.parseToComboOption(i));return this.displayMessages(),t}return[]}parseToComboOption(e){if(!e?.[this.fieldValue])return this.addMessage(e,this.fieldValue),{value:""};let t=e[this.fieldLabel],i=e[this.fieldValue];return{label:t,value:i}}addMessage(e,t){this.messages.push(`Cannot read property "${t}" of ${JSON.stringify(e)},
      see [p-field-value] property at https://po-ui.io/documentation/po-combo`)}displayMessages(){this.messages.length&&(this.messages.forEach(e=>console.error(e)),this.messages=[])}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var an=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(A(Yt))};static \u0275dir=O({type:n,selectors:[["","p-combo-option-template",""]],standalone:!1})}return n})();var Zr=["outerContainer"],ea=["containerElement"],ta=["contentElement"],ia=["iconArrow"],oa=["inp"],na=["poListbox"];function ra(n,l){if(n&1&&(h(0,"div",10),B(1,"po-icon",18),u()),n&2){let e=r();c(),T("po-field-icon-disabled",e.disabled)("po-field-icon-aa",e.size==="small"),m("p-icon",e.icon)}}function aa(n,l){if(n&1){let e=b();h(0,"po-clean",19),f("p-change-event",function(i){s(e);let o=r();return p(o.clear(i))})("click",function(i){return s(e),r().clear(null),p(i.preventDefault())})("keydown.enter",function(i){return s(e),r().clearAndFocus(),p(i.preventDefault())})("keydown.tab",function(i){s(e);let o=r();return p(o.handleCleanKeyboardTab(i))}),u()}if(n&2){let e=r();T("po-combo-clean-aa",e.size==="small"),m("p-element-ref",e.inputEl)("p-size",e.size),z("aria-label",e.literals.clean)}}function la(n,l){n&1&&_e(0)}function sa(n,l){if(n&1&&y(0,la,1,0,"ng-container",20),n&2){r(2);let e=K(19);m("ngTemplateOutlet",e)}}function pa(n,l){if(n&1&&y(0,sa,1,1,"ng-template",16),n&2){r();let e=K(5);m("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayDisableClose",!0)}}function da(n,l){n&1&&_e(0)}function ca(n,l){if(n&1&&y(0,da,1,0,"ng-container",20),n&2){r();let e=K(19);m("ngTemplateOutlet",e)}}function ua(n,l){if(n&1){let e=b();h(0,"div",21,5)(2,"po-listbox",22,6),f("p-selectcombo-item",function(i){s(e);let o=r();return p(o.onOptionClick(i,i.event))})("p-update-infinite-scroll",function(){s(e);let i=r();return p(i.showMoreInfiniteScroll())})("p-close",function(){s(e);let i=r();return p(i.onCloseCombo())})("keydown",function(i){s(e);let o=r();return p(o.onListboxKeyDown(i))}),u()()}if(n&2){let e=r();m("hidden",!e.comboOpen&&!e.isServerSearching),c(2),m("p-items",e.visibleOptions)("p-field-value",e.dynamicValue)("p-field-label",e.dynamicLabel)("p-template",e.comboOptionTemplate)("p-search-value",e.getInputValue())("p-infinite-loading",e.infiniteLoading)("p-infinite-scroll",e.infiniteScroll)("p-filtering",e.isFiltering)("p-cache",e.cache)("p-filter-mode",e.filterMode)("p-visible",e.comboOpen)("p-is-searching",e.isServerSearching)("p-should-mark-letter",e.shouldMarkLetters)("p-compare-cache",e.compareObjects(e.cacheOptions,e.visibleOptions))("p-combo-service",e.service)("p-infinite-scroll-distance",e.infiniteScrollDistance)("p-size",e.size)("p-container-width",e.containerWidth)}}var ha=8,ln=(()=>{class n extends rn{element=g(P);differs=g(tt);defaultService=g(Oi);renderer=g(ve);controlPosition=g(Ae);comboOptionTemplate;outerContainer;containerElement;contentElement;iconElement;inputEl;poListbox;comboIcon="ICON_ARROW_DOWN";comboOpen=!1;differ;id=`po-combo[${se()}]`;isProcessingValueByTab=!1;scrollTop=0;shouldMarkLetters=!0;infiniteLoading=!1;containerWidth;_isServerSearching=!1;lastKey;clickoutListener;eventResizeListener;filterSubscription;getSubscription;subscriptionScrollEvent;constructor(){let e=g(S),t=g(R);super(t,e);let i=this.differs;this.changeDetector=e,this.differ=i.find([]).create(null)}set isServerSearching(e){e?(this._isServerSearching=e,this.changeDetector.detectChanges(),this.setContainerPosition(),this.initializeListeners()):this._isServerSearching=e}get isServerSearching(){return this._isServerSearching}ngAfterViewInit(){this.autoFocus&&this.focus(),this.setContainerWidth()}ngOnChanges(e){e.debounceTime&&(this.unsubscribeKeyupObservable(),this.initInputObservable()),e.filterService&&this.configAfterSetFilterService(this.filterService)}ngOnDestroy(){this.removeListeners(),this.filterSubscription&&this.filterSubscription.unsubscribe(),this.getSubscription&&this.getSubscription.unsubscribe(),this.infiniteScroll&&this.subscriptionScrollEvent?.unsubscribe()}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}focus(){this.disabled||this.inputEl.nativeElement.focus()}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}onBlur(e){this.onModelTouched?.(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp(),e.type==="blur"&&this.blur.emit()}onKeyDown(e){let t=e?.keyCode,i=e?.target?.value,o=document.activeElement===this.inputEl.nativeElement;if(e.shiftKey&&t===oe.tab){this.controlComboVisibility(!1);return}if(this.service&&t===oe.tab&&i&&!this.disabledTabFilter)return this.controlComboVisibility(!1),this.getObjectByValue(i);if(t===oe.arrowDown&&(e.preventDefault(),this.visibleOptions.length&&this.focusItem(),this.comboOpen?this.controlComboVisibility(!0):this.toggleComboVisibility(),this.isFiltering=this.changeOnEnter?this.isFiltering:!1),t===oe.enter&&this.selectedView&&this.comboOpen){let a=this.selectedView.value!==this.selectedValue||i!==this.selectedView.label;this.controlComboVisibility(!1),this.updateSelectedValue(this.selectedView,a),this.isFiltering=!1,this.service||this.updateComboList([...this.cacheStaticOptions]);return}if(t===oe.enter&&(e.preventDefault(),this.toggleComboVisibility()),t===oe.esc)if(t===this.lastKey){this.lastKey="",this.selectedValue&&this.clearAndFocus();return}else this.onCloseCombo();t===oe.tab&&this.shouldHandleTab(e)&&!this.isCleanVisible()&&(e.preventDefault(),this.focusItem()),this.lastKey=e.keyCode,o&&this.keydown.emit(e)}onKeyUp(e){let t=e.keyCode||e.which,i=e.target.value;if(t!==oe.arrowUp&&t!==oe.arrowDown&&t!==oe.enter&&t!==oe.esc&&t!==oe.tab){if(i)!this.service&&this.previousSearchValue!==i&&(this.shouldMarkLetters=!0,this.isFiltering=!0,this.searchForLabel(i,this.comboOptionsList,this.filterMode),this.inputChange.emit(i));else{let a=this.service&&this.selectedValue&&this.selectedOption.label===this.previousSearchValue;this.updateSelectedValue(null),this.service?a&&this.updateComboList([...this.cacheOptions]):this.updateComboList(),this.isFiltering=!1}this.previousSearchValue!==i&&(this.changeDetector.detectChanges(),this.controlComboVisibility(!0))}this.previousSearchValue=i}initInputObservable(){if(this.service){let e=$e(this.inputEl.nativeElement,"keyup").pipe(qi(t=>this.isValidCharacterToSearch(t.keyCode)),we(t=>t.currentTarget.value),Gt(),qe(()=>{this.shouldMarkLetters=!1}),Ze(this.debounceTime));this.keyupSubscribe=e.subscribe(t=>{(t.length>=this.filterMinlength||!t)&&this.controlApplyFilter(t)})}}controlApplyFilter(e,t){(!this.isProcessingValueByTab&&(!this.selectedOption||e!==this.selectedOption[this.dynamicLabel])||!this.cache)&&(this.defaultService.hasNext=!0,this.page=this.setPage(),this.options=[],this.applyFilter(e,!0,t)),this.isProcessingValueByTab=!1}applyFilter(e,t=!1,i){if(this.removeInitialFilter&&(this.defaultService.hasNext=!0),this.defaultService.hasNext){this.controlComboVisibility(!1,t),this.isServerSearching=!0;let o=this.infiniteScroll?{property:this.fieldLabel,value:e,page:this.page,pageSize:this.pageSize}:{property:this.fieldLabel,value:e};this.filterSubscription=this.service.getFilteredData(o,this.filterParams).subscribe(a=>{this.setOptionsByApplyFilter(e,a,t),i&&this.focusItem()},a=>this.onErrorFilteredData())}}setOptionsByApplyFilter(e,t,i=!1){this.shouldMarkLetters=!0,this.isServerSearching=!1,this.infiniteLoading=!1,this.options=this.prepareOptions(t),this.searchForLabel(e,t,this.filterMode),this.changeDetector.detectChanges(),this.controlComboVisibility(!0,i),this.isFirstFilter&&(this.isFirstFilter=!this.isFirstFilter,this.updateCacheOptions())}getErrorPattern(){return this.fieldErrorMessage&&this.hasInvalidClass()?this.fieldErrorMessage:""}hasInvalidClass(){return this.element.nativeElement.classList.contains("ng-invalid")&&this.element.nativeElement.classList.contains("ng-dirty")}getObjectByValue(e){this.selectedValue!==e&&this.selectedOption?.[this.dynamicLabel]!==e&&(this.isProcessingValueByTab=!0,this.getSubscription=this.service.getObjectByValue(e,this.filterParams).subscribe(t=>this.updateOptionByFilteredValue(t),t=>this.onErrorGetObjectByValue()))}updateOptionByFilteredValue(e){e?(this.options=[e],this.onOptionClick(e)):this.updateSelectedValue(null),setTimeout(()=>{this.isProcessingValueByTab=!1},this.debounceTime)}setShouldApplyFocus(e){this.shouldApplyFocus=e}toggleComboVisibility(e){this.disabled||(this.setShouldApplyFocus(!0),this.service&&!this.disabledInitFilter&&this.applyFilterInFirstClick(),this.controlComboVisibility(!this.comboOpen,!1,e))}applyFilterInFirstClick(){let e=this.isFirstFilter&&!this.selectedValue;if(this.removeInitialFilter||e){this.options=[];let t=this.setScrollingControl();this.applyFilter("",t)}}controlComboVisibility(e,t=!1,i){e?this.open(t,i):this.close(t)}onCloseCombo(){this.controlComboVisibility(!1),this.inputEl.nativeElement.focus()}onOptionClick(e,t){let i=this.getInputValue(),o=e[this.dynamicValue]!==this.selectedValue||!!(this.selectedView&&i!==this.selectedView[this.dynamicLabel]);t&&t.stopPropagation(),this.updateSelectedValue(e,o),this.controlComboVisibility(!1),this.service||this.updateComboList([...this.cacheStaticOptions]),this.previousSearchValue=this.selectedView[this.dynamicLabel],this.shouldApplyFocus&&this.inputEl.nativeElement.focus()}calculateScrollTop(e,t){return!e.length||t<=1?0:e[0].offsetTop}cleanListbox(){this.updateSelectedValue(null),this.options.map(e=>e.selected=!1)}getInputValue(){return this.inputEl.nativeElement.value}setInputValue(e){this.inputEl.nativeElement.value=e,e===null&&this.cleanListbox()}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}wasClickedOnToggle(e){if(this.comboOpen&&!this.inputEl.nativeElement.contains(e.target)&&!this.iconElement.nativeElement.contains(e.target)&&(!this.contentElement||!this.contentElement.nativeElement.contains(e.target)))this.controlComboVisibility(!1),this.verifyValidOption(),this.selectedView=this.changeOnEnter&&!this.selectedValue?void 0:this.selectedView;else if(this.service&&!this.getInputValue()&&!this.isFirstFilter){let t=this.setScrollingControl();this.applyFilter("",t)}}isValidCharacterToSearch(e){return e!==9&&e!==13&&e!==16&&e!==17&&e!==18&&e!==20&&e!==27&&e!==37&&e!==38&&e!==39&&e!==40&&e!==93}searchOnEnterOrArrow(e,t){(e.key==="ArrowDown"||e.key==="Enter")&&this.service&&!this.selectedView&&t.length>=this.filterMinlength&&this.controlApplyFilter(t,e.key==="ArrowDown")}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}showMoreInfiniteScroll(){this.defaultService.hasNext&&(this.infiniteLoading=!0),this.page++,this.applyFilter("",!0)}clearAndFocus(){this.clear(null),this.inputEl.nativeElement.focus()}updateCacheOptions(){this.cacheOptions=this.comboOptionsList.map(e=>e.value===this.selectedValue?He(D({},e),{selected:!0}):e)}isCleanVisible(){return this.clean&&!this.disabled&&!!this.inputEl.nativeElement.value}handleCleanKeyboardTab(e){this.shouldHandleTab(e)&&(e.preventDefault(),this.focusItem())}onListboxKeyDown(e){let t=e?.keyCode;t===oe.tab&&e.shiftKey&&(this.focusInput(),e.preventDefault()),t===oe.esc&&e.stopPropagation()}adjustContainerPosition(){this.controlPosition.adjustPosition(this.listboxControlPosition)}close(e){this.comboOpen=!1,e||(this.getInputValue()||(this.page=this.setPage(),this.defaultService.hasNext=!0),this.infiniteScroll&&(this.options=this.setOptions())),this.changeDetector.detectChanges(),this.comboIcon="ICON_ARROW_DOWN",this.removeListeners(),this.isFiltering=!1,this.renderer.removeClass(this.inputEl.nativeElement,"po-combo-input-focus")}initializeListeners(){this.removeListeners(),this.clickoutListener=this.renderer.listen("document","click",e=>{this.wasClickedOnToggle(e)}),this.eventResizeListener=this.renderer.listen("window","resize",()=>{setTimeout(()=>this.adjustContainerPosition(),250)}),window.addEventListener("scroll",this.onScroll,!0)}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}onErrorGetObjectByValue(){this.updateOptionByFilteredValue(null)}onScroll=()=>{this.adjustContainerPosition()};onErrorFilteredData(){this.isServerSearching=!1,this.updateComboList([]),this.controlComboVisibility(!0)}open(e,t){this.comboOpen=!0,!e&&this.infiniteScroll&&(this.getInputValue()||(this.page=1),this.options=this.setOptions()),this.changeDetector.detectChanges(),this.comboIcon="ICON_ARROW_UP",this.initializeListeners(),t?this.renderer.addClass(this.inputEl.nativeElement,"po-combo-input-focus"):this.inputEl.nativeElement.focus(),this.setContainerPosition(),this.comboOpen&&this.setContainerWidth()}removeListeners(){this.clickoutListener&&this.clickoutListener(),this.eventResizeListener&&this.eventResizeListener(),window.removeEventListener("scroll",this.onScroll,!0)}setContainerPosition(){this.controlPosition?.setElements(this.containerElement?.nativeElement,ha,this.inputEl,["top","bottom"],!0),this.adjustContainerPosition()}setContainerWidth(){this.outerContainer&&(this.containerWidth=this.outerContainer.nativeElement.offsetWidth)}setOptions(){return this.getInputValue()?this.options:[]}prepareOptions(e){return this.infiniteScroll?[...this.options,...e]:e}setPage(){return this.infiniteScroll?1:void 0}setScrollingControl(){return!!this.infiniteScroll}focusItem(){this.poListbox?.listboxItemList?.nativeElement.focus(),setTimeout(()=>{let e=null;if(this.selectedValue&&(e=document.querySelector('.po-listbox-item[aria-selected="true"]')),!e){let t=document.querySelectorAll(".po-listbox-item");e=t.length>0?t[0]:null}e&&e.focus()})}focusInput(e){e?.preventDefault(),this.inputEl.nativeElement.focus()}shouldHandleTab(e){return this.comboOpen&&this.appendBox&&!e.shiftKey}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-combo"]],contentQueries:function(t,i,o){if(t&1&&ei(o,an,7),t&2){let a;F(a=V())&&(i.comboOptionTemplate=a.first)}},viewQuery:function(t,i){if(t&1&&(x(Zr,5,P),x(ea,5,P),x(ta,5,P),x(ia,7,P),x(oa,7,P),x(na,5)),t&2){let o;F(o=V())&&(i.outerContainer=o.first),F(o=V())&&(i.containerElement=o.first),F(o=V())&&(i.contentElement=o.first),F(o=V())&&(i.iconElement=o.first),F(o=V())&&(i.inputEl=o.first),F(o=V())&&(i.poListbox=o.first)}},standalone:!1,features:[W([Oi,Ae,{provide:Q,useExisting:q(()=>n),multi:!0},{provide:$,useExisting:q(()=>n),multi:!0}]),L,me],decls:20,vars:43,consts:[["outerContainer",""],["searchContainer","","trigger","cdkOverlayOrigin"],["inp",""],["iconArrow",""],["dropdownListbox",""],["containerElement",""],["poListbox","","contentElement",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],["cdkOverlayOrigin","",1,"po-field-container-content","po-combo-container-content"],[1,"po-combo-container-wrapper"],[1,"po-field-icon-container-left"],["autocomplete","off","type","text",1,"po-combo-input",3,"click","keyup","blur","keydown","ngClass","disabled","id","placeholder","required"],[1,"po-field-icon-container-right"],["tabindex","0","role","button",1,"po-combo-clean","po-icon-input",3,"po-combo-clean-aa","p-element-ref","p-size"],[1,"po-combo-arrow","po-field-icon",3,"click"],[3,"p-icon"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayDisableClose"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"],[1,"po-field-icon","po-icon-input",3,"p-icon"],["tabindex","0","role","button",1,"po-combo-clean","po-icon-input",3,"p-change-event","click","keydown.enter","keydown.tab","p-element-ref","p-size"],[4,"ngTemplateOutlet"],[1,"po-combo-container",3,"hidden"],["p-type","option",3,"p-selectcombo-item","p-update-infinite-scroll","p-close","keydown","p-items","p-field-value","p-field-label","p-template","p-search-value","p-infinite-loading","p-infinite-scroll","p-filtering","p-cache","p-filter-mode","p-visible","p-is-searching","p-should-mark-letter","p-compare-cache","p-combo-service","p-infinite-scroll-distance","p-size","p-container-width"]],template:function(t,i){if(t&1){let o=b();h(0,"div",null,0)(2,"po-field-container",7)(3,"div",8,1)(6,"div",9),y(7,ra,2,5,"div",10),h(8,"input",11,2),f("click",function(){return s(o),p(i.toggleComboVisibility())})("keyup",function(d){return s(o),p(i.onKeyUp(d))})("blur",function(d){return s(o),p(i.onBlur(d))})("keyup",function(d){return s(o),p(i.searchOnEnterOrArrow(d,d.target.value))})("keydown",function(d){return s(o),p(i.onKeyDown(d))}),u(),h(10,"div",12),y(11,aa,1,5,"po-clean",13),h(12,"div",14,3),f("click",function(){return s(o),p(i.toggleComboVisibility(!0))}),B(14,"po-icon",15),u()()()(),y(15,pa,1,3,null,16)(16,ca,1,1,"ng-container"),h(17,"po-field-container-bottom",17),f("p-additional-help",function(){return s(o),p(i.emitAdditionalHelp())}),u()(),y(18,ua,5,19,"ng-template",null,4,ze),u()}if(t&2){let o=K(9);c(2),m("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),c(5),C(i.icon?7:-1),c(),T("po-combo-input-aa",i.size==="small")("po-input-icon-left",i.icon)("po-input-icon-left-aa",i.icon&&i.size==="small"),m("ngClass",i.clean&&o.value?i.size==="small"?"po-input-double-icon-right-aa":"po-input-double-icon-right":i.size==="small"?"po-input-icon-right-aa":"po-input-icon-right")("disabled",i.disabled)("id",i.id)("placeholder",i.disabled?"":i.placeholder)("required",i.required),z("name",i.name)("data-append-in-body",i.appendBox),c(3),C(i.isCleanVisible()?11:-1),c(),T("po-field-icon-disabled",i.disabled)("po-field-icon-disabled-aa",i.disabled&&i.size==="small"),c(2),T("po-field-icon",!i.disabled)("po-field-icon-aa",i.size==="small")("po-combo-default-border",!i.disabled&&o.value)("po-combo-background-arrow-up",!i.disabled&&i.comboOpen),m("p-icon",i.comboOpen?"ICON_ARROW_UP po-icon-input":"ICON_ARROW_DOWN po-icon-input"),c(),C(i.appendBox?15:16),c(2),m("p-additional-help-tooltip",i.getAdditionalHelpTooltip())("p-append-in-body",i.appendBox)("p-help",i.help)("p-disabled",i.disabled)("p-error-pattern",i.getErrorPattern())("p-error-limit",i.errorLimit)("p-show-additional-help",i.displayAdditionalHelp)("p-show-additional-help-icon",i.showAdditionalHelpIcon())}},dependencies:[le,Te,wt,yt,ye,ee,J,X,ai],encapsulation:2,changeDetection:0})}return n})();var gi=(()=>{class n{cd;additionalHelpEventTrigger;additionalHelpTooltip;appendBox=!1;autoFocus=!1;icon;emitAllChanges=!1;label;help;name;errorAsyncProperties;errorPattern="";errorLimit=!1;optional;showErrorMessageRequired=!1;upperCase=!1;_maskNoLengthValidation=!1;set maskNoLengthValidation(e){this._maskNoLengthValidation=_(e),this.validateModel()}get maskNoLengthValidation(){return this._maskNoLengthValidation}additionalHelp=new v;blur=new v;enter=new v;change=new v;changeModel=new v;keydown=new v;displayAdditionalHelp=!1;type;onChangePropagate=null;objMask;modelLastUpdate;isInvalid;hasValidatorRequired=!1;subscription=new de;onTouched=null;passedWriteValue=!1;validatorChange;_maxlength;_minlength;_noAutocomplete=!1;_placeholder="";_size=void 0;set noAutocomplete(e){this._noAutocomplete=_(e)}get noAutocomplete(){return this._noAutocomplete}set placeholder(e){this._placeholder=e||""}get placeholder(){return this._placeholder}disabled=!1;set setDisabled(e){this.disabled=e===""?!0:_(e),this.validateModel()}readonly=!1;set setReadonly(e){this.readonly=e===""?!0:_(e)}required=!1;set setRequired(e){this.required=e===""?!0:_(e),this.validateModel()}set size(e){this._size=Z(e,N)}get size(){return this._size??Y(N)}showRequired=!1;clean=!1;set setClean(e){this.clean=e===""?!0:_(e)}pattern;set setPattern(e){this.pattern=e,this.validateModel()}set maxlength(e){isNaN(parseInt(e,10))?e||(this._maxlength=void 0,this.validateModel()):(this._maxlength=parseInt(e,10),this.validateModel())}get maxlength(){return this._maxlength}set minlength(e){isNaN(parseInt(e,10))?e||(this._minlength=void 0,this.validateModel()):(this._minlength=parseInt(e,10),this.validateModel())}get minlength(){return this._minlength}mask="";set setMask(e){this.mask=e,this.objMask=new Qe(this.mask,this.maskFormatModel)}maskFormatModel=!1;set setMaskFormatModel(e){this.maskFormatModel=e===""?!0:_(e),this.objMask instanceof Qe&&(this.objMask.formatModel=this.maskFormatModel,this.validateModel())}constructor(e){this.cd=e,this.objMask=new Qe(this.mask,this.maskFormatModel)}ngOnDestroy(){this.subscription.unsubscribe()}callOnChange(e){this.updateModel(e),this.controlChangeModelEmitter(e)}callUpdateModelWithTimeout(e){setTimeout(()=>this.updateModel(e))}controlChangeModelEmitter(e){(this.modelLastUpdate!==e||this.emitAllChanges)&&(this.changeModel.emit(e),this.modelLastUpdate=e)}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}setDisabledState(e){this.disabled=e,this.cd?.markForCheck()}registerOnChange(e){this.onChangePropagate=e}registerOnTouched(e){this.onTouched=e}registerOnValidatorChange(e){this.validatorChange=e}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}updateModel(e){this.onChangePropagate&&this.onChangePropagate(e)}validate(e){return this.subscription?.unsubscribe(),!this.hasValidatorRequired&&this.showErrorMessageRequired&&e.hasValidator(ke.required)&&(this.hasValidatorRequired=!0),pe(this.required,this.disabled,this.getScreenValue())?(this.isInvalid=!0,this.cd?.markForCheck(),{required:{valid:!1}}):ht(this.maxlength,this.getScreenValue(),this.maskFormatModel?!1:this.maskNoLengthValidation)?(this.isInvalid=!0,this.cd?.markForCheck(),{maxlength:{valid:!1}}):di(this.minlength,this.getScreenValue(),this.maskFormatModel?!1:this.maskNoLengthValidation)?(this.isInvalid=!0,this.cd?.markForCheck(),{minlength:{valid:!1}}):Mo(this.pattern,e.value)?(this.isInvalid=!0,this.cd?.markForCheck(),this.validatePatternOnWriteValue(e.value),{pattern:{valid:!1}}):(this.errorPattern!==""&&(this.subscription=e.statusChanges.pipe(be(t=>(t==="INVALID"&&(this.isInvalid=!0,this.cd?.markForCheck()),[]))).subscribe()),this.isInvalid=!1,this.extraValidation(e))}writeValue(e){this.writeValueModel(e),this.cd?.markForCheck()}validateModel(){this.validatorChange&&this.validatorChange()}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}validatePatternOnWriteValue(e){e&&this.passedWriteValue&&(setTimeout(()=>{this.updateModel(e)}),this.passedWriteValue=!1)}static \u0275fac=function(t){return new(t||n)(A(S))};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],appendBox:[2,"p-append-in-body","appendBox",_],autoFocus:[2,"p-auto-focus","autoFocus",_],icon:[0,"p-icon","icon"],emitAllChanges:[2,"p-emit-all-changes","emitAllChanges",_],label:[0,"p-label","label"],help:[0,"p-help","help"],name:"name",errorAsyncProperties:[0,"p-error-async-properties","errorAsyncProperties"],errorPattern:[0,"p-error-pattern","errorPattern"],errorLimit:[0,"p-error-limit","errorLimit"],optional:[0,"p-optional","optional"],showErrorMessageRequired:[0,"p-required-field-error-message","showErrorMessageRequired"],upperCase:[2,"p-upper-case","upperCase",_],maskNoLengthValidation:[0,"p-mask-no-length-validation","maskNoLengthValidation"],noAutocomplete:[0,"p-no-autocomplete","noAutocomplete"],placeholder:[0,"p-placeholder","placeholder"],setDisabled:[0,"p-disabled","setDisabled"],setReadonly:[0,"p-readonly","setReadonly"],setRequired:[0,"p-required","setRequired"],size:[0,"p-size","size"],showRequired:[0,"p-show-required","showRequired"],setClean:[0,"p-clean","setClean"],setPattern:[0,"p-pattern","setPattern"],maxlength:[0,"p-maxlength","maxlength"],minlength:[0,"p-minlength","minlength"],setMask:[0,"p-mask","setMask"],setMaskFormatModel:[0,"p-mask-format-model","setMaskFormatModel"]},outputs:{additionalHelp:"p-additional-help",blur:"p-blur",enter:"p-enter",change:"p-change",changeModel:"p-change-model",keydown:"p-keydown"},features:[G]})}return n})();var fa=["inp"],ga=(n,l,e,t)=>({"po-input-icon-left":n,"po-input-icon-left-aa":l,"po-input-icon-right":e,"po-input-icon-right-aa":t});function _a(n,l){if(n&1&&(h(0,"div",3),B(1,"po-icon",8),u()),n&2){let e=r();c(),T("po-field-icon-disabled",e.disabled)("po-field-icon-aa",e.size==="small"),m("p-icon",e.icon)}}function Ca(n,l){if(n&1){let e=b();h(0,"po-clean",9),f("p-change-event",function(i){s(e);let o=r();return p(o.clear(i))}),u()}if(n&2){let e=r();m("p-element-ref",e.inputEl)("p-size",e.size)}}function ba(n,l){if(n&1){let e=b();h(0,"po-field-container-bottom",10),f("p-additional-help",function(){s(e);let i=r();return p(i.emitAdditionalHelp())}),u()}if(n&2){let e=r();m("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-append-in-body",e.appendBox)("p-help",e.help)("p-disabled",e.disabled)("p-error-limit",e.errorLimit)("p-error-pattern",e.getErrorPatternMessage())("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}var Ii=2,_i=13,va=15,qt=16,sn=(()=>{class n extends gi{el=g(P);poLanguageService=g(R);inputEl;id=`po-decimal[${se()}]`;_decimalsLength=Ii;_thousandMaxlength=_i;_locale;_min;_max;decimalSeparator;fireChange=!1;isKeyboardAndroid=!1;minusSign="-";oldDotsLength=null;thousandSeparator;valueBeforeChange;subscriptionValidator=new de;regex={thousand:new RegExp("\\,","g"),decimal:new RegExp("\\.","g")};get autocomplete(){return this.noAutocomplete?"off":"on"}set decimalsLength(e){let t=Me(e);t=this.isValueBetweenAllowed(t,va)?t:Ii,this.isGreaterThanTotalLengthLimit(t,this.thousandMaxlength)&&(this.thousandMaxlength=qt-t),this._decimalsLength=t}get decimalsLength(){return this._decimalsLength}set thousandMaxlength(e){let t=Me(e);this.decimalsLength>Ii&&!t&&(t=qt-this.decimalsLength),t=this.isValueBetweenAllowed(t,_i)?t:_i,this.isGreaterThanTotalLengthLimit(this.decimalsLength,t)&&(this.decimalsLength=qt-t),this._thousandMaxlength=t}get thousandMaxlength(){return this._thousandMaxlength}set locale(e){this._locale=e,this.setNumbersSeparators()}set min(e){isNaN(e)?e||(this._min=void 0,this.validateModel()):(this._min=e,this.validateModel())}get min(){return this._min}set max(e){isNaN(e)?e||(this._max=void 0,this.validateModel()):(this._max=e,this.validateModel())}get max(){return this._max}constructor(){let e=g(S);super(e),this.isKeyboardAndroid=!!navigator.userAgent.match(/Android/i)}ngOnInit(){this.setNumbersSeparators()}setNumbersSeparators(){let{decimalSeparator:e,thousandSeparator:t}=this.poLanguageService.getNumberSeparators(this._locale);this.decimalSeparator=e,this.thousandSeparator=t,this.regex={thousand:new RegExp("\\"+t,"g"),decimal:new RegExp("\\"+e,"g")}}ngAfterViewInit(){this.verifyAutoFocus()}ngOnDestroy(){this.subscriptionValidator?.unsubscribe()}clear(e){this.callOnChange(e),this.controlChangeEmitter(),this.errorAsyncProperties?.triggerMode==="changeModel"&&this.verifyErrorAsync(e)}extraValidation(e){let t=e.value,i=Math.trunc(t);return this.errorPattern=this.errorPattern!=="Valor Inv\xE1lido"?this.errorPattern:"",ci(this.min,t)?{min:{valid:!1}}:ui(this.max,t)?{max:{valid:!1}}:ht(this.thousandMaxlength,i)&&this.thousandMaxlength<_i||ht(qt,t)?{max:{valid:!1}}:null}focus(){this.disabled||this.inputEl.nativeElement.focus()}getScreenValue(){return this.inputEl?this.inputEl.nativeElement.value:""}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&(this.getScreenValue()!==""||this.showErrorMessageRequired&&(this.required||this.hasValidatorRequired))}hasLetters(e=""){return e.match(/[a-zA-Z:;+=_`^~"'?!@#$%&*()><{}\[\]/\\|]+/)}hasNotSpace(e=""){return e.match(/^\S*$/)}isValidNumber(e){let t=String.fromCharCode(e.which),i=e.which!==8&&e.which!==0;return!this.hasLetters(t)&&this.hasNotSpace(t)&&i}onBlur(e){this.onTouched?.(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp();let t=e.target.value;if(t){if(this.hasLetters(t)||this.containsMoreThanOneDecimalSeparator(t)){this.setViewValue(""),this.callOnChange(void 0);return}let i=this.formatValueWithoutThousandSeparator(t),o=this.formatToViewValue(i);if(this.setViewValue(o),!o){this.callOnChange(void 0);return}}this.blur.emit(),this.controlChangeEmitter()}onFocus(e){this.valueBeforeChange=this.getScreenValue(),this.enter.emit()}onInput(e){let t=e.target.selectionStart,i=e.target.selectionEnd,o;this.isKeyboardAndroid&&this.onInputKeyboardAndroid(e),o=this.formatValueWithoutThousandSeparator(e.target.value),o=this.addZeroBefore(o);let a=this.formatMask(o);a&&(this.setViewValue(a),this.setCursorInput(e,t,i)),this.callOnChange(this.formatToModelValue(o)),this.errorAsyncProperties?.triggerMode==="changeModel"&&this.verifyErrorAsync(this.formatToModelValue(o))}onInputKeyboardAndroid(e){let t=e.target.value,i=e.target.selectionStart,o=this.hasLetters(t);if(o)return this.setViewValue(t.replace(o[0],"")),e.preventDefault();{let a=i-1,d=t.charAt(a);this.setPositionValue(e),this.isValidKey(e,d)&&this.setViewValue(t)}}onKeyDown(e){document.activeElement===this.inputEl.nativeElement&&this.keydown.emit(e)}onKeyPress(e){this.isValidKey(e)}writeValueModel(e){let t;this.inputEl&&(e||e===0?(t=this.formatToViewValue(e),this.setViewValue(t)):this.setViewValue("")),t&&(this.change.emit(e),this.verifyErrorAsync(e))}getErrorPatternMessage(){return this.errorPattern!==""&&this.hasInvalidClass()?this.errorPattern:""}addZeroBefore(e){return e===this.decimalSeparator?`0${e}`:e}containsComma(e){return e.includes(this.decimalSeparator)}containsMoreThanOneDecimalSeparator(e=""){let t=e.match(this.regex.decimal);return!!(t&&t.length>1)}controlChangeEmitter(){let e=this.getScreenValue();e!==this.valueBeforeChange&&(this.fireChange=!0,setTimeout(()=>{this.change.emit(e);let t=this.errorAsyncProperties;(t?.triggerMode==="change"||!t?.triggerMode)&&this.verifyErrorAsync(e)},200))}formatMask(e){if(e.match(this.regex.decimal)){let t=new RegExp(`(\\d)(?=(\\d{3})+(?!\\d)${this.decimalSeparator})`,"g");return e.toString().replace(t,`$1${this.thousandSeparator}`)}return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${this.thousandSeparator}`)}formatToModelValue(e){let t=this.replaceCommaToDot(e),i=t?parseFloat(Number(t).toFixed(this.decimalsLength)):void 0;return i===0||i?i:void 0}formatToViewValue(e){e=this.replaceCommaToDot(e);let t=Number(e).toFixed(this.decimalsLength),i=this.getValueBeforeSeparator(t,"."),o=this.getValueAfterSeparator(t,"."),a=this.formatMask(i);return a==="NaN"?"":this.decimalsLength===0?a:`${a}${this.decimalSeparator}${o}`}formatValueWithoutThousandSeparator(e=""){return e.toString().replace(this.regex.thousand,"")}getValueAfterSeparator(e="",t){return e.split(t)[1]||""}getValueBeforeSeparator(e="",t){return e.split(t)[0]||""}hasLessDot(e){if(e){let t=e.match(this.regex.thousand),i=t&&t.length;if(i<this.oldDotsLength)return this.oldDotsLength=i,!0}return e||(this.oldDotsLength=null),!1}hasMoreDot(e){if(e){let t=e.match(this.regex.thousand),i=t&&t.length;if(i>this.oldDotsLength)return this.oldDotsLength=i,!0}return e||(this.oldDotsLength=null),!1}hasMinusSignInvalidPosition(e){let t=e.key===this.minusSign,i=e.target.selectionStart;return t&&i!==0}isInvalidKey(e,t){let i=!this.isValidNumber(e);return this.verifyInsertComma(e)||this.verifyThousandLength(e)||this.verifyValueAfterComma(e)||this.verifyInsertMinusSign(e)||this.hasMinusSignInvalidPosition(e)||i||this.validateCursorPositionBeforeSeparator(e)||this.verifyDecimalLengthIsZeroAndKeyPressedIsComma(t)}isGreaterThanTotalLengthLimit(e,t){return e+t>qt}isKeyDecimalSeparator(e){return e.key===this.decimalSeparator||e.char===this.decimalSeparator}isPositionAfterDecimalSeparator(e,t){let i=t&&t.indexOf(this.decimalSeparator);if(i&&this.decimalsLength>0)return e>i}isSelectionStartDifferentSelectionEnd(e){return e.selectionStart!==e.selectionEnd}isValidKey(e,t){let i=e.which||e.keyCode;if(!((e.which===8||e.which===0)&&!this.isKeyboardAndroid))return t&&(e.key=t),this.isInvalidKey(e,i)?(e.preventDefault(),!1):!0}isValueBetweenAllowed(e,t){return e>=0&&e<=t}verifyDecimalLengthIsZeroAndKeyPressedIsComma(e){return e===44&&this.decimalsLength===0}verifyAutoFocus(){this.autoFocus&&this.focus()}setInitialSelectionRange(e,t,i){return t===1&&i===1?e.setSelectionRange(t+1,i+1):e.setSelectionRange(t-1,i-1)}replaceAt(e,t,i){return e.substring(0,t)+i+e.substring(t+1)}replaceCommaToDot(e=""){return this.decimalSeparator===","&&(e=e.toString().replace(this.regex.decimal,".")),e}setCursorInput(e,t,i){let o=e.target,a=o.value;return this.hasMoreDot(a)||a==="0"+this.decimalSeparator?o.setSelectionRange(t+1,i+1):(this.hasLessDot(a)&&this.setInitialSelectionRange(o,t,i),o.setSelectionRange(t,i))}setPositionValue(e){let t=e.target.value,i=e.target.selectionStart-1;i>0&&e.key===this.minusSign&&(e.target.value=t.substring(0,i)+t.substr(i+1))}setViewValue(e){this.inputEl.nativeElement.value=e}validateCursorPositionBeforeSeparator(e){let t=e.target,i=this.formatValueWithoutThousandSeparator(t.value),o=this.getValueBeforeSeparator(t.value,this.decimalSeparator),a=this.getValueBeforeSeparator(i,this.decimalSeparator);return this.isSelectionStartDifferentSelectionEnd(t)?!1:t.selectionStart<=o.length&&a.length===this.thousandMaxlength&&!this.isKeyDecimalSeparator(e)}verifyErrorAsync(e){if(this.errorPattern!==""&&this.errorAsyncProperties?.errorAsync){let t=this.errorAsyncProperties.errorAsync(e);_t(t)&&(this.subscriptionValidator?.unsubscribe(),this.subscriptionValidator=t.pipe(be(i=>{let o=this.el.nativeElement;return i?(o.classList.add("ng-invalid"),o.classList.add("ng-dirty"),this.cd.detectChanges()):o.classList.contains("ng-invalid")&&o.classList.contains("ng-dirty")&&!this.isInvalid&&(o.classList.remove("ng-invalid"),this.cd.detectChanges()),We("")})).subscribe())}}verifyThousandLength(e){let t=e.target,i=this.formatValueWithoutThousandSeparator(t.value),o=this.getValueBeforeSeparator(i,this.decimalSeparator);return this.isSelectionStartDifferentSelectionEnd(t)?!1:o.length>=this.thousandMaxlength&&!this.isKeyDecimalSeparator(e)&&this.isPositionAfterDecimalSeparator(t.selectionStart-this.decimalsLength,t.value)}verifyInsertComma(e){return this.containsComma(e.target.value)&&e.key===this.decimalSeparator}verifyInsertMinusSign(e){let t=e.target.value,i=t.lastIndexOf(this.minusSign)!==-1,o=t.lastIndexOf("-"),a=t.match(new RegExp("-","g"));return this.isKeyboardAndroid&&i&&a.length>1&&(e.target.value=this.replaceAt(t,o,"")),i&&e.key===this.minusSign}verifyValueAfterComma(e){let t=e.target.value,i=e.target.selectionStart,o=this.getValueAfterSeparator(t,this.decimalSeparator);return this.isPositionAfterDecimalSeparator(i,t)&&o.length>=this.decimalsLength}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-decimal"]],viewQuery:function(t,i){if(t&1&&x(fa,7,P),t&2){let o;F(o=V())&&(i.inputEl=o.first)}},inputs:{decimalsLength:[0,"p-decimals-length","decimalsLength"],thousandMaxlength:[0,"p-thousand-maxlength","thousandMaxlength"],locale:[0,"p-locale","locale"],min:[0,"p-min","min"],max:[0,"p-max","max"]},standalone:!1,features:[W([{provide:Q,useExisting:q(()=>n),multi:!0},{provide:$,useExisting:q(()=>n),multi:!0}]),L],decls:8,vars:26,consts:[["inp",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],[1,"po-field-icon-container-left"],["inputmode","decimal","type","text",1,"po-input",3,"blur","focus","input","keypress","keydown","autocomplete","ngClass","disabled","id","placeholder","readonly","required"],[1,"po-field-icon-container-right"],[1,"po-icon-input",3,"p-element-ref","p-size"],[3,"p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-limit","p-error-pattern","p-show-additional-help","p-show-additional-help-icon"],[1,"po-field-icon","po-icon-input",3,"p-icon"],[1,"po-icon-input",3,"p-change-event","p-element-ref","p-size"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-limit","p-error-pattern","p-show-additional-help","p-show-additional-help-icon"]],template:function(t,i){if(t&1){let o=b();h(0,"po-field-container",1)(1,"div",2),y(2,_a,2,5,"div",3),h(3,"input",4,0),f("blur",function(d){return s(o),p(i.onBlur(d))})("focus",function(d){return s(o),p(i.onFocus(d))})("input",function(d){return s(o),p(i.onInput(d))})("keypress",function(d){return s(o),p(i.onKeyPress(d))})("keydown",function(d){return s(o),p(i.onKeyDown(d))}),u(),h(5,"div",5),y(6,Ca,1,2,"po-clean",6),u()(),y(7,ba,1,8,"po-field-container-bottom",7),u()}t&2&&(m("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),c(2),C(i.icon?2:-1),c(),T("po-input-aa",i.size==="small"),m("autocomplete",i.autocomplete)("ngClass",Yi(21,ga,i.icon&&i.size!=="small",i.icon&&i.size==="small",i.clean&&i.size!=="small",i.clean&&i.size==="small"))("disabled",i.disabled)("id",i.id)("placeholder",i.disabled?"":i.placeholder)("readonly",i.readonly)("required",i.required),z("max",i.max)("min",i.min)("name",i.name),c(3),C(i.clean&&!i.disabled&&!i.readonly?6:-1),c(),C(i.readonly?-1:7))},dependencies:[le,ye,ee,J,X],encapsulation:2,changeDetection:0})}return n})();var zt={en:{invalidFormat:"Date in invalid format",startDateGreaterThanEndDate:"Start date greater than end date",invalidDate:"Invalid date",dateOutOfPeriod:"Date out of period"},es:{invalidFormat:"Fecha en formato no v\xE1lido",startDateGreaterThanEndDate:"Fecha de inicio mayor que fecha final",invalidDate:"Fecha invalida",dateOutOfPeriod:"Fecha fuera de per\xEDodo"},pt:{invalidFormat:"Data no formato inv\xE1lido",startDateGreaterThanEndDate:"Data inicial maior que data final",invalidDate:"Data inv\xE1lida",dateOutOfPeriod:"Data fora do per\xEDodo"},ru:{invalidFormat:"\u0414\u0430\u0442\u0430 \u0432 \u043D\u0435\u0432\u0435\u0440\u043D\u043E\u043C \u0444\u043E\u0440\u043C\u0430\u0442\u0435",startDateGreaterThanEndDate:"\u0414\u0430\u0442\u0430 \u043D\u0430\u0447\u0430\u043B\u0430 \u0431\u043E\u043B\u044C\u0448\u0435 \u0434\u0430\u0442\u044B \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F",invalidDate:"\u041D\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0434\u0430\u0442\u0430",dateOutOfPeriod:"\u0434\u0430\u0442\u0430 \u0432\u043D\u0435 \u043F\u0435\u0440\u0438\u043E\u0434\u0430"}};var pn=(()=>{class n{changeDetector;poDateService;languageService;additionalHelpEventTrigger;name;additionalHelpTooltip;appendBox=!1;autoFocus=!1;help;label;optional;fieldErrorMessage;additionalHelp=new v;errorLimit=!1;onChange=new v;keydown=new v;errorMessage="";dateRange={start:"",end:""};displayAdditionalHelp=!1;format="dd/mm/yyyy";isDateRangeInputFormatValid=!0;isStartDateRangeInputValid=!0;onTouchedModel;poMaskObject;hasValidatorRequired=!1;_clean=!1;_disabled;_endDate;_literals;_maxDate;_minDate;_noAutocomplete=!1;_readonly=!1;_required=!1;_startDate;_locale;_size=void 0;language;onChangeModel;validatorChange;subscription=new de;get isDateRangeInputValid(){return this.isDateRangeInputFormatValid&&this.isStartDateRangeInputValid}set clean(e){this._clean=_(e)}get clean(){return this._clean}set disabled(e){this._disabled=_(e),this.validateModel(this.dateRange)}get disabled(){return this._disabled}set endDate(e){this._endDate=this.convertPatternDateFormat(e),this.dateRange.end=this.endDate,this.updateScreenByModel(this.dateRange),this.updateModel(this.dateRange)}get endDate(){return this._endDate}set literals(e){e instanceof Object&&!(e instanceof Array)?this._literals=D(D(D({},zt[te]),zt[this.language]),e):this._literals=zt[this.language]}get literals(){return this._literals||zt[this.language]}set minDate(e){if(e instanceof Date){let t=e.getFullYear(),i=new Date(t,e.getMonth(),e.getDate(),0,0,0);Ye(i,t),this._minDate=i}else this._minDate=nt(e,!0,!1)}get minDate(){return this._minDate}set maxDate(e){if(e instanceof Date){let t=e.getFullYear(),i=new Date(t,e.getMonth(),e.getDate(),23,59,59);Ye(i,t),this._maxDate=i}else this._maxDate=nt(e,!1,!0)}get maxDate(){return this._maxDate}set noAutocomplete(e){this._noAutocomplete=_(e)}get noAutocomplete(){return this._noAutocomplete}set readonly(e){this._readonly=_(e),this.validateModel(this.dateRange)}get readonly(){return this._readonly}set required(e){this._required=_(e),this.validateModel(this.dateRange)}get required(){return this._required}showRequired=!1;set size(e){this._size=Z(e,N)}get size(){return this._size??Y(N)}set startDate(e){this._startDate=this.convertPatternDateFormat(e),this.dateRange.start=this.startDate,this.updateScreenByModel(this.dateRange),this.updateModel(this.dateRange)}get startDate(){return this._startDate}set locale(e){e?(this._locale=e.length>=2?e:te,this.poMaskObject=this.buildMask(De(this.format,this.languageService.getDateSeparator(this.locale)))):(this._locale=this.language,this.poMaskObject=this.buildMask(De(this.format,this.languageService.getDateSeparator(this.locale))))}get locale(){return this._locale||this.language}constructor(e,t,i){this.changeDetector=e,this.poDateService=t,this.languageService=i,this.language=i.getShortLanguage()}ngOnDestroy(){this.subscription?.unsubscribe()}setDisabledState(e){this.disabled=e}registerOnChange(e){this.onChangeModel=e}registerOnTouched(e){this.onTouchedModel=e}registerOnValidatorChange(e){this.validatorChange=e}validate(e){let t=e.value||{},i=t.start?this.convertPatternDateFormat(t.start):"",o=t.end?this.convertPatternDateFormat(t.end):"";return!this.hasValidatorRequired&&this.fieldErrorMessage&&e.hasValidator(ke.required)&&(this.hasValidatorRequired=!0),this.requiredDateRangeFailed(i,o)?(this.errorMessage="",{required:{valid:!1}}):this.verifyValidDate(i,o)?this.dateRangeObjectFailed(e.value)||this.dateRangeFormatFailed(i,o)?(this.errorMessage=this.literals.invalidFormat,{date:{valid:!1}}):this.dateRangeFailed(i,o)?(this.errorMessage=this.literals.startDateGreaterThanEndDate,{date:{valid:!1}}):i&&!this.validateDateInRange(i)||o&&!this.validateDateInRange(o)?(this.errorMessage=this.literals.dateOutOfPeriod,{date:{valid:!1}}):(this.fieldErrorMessage&&(this.subscription?.unsubscribe(),this.subscription=e.statusChanges.pipe(be(a=>(a==="INVALID"&&this.changeDetector.markForCheck(),[]))).subscribe()),null):(this.errorMessage=this.literals.invalidDate,{date:{valid:!1}})}validateDateInRange(e){return ri(nt(e,!1,!1),this._minDate,this._maxDate)}writeValue(e){this.resetDateRangeInputValidation(),(!e||this.dateRangeObjectFailed(e))&&(this.dateRange={start:"",end:""}),e||this.validateModel(this.dateRange),this.dateRangeObjectFailed(e)&&this.updateModel(e),this.isDateRangeObject(e)&&(this.dateRange={start:this.convertPatternDateFormat(e.start),end:this.convertPatternDateFormat(e.end)},this.updateModel(this.dateRange)),this.updateScreenByModel(this.dateRange)}buildMask(e=this.format){let t=e.toUpperCase();return t=t.replace(/DD/g,"99"),t=t.replace(/MM/g,"99"),t=t.replace(/YYYY/g,"9999"),new Qe(t,!0)}dateFormatFailed(e){return e&&!this.poDateService.isValidIso(e)}updateModel(e){let t=typeof e=="object"?D({},e):e;this.onChangeModel&&this.onChangeModel(t)}validateModel(e){let t=D({},e);this.validatorChange&&this.validatorChange(t)}verifyValidDate(e,t){return e!==""&&t!==""?this.dateIsValid(e)&&this.dateIsValid(t):e!==""?this.dateIsValid(e):this.dateIsValid(t)}convertPatternDateFormat(e){return e instanceof Date?this.poDateService.convertDateToISO(e):e}dateRangeFailed(e,t){return!this.poDateService.isDateRangeValid(t,e)||!this.isStartDateRangeInputValid}dateRangeFormatFailed(e,t){return this.dateFormatFailed(t)||this.dateFormatFailed(e)||!this.isDateRangeInputFormatValid}dateRangeObjectFailed(e){return e&&!this.isDateRangeObject(e)}isDateRangeObject(e){return e&&e.hasOwnProperty("start")&&e.hasOwnProperty("end")}requiredDateRangeFailed(e,t){return this.isDateRangeInputValid&&pe(this.required||this.hasValidatorRequired,this.disabled,e)&&pe(this.required||this.hasValidatorRequired,this.disabled,t)}dateIsValid(e){let[t,i,o]=e.split("-"),a=Number(t),d=Number(i),w=Number(o);return d===1||d===3||d===5||d===7||d===8||d===10||d===12?!(w<1||w>31):d===4||d===6||d===9||d===11?!(w<1||w>30):a%4===0&&a%100!==0||a%400===0?!(w<1||w>29):!(w<1||w>28)}static \u0275fac=function(t){return new(t||n)(A(S),A(Ke),A(R))};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",name:"name",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],appendBox:[2,"p-append-in-body","appendBox",_],autoFocus:[2,"p-auto-focus","autoFocus",_],help:[0,"p-help","help"],label:[0,"p-label","label"],optional:[0,"p-optional","optional"],fieldErrorMessage:[0,"p-field-error-message","fieldErrorMessage"],errorLimit:[0,"p-error-limit","errorLimit"],clean:[0,"p-clean","clean"],disabled:[0,"p-disabled","disabled"],endDate:[0,"p-end-date","endDate"],literals:[0,"p-literals","literals"],minDate:[0,"p-min-date","minDate"],maxDate:[0,"p-max-date","maxDate"],noAutocomplete:[0,"p-no-autocomplete","noAutocomplete"],readonly:[0,"p-readonly","readonly"],required:[0,"p-required","required"],showRequired:[0,"p-show-required","showRequired"],size:[0,"p-size","size"],startDate:[0,"p-start-date","startDate"],locale:[0,"p-locale","locale"]},outputs:{additionalHelp:"p-additional-help",onChange:"p-change",keydown:"p-keydown"},features:[G]})}return n})();var wa=["dateRangeField"],Da=["endDateInput"],Fa=["startDateInput"],Va=["iconCalendar"],xa=["calendarPicker"];function Sa(n,l){if(n&1){let e=b();h(0,"po-clean",18),f("p-change-event",function(){s(e);let i=r();return p(i.clear())}),u()}if(n&2){let e=r();m("p-size",e.size)}}function Pa(n,l){if(n&1){let e=b();h(0,"po-field-container-bottom",19),f("p-additional-help",function(){s(e);let i=r();return p(i.emitAdditionalHelp())}),u()}if(n&2){let e=r();m("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-append-in-body",e.appendBox)("p-help",e.help)("p-disabled",e.disabled)("p-error-pattern",e.getErrorMessage)("p-error-limit",e.errorLimit)("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}function Ta(n,l){if(n&1){let e=b();h(0,"div",17,4)(2,"po-calendar",20),f("ngModelChange",function(i){s(e);let o=r();return p(o.onCalendarChange(i))}),u()()}if(n&2){let e=r();c(2),m("ngModel",e.dateRange)("p-max-date",e.maxDate)("p-min-date",e.minDate)("p-locale",e.locale)}}var Ea=37,ka=39,Ma=8,Ci=10,Aa=8,dn="bottom-left",La=[{provide:Q,useExisting:q(()=>bi),multi:!0},{provide:$,useExisting:q(()=>bi),multi:!0},Ae],bi=(()=>{class n extends pn{controlPosition=g(Ae);renderer=g(ve);cd=g(S);poLanguageService;dateRangeField;endDateInput;startDateInput;iconCalendar;calendarPicker;isCalendarVisible=!1;clickListener;eventResizeListener;poDatepickerRangeElement;get autocomplete(){return this.noAutocomplete?"off":"on"}get enableCleaner(){return this.clean&&(this.startDateInputValue||this.endDateInputValue)&&!this.disabled&&!this.readonly}get endDateInputName(){return"end-date"}get endDateInputValue(){return this.endDateInput.nativeElement.value}get getErrorMessage(){return this.fieldErrorMessage&&!this.errorMessage&&this.hasInvalidClass()?this.fieldErrorMessage:this.errorMessage!==""&&this.hasInvalidClass()?this.errorMessage:""}get isDateRangeInputUncompleted(){return this.endDateInputValue.length<Ci&&this.startDateInputValue.length<Ci}get isDirtyDateRangeInput(){return this.endDateInputValue.length>0||this.startDateInputValue.length>0}get startDateInputName(){return"start-date"}get startDateInputValue(){return this.startDateInput.nativeElement.value}constructor(){let e=g(S),t=g(R),i=g(Ke),o=g(P);super(e,i,t),this.changeDetector=e,this.poLanguageService=t,this.poDatepickerRangeElement=o}static getKeyCode(e){return e.keyCode||e.which}static getTargetElement(e){return e.target||e.srcElement}static isValidKey(e){let t=e>=48&&e<=57,i=e>=96&&e<=105;return t||i}ngAfterViewInit(){this.autoFocus&&this.focus()}ngOnInit(){this.poMaskObject=this.buildMask(De(this.format,this.poLanguageService.getDateSeparator(this.locale)))}ngOnChanges(e){(e.minDate||e.maxDate)&&this.validateModel(this.dateRange),e.locale&&(this.dateRange&&this.updateScreenByModel(this.dateRange),this.poMaskObject=this.buildMask(De(this.format,this.poLanguageService.getDateSeparator(this.locale))))}ngOnDestroy(){this.removeListeners()}clear(){this.resetDateRangeInputValidation(),this.dateRange={start:"",end:""},this.updateScreenByModel(this.dateRange),this.updateModel(this.dateRange)}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}eventOnClick(e){this.poMaskObject.click(e)}focus(){this.disabled||this.startDateInput.nativeElement.focus()}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}onBlur(e){this.onTouchedModel?.(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp();let t=e.target.name===this.startDateInputName;this.updateModelByScreen(t),this.removeFocusFromDatePickerRangeField()}onCalendarChange({start:e,end:t}){let i=e&&!t;this.updateScreenByModel({start:e||"",end:t||""}),this.updateModelByScreen(i,e||"",t||""),e&&t&&setTimeout(()=>{this.isCalendarVisible=!1,this.cd.markForCheck()},300)}onFocus(e){this.applyFocusOnDatePickerRangeField(),this.poMaskObject.resetPositions(e)}onKeydown(e){let t=document.activeElement===this.startDateInput.nativeElement,i=document.activeElement===this.endDateInput.nativeElement,o=t||i;this.readonly||(this.isSetFocusOnBackspace(e)?(e.preventDefault(),this.setFocusOnBackspace()):this.poMaskObject.keydown(e),o&&this.keydown.emit(e))}onKeyup(e){if(this.readonly)return;let t=e.target.name===this.startDateInputName;this.setFocus(e),this.poMaskObject.keyup(e),this.updateModelWhenComplete(t,this.startDateInputValue,this.endDateInputValue)}resetDateRangeInputValidation(){this.isStartDateRangeInputValid=!0,this.isDateRangeInputFormatValid=!0}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}toggleCalendar(){this.disabled||this.readonly||(this.isCalendarVisible=!this.isCalendarVisible,this.changeDetector.detectChanges(),this.isCalendarVisible?(this.setCalendarPosition(),this.initializeListeners()):this.removeListeners())}updateScreenByModel(e){let t={start:e.start,end:e.end},i=this.poDateService.isDateRangeValid(t.end,t.start),o=w=>!this.dateFormatFailed(w)&&i,a=o(t.end)?this.formatModelToScreen(t.end):"",d=o(t.start)?this.formatModelToScreen(t.start):"";this.endDateInput.nativeElement.value=a,this.startDateInput.nativeElement.value=d,this.changeDetector.detectChanges()}applyFocusOnDatePickerRangeField(){this.dateRangeField.nativeElement.classList.add("po-datepicker-range-field-focused")}formatDate(e,t="",i="",o=""){let a=De(e||this.format,this.poLanguageService.getDateSeparator(this.locale));return t=t&&t.includes("T")?t.slice(0,2):t,a=a.replace("dd",("0"+t).slice(-2)),a=a.replace("mm",("0"+i).slice(-2)),a=a.replace("yyyy",String(o)),a}formatScreenToModel(e=""){let[t,i,o]=e.split(this.poLanguageService.getDateSeparator(this.locale));return e?this.formatDate("yyyy-mm-dd",t,i,o):""}formatModelToScreen(e=""){let[t,i,o]=e.split("-");return e?this.formatDate(this.format,o,i,t):""}getDateRangeFormatValidation(e,t,i){return this.setDateRangeInputValidation(e,t),{isValid:this.isDateRangeInputFormatValid&&this.isStartDateRangeInputValid&&this.verifyValidDate(e,t),dateRangeModel:this.getValidatedModel(e,t,i)}}getValidatedModel(e,t,i){let o={start:"",end:""};return o.end=(i||this.isStartDateRangeInputValid)&&!this.dateFormatFailed(t)?t:"",o.start=(!i||this.isStartDateRangeInputValid)&&!this.dateFormatFailed(e)?e:"",o}hasAttrCalendar(e){let t="attr-calendar";return e?.hasAttribute(t)||e?.parentElement?.hasAttribute(t)}hasInvalidClass(){return this.poDatepickerRangeElement.nativeElement.classList.contains("ng-invalid")&&this.poDatepickerRangeElement.nativeElement.classList.contains("ng-dirty")}initializeListeners(){this.clickListener=this.renderer.listen("document","click",e=>{this.wasClickedOnPicker(e)}),this.eventResizeListener=this.renderer.listen("window","resize",()=>{this.isCalendarVisible=!1}),window.addEventListener("scroll",this.onScroll,!0)}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}isEqualBeforeValue(e,t){return this.isDateRangeInputFormatValid&&t===this.dateRange.end&&e===this.dateRange.start}isSetFocusOnBackspace(e){return e.target.name===this.endDateInputName&&this.endDateInput.nativeElement.selectionStart===0&&this.endDateInput.nativeElement.selectionEnd===0&&e.keyCode===Ma}onScroll=()=>{this.isCalendarVisible&&this.controlPosition.adjustPosition(dn)};removeFocusFromDatePickerRangeField(){this.dateRangeField.nativeElement.classList.remove("po-datepicker-range-field-focused")}setDateRangeInputValidation(e,t){this.isStartDateRangeInputValid=this.poDateService.isDateRangeValid(t,e),this.isDateRangeInputFormatValid=!this.dateFormatFailed(e)&&!this.dateFormatFailed(t)}setFocus(e){let t=n.getTargetElement(e),i=n.getKeyCode(e),o=t.name;this.setFocusOnArrowLeft(i,o),this.setFocusOnArrowRight(i,o,t),this.setFocusOnStartDateCompleted(i,o)}setFocusAndPosition(e,t,i){this.focusOnElement(t),setTimeout(()=>{t.nativeElement.setSelectionRange(i,i),this.poMaskObject.initialPosition=e,this.poMaskObject.finalPosition=e})}focusOnElement(e){e.nativeElement.focus()}removeListeners(){this.clickListener&&this.clickListener(),this.eventResizeListener&&this.eventResizeListener(),window.removeEventListener("scroll",this.onScroll,!0)}setCalendarPosition(){this.controlPosition.setElements(this.calendarPicker.nativeElement,Aa,this.dateRangeField,["bottom-left","bottom-right","top-left","top-right"],!1,!0),this.controlPosition.adjustPosition(dn)}setFocusOnArrowLeft(e,t){let i=this.endDateInput.nativeElement.selectionStart===0;if(t===this.endDateInputName&&i&&e===Ea){let o=this.startDateInput.nativeElement.value.length;this.setFocusAndPosition(o,this.startDateInput,o)}}setFocusOnArrowRight(e,t,i){let o=this.startDateInput.nativeElement.selectionStart===i.value.length;t===this.startDateInputName&&o&&e===ka&&this.setFocusAndPosition(0,this.endDateInput,0)}setFocusOnBackspace(){let e=this.startDateInput.nativeElement.value.length;this.startDateInput.nativeElement.value=this.startDateInputValue.slice(0,-1),this.setFocusAndPosition(e,this.startDateInput,e)}setFocusOnStartDateCompleted(e,t){let i=this.startDateInput.nativeElement.selectionStart===Ci,o=this.startDateInputValue.length===Ci&&i,a=n.isValidKey(e);t===this.startDateInputName&&o&&a&&this.setFocusAndPosition(0,this.endDateInput,0)}updateModelWhenComplete(e,t,i){let o=this.formatScreenToModel(i),a=this.formatScreenToModel(t),d=this.getDateRangeFormatValidation(a,o,e);if(this.isEqualBeforeValue(a,o)){this.resetDateRangeInputValidation(),this.validateModel(this.dateRange);return}d.isValid&&(this.dateRange={start:a,end:o},this.updateModel(this.dateRange),this.onChange.emit(D({},this.dateRange)))}updateModelByScreen(e,t,i){let o=i||this.formatScreenToModel(this.endDateInputValue),a=t||this.formatScreenToModel(this.startDateInputValue);if(this.isDateRangeInputUncompleted&&this.isDirtyDateRangeInput){this.updateModel(this.dateRange);return}if(this.isEqualBeforeValue(a,o)){this.resetDateRangeInputValidation(),this.validateModel(this.dateRange);return}let d=this.getDateRangeFormatValidation(a,o,e);d.isValid&&(this.dateRange={start:a,end:o},this.updateModel(this.dateRange),this.onChange.emit(D({},this.dateRange))),!d.isValid&&this.verifyFormattedDates(a,o)&&(this.dateRange=D({},d.dateRangeModel),this.updateModel(d.dateRangeModel))}verifyFormattedDates(e,t){return!!e||!!t}wasClickedOnPicker(e){this.isCalendarVisible&&(!this.calendarPicker.nativeElement.contains(e.target)&&!this.iconCalendar.nativeElement.contains(e.target)&&!this.hasAttrCalendar(e.target)&&(this.isCalendarVisible=!1),this.cd.markForCheck())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-datepicker-range"]],viewQuery:function(t,i){if(t&1&&(x(wa,7,P),x(Da,7,P),x(Fa,7,P),x(Va,7,P),x(xa,5,P)),t&2){let o;F(o=V())&&(i.dateRangeField=o.first),F(o=V())&&(i.endDateInput=o.first),F(o=V())&&(i.startDateInput=o.first),F(o=V())&&(i.iconCalendar=o.first),F(o=V())&&(i.calendarPicker=o.first)}},standalone:!1,features:[W(La),L,me],decls:20,vars:34,consts:[["dateRangeField",""],["startDateInput",""],["endDateInput",""],["iconCalendar",""],["calendarPicker",""],[3,"p-disabled","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],[1,"po-field-container-input"],[1,"po-datepicker-range-field","po-input"],[1,"po-datepicker-range-start-date"],["maxlength","10","type","text",1,"po-datepicker-range-input",3,"blur","focus","keydown","keyup","click","autocomplete","disabled","name","readonly"],[1,"po-datepicker-range-separator"],[1,"po-datepicker-range-end-date"],[1,"po-datepicker-range-icon"],[3,"p-size"],[3,"click","p-icon"],[3,"p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"],[1,"po-calendar-range-picker"],[3,"p-change-event","p-size"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"],["p-mode","range",3,"ngModelChange","ngModel","p-max-date","p-min-date","p-locale"]],template:function(t,i){if(t&1){let o=b();h(0,"po-field-container",5)(1,"div",6)(2,"div",7)(3,"div",8,0)(5,"div",9)(6,"input",10,1),f("blur",function(d){return s(o),p(i.onBlur(d))})("focus",function(d){return s(o),p(i.onFocus(d))})("keydown",function(d){return s(o),p(i.onKeydown(d))})("keyup",function(d){return s(o),p(i.onKeyup(d))})("click",function(d){return s(o),p(i.eventOnClick(d))}),u()(),h(8,"div",11),I(9,"-"),u(),h(10,"div",12)(11,"input",10,2),f("blur",function(d){return s(o),p(i.onBlur(d))})("focus",function(d){return s(o),p(i.onFocus(d))})("keydown",function(d){return s(o),p(i.onKeydown(d))})("keyup",function(d){return s(o),p(i.onKeyup(d))})("click",function(d){return s(o),p(i.eventOnClick(d))}),u()(),h(13,"div",13),y(14,Sa,1,1,"po-clean",14),u(),h(15,"div",13)(16,"po-icon",15,3),f("click",function(){return s(o),p(i.toggleCalendar())}),u()()()()(),y(18,Pa,1,8,"po-field-container-bottom",16),u(),y(19,Ta,3,4,"div",17)}t&2&&(T("po-date-picker-container-disabled",i.disabled),m("p-disabled",i.disabled)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),c(3),T("po-input-aa",i.size==="small")("po-datepicker-range-field-disabled",i.disabled),z("disabled",i.disabled),c(2),T("po-datepicker-range-start-date-aa",i.size==="small"),c(),m("autocomplete",i.autocomplete)("disabled",i.disabled)("name",i.startDateInputName)("readonly",i.readonly),z("aria-label",i.label),c(5),m("autocomplete",i.autocomplete)("disabled",i.disabled)("name",i.endDateInputName)("readonly",i.readonly),c(3),C(i.enableCleaner?14:-1),c(2),je("po-field-icon ",i.disabled?"po-icon-input-disabled":"po-icon-input",""),T("po-field-icon-disabled",i.disabled||i.readonly)("po-field-icon-aa",i.size==="small"),m("p-icon",!i.disabled||!i.readonly?"ICON_CALENDAR po-clickable":"ICON_CALENDAR"),c(2),C(i.readonly?-1:18),c(),C(i.isCalendarVisible?19:-1))},dependencies:[it,ot,ye,Et,ee,J,X],encapsulation:2,changeDetection:0})}return n})();var Ia=["inp"],kt=(()=>{class n extends gi{inputEl;type="text";el;valueBeforeChange;timeoutChange;subscriptionValidator=new de;get autocomplete(){return this.noAutocomplete?"off":"on"}constructor(e,t){super(t),this.el=e}onKeydown(e){this.mask&&!this.readonly&&e.target.keyCode!==229&&(this.objMask.keydown(e),this.passedWriteValue&&this.validateClassesForMask(!0))}onKeyup(e){this.mask&&!this.readonly&&(e.target.keyCode!==229&&this.objMask.keyup(e),this.callOnChange(this.objMask.valueToModel),this.errorAsyncProperties?.triggerMode==="changeModel"&&this.verifyErrorAsync())}ngAfterViewInit(){this.afterViewInit()}afterViewInit(){this.verifyAutoFocus()}ngOnDestroy(){this.subscriptionValidator?.unsubscribe()}focus(){this.disabled||this.inputEl.nativeElement.focus()}onKeyDown(e){document.activeElement===this.inputEl.nativeElement&&this.keydown.emit(e)}verifyAutoFocus(){this.autoFocus&&this.focus()}eventOnInput(e){let t="";this.mask?(this.objMask.blur(e),this.inputEl.nativeElement.value=this.objMask.valueToInput,t=this.objMask.valueToModel):(t=this.validMaxLength(this.maxlength,e.target.value),this.inputEl.nativeElement.value=t),this.inputEl.nativeElement.value=this.upperCase?String(this.inputEl.nativeElement.value).toUpperCase():this.inputEl.nativeElement.value,t=this.upperCase?t.toUpperCase():t,this.callOnChange(t),this.errorAsyncProperties?.triggerMode==="changeModel"&&this.verifyErrorAsync()}validMaxLength(e,t){return(e||e===0)&&t.length>e?t.toString().substring(0,e):t}eventOnFocus(e){this.valueBeforeChange=this.inputEl.nativeElement.value,this.enter.emit()}eventOnBlur(e){this.onTouched?.(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp(),this.mask&&this.objMask.blur(e),e.type==="blur"&&(this.blur.emit(),this.controlChangeEmitter())}controlChangeEmitter(){let e=this.inputEl.nativeElement.value;e!==this.valueBeforeChange&&(clearTimeout(this.timeoutChange),this.timeoutChange=setTimeout(()=>{this.change.emit(e);let t=this.errorAsyncProperties;(t?.triggerMode==="change"||!t?.triggerMode)&&this.verifyErrorAsync()},200))}eventOnClick(e){this.mask&&this.objMask.click(e)}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&(this.inputEl.nativeElement.value!==""||this.showErrorMessageRequired&&(this.required||this.hasValidatorRequired))}verifyErrorAsync(){if(this.errorPattern!==""&&this.errorAsyncProperties?.errorAsync){let e=this.errorAsyncProperties.errorAsync(this.inputEl.nativeElement.value);_t(e)&&(this.subscriptionValidator.unsubscribe(),this.subscriptionValidator=e.pipe(be(t=>{let i=this.el.nativeElement;return t?(i.classList.add("ng-invalid"),i.classList.add("ng-dirty"),this.cd.detectChanges()):i.classList.contains("ng-invalid")&&i.classList.contains("ng-dirty")&&!this.isInvalid&&(i.classList.remove("ng-invalid"),this.cd.detectChanges()),We("")})).subscribe())}}getErrorPattern(){return this.errorPattern!==""&&this.hasInvalidClass()?this.errorPattern:""}validateClassesForPattern(){let e=this.getScreenValue(),t=this.el.nativeElement;e&&!this.verifyPattern(this.pattern,e)?(t.classList.add("ng-invalid"),t.classList.add("ng-dirty")):t.classList.remove("ng-invalid")}validateClassesForMask(e=!1){let t=this.el.nativeElement,i=this.inputEl.nativeElement.value;!e&&!i?t.classList.add("ng-invalid-mask"):t.classList.remove("ng-invalid-mask")}verifyPattern(e,t){return new RegExp(e).test(t)}clear(e){this.callOnChange(e),this.controlChangeEmitter(),this.errorAsyncProperties?.triggerMode==="changeModel"&&this.verifyErrorAsync()}writeValueModel(e){this.passedWriteValue=!0,this.inputEl&&(e?this.mask?(this.inputEl.nativeElement.value=this.objMask.controlFormatting(String(e)),this.objMask.formatModel&&this.callUpdateModelWithTimeout(this.objMask.valueToModel)):this.inputEl.nativeElement.value=e:this.inputEl.nativeElement.value=""),e&&(this.validateInitMask(),this.changeModel.emit(e),this.verifyErrorAsync())}getScreenValue(){let e=this.inputEl&&this.inputEl.nativeElement.value||void 0;if(this.type==="number"){let t=parseFloat(e);return t||t===0?t:null}else return e}validateInitMask(){this.mask&&this.validateClassesForMask()}static \u0275fac=function(t){return new(t||n)(A(P),A(S))};static \u0275dir=O({type:n,viewQuery:function(t,i){if(t&1&&x(Ia,7,P),t&2){let o;F(o=V())&&(i.inputEl=o.first)}},hostBindings:function(t,i){t&1&&f("keydown",function(a){return i.onKeydown(a)})("keyup",function(a){return i.onKeyup(a)})},features:[L]})}return n})();var Ra=["inp"];function Ha(n,l){if(n&1&&(h(0,"div",3),B(1,"po-icon",8),u()),n&2){let e=r();c(),je("po-field-icon ",e.disabled?"po-icon-input-disabled":"po-icon-input",""),T("po-field-icon-disabled",e.disabled)("po-field-icon-aa",e.size==="small"),m("p-icon",e.icon)}}function qa(n,l){if(n&1){let e=b();h(0,"po-clean",9),f("p-change-event",function(i){s(e);let o=r();return p(o.clear(i))}),u()}if(n&2){let e=r();ji(e.disabled?"po-icon-input-disabled":"po-icon-input"),m("p-element-ref",e.inputEl)("p-size",e.size)}}function za(n,l){if(n&1){let e=b();h(0,"po-field-container-bottom",10),f("p-additional-help",function(){s(e);let i=r();return p(i.emitAdditionalHelp())}),u()}if(n&2){let e=r();m("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-append-in-body",e.appendBox)("p-help",e.help)("p-disabled",e.disabled)("p-error-pattern",e.getErrorPattern())("p-error-limit",e.errorLimit)("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}var cn=(()=>{class n extends kt{inp;id=`po-input[${se()}]`;constructor(){let e=g(P),t=g(S);super(e,t)}extraValidation(e){return null}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-input"]],viewQuery:function(t,i){if(t&1&&x(Ra,7),t&2){let o;F(o=V())&&(i.inp=o.first)}},standalone:!1,features:[W([{provide:Q,useExisting:q(()=>n),multi:!0},{provide:$,useExisting:q(()=>n),multi:!0}]),L],decls:8,vars:27,consts:[["inp",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],[1,"po-field-icon-container-left"],[1,"po-input",3,"blur","click","focus","input","keydown","autocomplete","disabled","id","placeholder","readonly","required","type"],[1,"po-field-icon-container-right"],[3,"class","p-element-ref","p-size"],[3,"p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"],[3,"p-icon"],[3,"p-change-event","p-element-ref","p-size"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"]],template:function(t,i){if(t&1){let o=b();h(0,"po-field-container",1)(1,"div",2),y(2,Ha,2,8,"div",3),h(3,"input",4,0),f("blur",function(d){return s(o),p(i.eventOnBlur(d))})("click",function(d){return s(o),p(i.eventOnClick(d))})("focus",function(d){return s(o),p(i.eventOnFocus(d))})("input",function(d){return s(o),p(i.eventOnInput(d))})("keydown",function(d){return s(o),p(i.onKeyDown(d))}),u(),h(5,"div",5),y(6,qa,1,5,"po-clean",6),u()(),y(7,za,1,8,"po-field-container-bottom",7),u()}t&2&&(m("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),c(2),C(i.icon?2:-1),c(),T("po-input-icon-left",i.icon)("po-input-icon-left-aa",i.icon&&i.size==="small")("po-input-icon-right",i.clean)("po-input-icon-right-aa",i.clean&&i.size==="small")("po-input-aa",i.size==="small"),m("autocomplete",i.autocomplete)("disabled",i.disabled)("id",i.id)("placeholder",i.disabled?"":i.placeholder)("readonly",i.readonly)("required",i.required)("type",i.type),z("name",i.name),c(3),C(i.clean&&!i.disabled&&!i.readonly?6:-1),c(),C(i.readonly?-1:7))},dependencies:[ye,ee,J,X],encapsulation:2,changeDetection:0})}return n})();var vi={en:{modalPrimaryActionLabel:"Select",modalSecondaryActionLabel:"Cancel",modalPlaceholder:"Search",modalTitle:"Select a record",modalTableNoColumns:Ce.en.noColumns,modalTableNoData:Ce.en.noData,modalTableLoadingData:Ce.en.loadingData,modalTableLoadMoreData:Ce.en.loadMoreData,modalAdvancedSearch:"Advanced search",modalAdvancedSearchTitle:"Advanced search",modalAdvancedSearchPrimaryActionLabel:"Filter",modalAdvancedSearchSecondaryActionLabel:"Return",modalDisclaimerGroupTitle:"Presenting results filtered by:"},es:{modalPrimaryActionLabel:"Seleccionar",modalSecondaryActionLabel:"Cancelar",modalPlaceholder:"Buscar",modalTitle:"Seleccione un registro",modalTableNoColumns:Ce.es.noColumns,modalTableNoData:Ce.es.noData,modalTableLoadingData:Ce.es.loadingData,modalTableLoadMoreData:Ce.es.loadMoreData,modalAdvancedSearch:"B\xFAsqueda Avanzada",modalAdvancedSearchTitle:"B\xFAsqueda Avanzada",modalAdvancedSearchPrimaryActionLabel:"Filtrar",modalAdvancedSearchSecondaryActionLabel:"Vuelve",modalDisclaimerGroupTitle:"Presentar resultados filtrados por:"},pt:{modalPrimaryActionLabel:"Selecionar",modalSecondaryActionLabel:"Cancelar",modalPlaceholder:"Pesquisar",modalTitle:"Selecione um registro",modalTableNoColumns:Ce.pt.noColumns,modalTableNoData:Ce.pt.noData,modalTableLoadingData:Ce.pt.loadingData,modalTableLoadMoreData:Ce.pt.loadMoreData,modalAdvancedSearch:"Busca avan\xE7ada",modalAdvancedSearchTitle:"Busca Avan\xE7ada",modalAdvancedSearchPrimaryActionLabel:"Filtrar",modalAdvancedSearchSecondaryActionLabel:"Voltar",modalDisclaimerGroupTitle:"Apresentando resultados filtrados por:"},ru:{modalPrimaryActionLabel:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C",modalSecondaryActionLabel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",modalPlaceholder:"\u041F\u043E\u0438\u0441\u043A",modalTitle:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u0430\u043F\u0438\u0441\u044C",modalTableNoColumns:Ce.ru.noColumns,modalTableNoData:Ce.ru.noData,modalTableLoadingData:Ce.ru.loadingData,modalTableLoadMoreData:Ce.ru.loadMoreData,modalAdvancedSearch:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u044B\u0439 \u043F\u043E\u0438\u0441\u043A",modalAdvancedSearchTitle:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u044B\u0439 \u043F\u043E\u0438\u0441\u043A",modalAdvancedSearchPrimaryActionLabel:"\u0424\u0438\u043B\u044C\u0442\u0440",modalAdvancedSearchSecondaryActionLabel:"\u041D\u0430\u0437\u0430\u0434",modalDisclaimerGroupTitle:"\u041F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u044B\u0435 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u043E\u0442\u0444\u0438\u043B\u044C\u0442\u0440\u043E\u0432\u0430\u043D\u044B \u043F\u043E:"}},un=(()=>{class n{changeDetector;poModal;poTable;advancedFilters;columns;items;filterService;filterParams;hideColumnsManager=!1;infiniteScroll=!1;multiple=!1;model=new v;selectedItems;fieldLabel;fieldValue;spacing;size;textWrap=!1;virtualScroll=!0;changeVisibleColumns=new v;columnRestoreManager=new v;hasNext=!0;isLoading=!1;page=1;pageSize=10;searchValue="";appliedSearchValue="";tableLiterals;advancedFilterModalTitle="";dynamicFormValue={};disclaimer;disclaimerGroup;isAdvancedFilter=!1;primaryActionAdvancedFilter;secondaryActionAdvancedFilter;selecteds=[];sort;filterSubscription;searchSubscription;showMoreSubscription;disclaimerLabel;_literals;_title;language=te;primaryAction={action:()=>{let e=[];this.multiple?e=this.selecteds:this.items.forEach(t=>{t.$selected&&e.push(t)}),this.model.emit(e),this.poModal.close()},label:this.literals.modalPrimaryActionLabel};secondaryAction={action:()=>{this.model.emit(null),this.poModal.close()},label:this.literals.modalSecondaryActionLabel};set literals(e){e instanceof Object&&!(e instanceof Array)?(this._literals=D(D(D({},vi[te]),vi[this.language]),e),e.modalTitle&&(this.title=this.literals.modalTitle)):this._literals=vi[this.language],this.primaryAction.label=this.literals.modalPrimaryActionLabel,this.secondaryAction.label=this.literals.modalSecondaryActionLabel,this.setTableLiterals()}get literals(){return this._literals||vi[this.language]}set title(e){this._title=ie(e,"string")?e:this.literals.modalTitle}get title(){return this._title}constructor(e,t){this.changeDetector=t,this.language=e.getShortLanguage()}ngOnDestroy(){this.filterSubscription&&this.filterSubscription.unsubscribe(),this.searchSubscription&&this.searchSubscription.unsubscribe(),this.showMoreSubscription&&this.showMoreSubscription.unsubscribe()}ngOnInit(){this.setAdvancedFilterModalProperties(),this.initializeData(),this.setTableLiterals()}createDisclaimer(){this.disclaimerGroup.disclaimers=[],this.searchValue="",this.appliedSearchValue="";for(let[e,t]of Object.entries(this.dynamicFormValue))this.addDisclaimer(t,e);Object.values(this.dynamicFormValue).some(e=>e!==null&&typeof e<"u")||this.initializeData()}addDisclaimer(e,t){this.disclaimerLabel="";let i=this.advancedFilters.find(a=>a.property===t);this.disclaimer={property:t},this.disclaimer.value=e;let o=i.label||Do(i.property);i.type==="currency"&&e&&this.formatValueToCurrency(i,e),i.type==="boolean"&&(e===!0||e===!1)&&this.formatValueToBoolean(i,e),i.options&&e&&this.applyDisclaimerLabelValue(i,e),this.disclaimerLabel||(this.disclaimerLabel=this.disclaimer.value),this.disclaimer.label=`${o}: ${this.disclaimerLabel}`,this.disclaimerGroup.disclaimers=[...this.disclaimerGroup.disclaimers,this.disclaimer]}onChangeDisclaimerGroup(){this.appliedSearchValue||(this.isLoading=!0,this.searchValue="",this.appliedSearchValue="",this.searchFilteredItems())}search(){this.page=1,this.appliedSearchValue=this.searchValue,this.appliedSearchValue?(this.isLoading=!0,this.disclaimerGroup.disclaimers=[],this.searchFilteredItems()):this.initializeData()}searchFilteredItems(){this.searchSubscription=this.getFilteredItems(this.appliedSearchValue).pipe(Lt(e=>(this.setLookupResponseProperties(),Ti(e)))).subscribe(e=>this.setLookupResponseProperties(e),()=>{})}showMoreEvent(){this.page++,this.isLoading=!0,this.searchValue!==this.appliedSearchValue&&(this.searchValue=this.appliedSearchValue),this.showMoreSubscription=this.getFilteredItems(this.appliedSearchValue).pipe(Lt(e=>(this.hasNext=!1,this.isLoading=!1,Ti(e)))).subscribe(e=>{this.items=[...this.items,...e.items],this.hasNext=e.hasNext,this.isLoading=!1,this.changeDetector.detectChanges(),this.setSelectedItems()},()=>{})}setSelectedItems(){this.selecteds.forEach(e=>{this.multiple?this.poTable.selectRowItem(t=>t[this.fieldValue]===e.value):this.poTable.selectRowItem(t=>t[this.fieldValue]===e[this.fieldValue])})}setDisclaimersItems(){this.selectedItems&&Array.isArray(this.selectedItems)&&this.selectedItems.length>0?this.selecteds=[...this.selectedItems]:this.selectedItems&&!Array.isArray(this.selectedItems)?this.selecteds=[this.selectedItems]:this.selecteds=[]}applyDisclaimerLabelValue(e,t){let o=(Array.isArray(t)?t:[t]).map(a=>e.options.find(w=>w.value===a).label);o.join()&&(this.disclaimerLabel=o.join(", "))}formatValueToCurrency(e,t){let i=new Intl.NumberFormat(e.locale?e.locale:this.language,{minimumFractionDigits:2}).format(t);this.disclaimerLabel=i}formatValueToBoolean(e,t){let i;t?i=e.booleanTrue?e.booleanTrue:t:i=e.booleanFalse?e.booleanFalse:t,this.disclaimerLabel=`${i}`}setAdvancedFilterModalProperties(){this.advancedFilterModalTitle=this.literals.modalAdvancedSearchTitle,this.disclaimerGroup={title:this.literals.modalDisclaimerGroupTitle,disclaimers:[]},this.primaryActionAdvancedFilter={action:()=>{this.destroyDynamicForm(),this.isAdvancedFilter=!1,this.page=1,this.createDisclaimer()},label:this.literals.modalAdvancedSearchPrimaryActionLabel},this.secondaryActionAdvancedFilter={action:()=>{this.destroyDynamicForm(),this.isAdvancedFilter=!1},label:this.literals.modalAdvancedSearchSecondaryActionLabel}}getAdvancedFilters(e){if(e&&e.length>0){let t={},i;return e.forEach(o=>{t[o.property]=o.value instanceof Array?o.value.join():o.value,i=D(D({},i),t)}),i}}getFilteredItems(e){let t=this.getFilteredParams(e);return this.filterService.getFilteredItems(t)}getFilteredParams(e){let{page:t,pageSize:i,filterParams:o,sort:a}=this,d={},w=this.getOrderParam(a),M=this.getAdvancedFilters(this.disclaimerGroup.disclaimers),H={filter:e,page:t,pageSize:i,order:w,filterParams:o,advancedFilters:M};for(let he in H)H.hasOwnProperty(he)&&H[he]!==void 0&&(d[he]=H[he]);return d}getOrderParam(e={type:void 0}){let{column:t,type:i}=e;if(t)return i===Po.Descending?`-${t.property}`:`${t.property}`}initializeData(){this.isLoading=!0,this.filterSubscription=this.getFilteredItems("").subscribe(e=>{this.setLookupResponseProperties(e)})}setLookupResponseProperties(e){this.items=e?.items??[],this.hasNext=e?.hasNext??!1,this.isLoading=!1,this.changeDetector.detectChanges(),this.setDisclaimersItems(),this.setSelectedItems()}setTableLiterals(){this.tableLiterals={noColumns:this.literals.modalTableNoColumns,noData:this.literals.modalTableNoData,loadingData:this.literals.modalTableLoadingData,loadMoreData:this.literals.modalTableLoadMoreData}}static \u0275fac=function(t){return new(t||n)(A(R),A(S))};static \u0275dir=O({type:n,viewQuery:function(t,i){if(t&1&&(x(li,7),x(hi,7)),t&2){let o;F(o=V())&&(i.poModal=o.first),F(o=V())&&(i.poTable=o.first)}},inputs:{advancedFilters:[0,"p-advanced-filters","advancedFilters"],columns:[0,"p-columns","columns"],items:[0,"p-items","items"],filterService:[0,"p-filter-service","filterService"],filterParams:[0,"p-filter-params","filterParams"],hideColumnsManager:[2,"p-hide-columns-manager","hideColumnsManager",_],infiniteScroll:[2,"p-infinite-scroll","infiniteScroll",_],multiple:[2,"p-multiple","multiple",_],selectedItems:[0,"p-selected-items","selectedItems"],fieldLabel:[0,"p-field-label","fieldLabel"],fieldValue:[0,"p-field-value","fieldValue"],spacing:[0,"p-spacing","spacing"],size:[0,"p-size","size"],textWrap:[2,"p-text-wrap","textWrap",_],virtualScroll:[2,"p-virtual-scroll","virtualScroll",_],literals:[0,"p-literals","literals"],title:[0,"p-title","title"]},outputs:{model:"p-change-model",changeVisibleColumns:"p-change-visible-columns",columnRestoreManager:"p-restore-column-manager"},features:[G]})}return n})();var hn={en:{removeAll:"Remove all"},es:{removeAll:"Eliminar todos"},pt:{removeAll:"Remover todos"},ru:{removeAll:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u0441\u0435"}},mn=(()=>{class n{changeDetector;title;change=new v;remove=new v;removeAll=new v;literals;_disclaimers=[];_hideRemoveAll=!1;differ;previousDisclaimers=[];set disclaimers(e){this.previousDisclaimers=[...this.disclaimers],this._disclaimers=this.checkDisclaimers(e)}get disclaimers(){return this._disclaimers}set hideRemoveAll(e){this._hideRemoveAll=e===""?!0:_(e)}get hideRemoveAll(){return this._hideRemoveAll}constructor(e,t,i){this.changeDetector=i;let o=t.getShortLanguage();this.differ=e.find([]).create(null),this.literals=D(D({},hn[te]),hn[o])}ngDoCheck(){this.checkChanges()}isRemoveAll(){return!this.hideRemoveAll&&this.disclaimers.filter(e=>!e.hideClose).length>1}onKeyPress(e){Vt(e)&&this.removeAllItems()}removeAllItems(){let e=[];this.disclaimers.forEach(t=>{t.hideClose||e.push(t)}),e.forEach(t=>this.removeDisclaimer(t)),this.emitChangeDisclaimers(),this.removeAll.emit([...e])}removeDisclaimer(e){let t=this.disclaimers.findIndex(i=>i.$id===e.$id);this.disclaimers.splice(t,1)}emitChangeDisclaimers(){setTimeout(()=>{this.change.emit(this.disclaimers)}),this.previousDisclaimers=[...this._disclaimers],this.changeDetector?.detectChanges()}checkChanges(){this.differ?this.differ.diff(this.disclaimers)&&this.disclaimersAreChanged(this.disclaimers)&&this.emitChangeDisclaimers():this.changeDetector?.detectChanges()}checkDisclaimers(e){if(Array.isArray(e)){for(let t=0;t<e.length;t++){let i=e[t];i.value||i.value===0||i.value===!1?i.$id=se():(e.splice(t,1),t--)}return e}return[]}disclaimersAreChanged(e){let t=e;return t.length!==this.previousDisclaimers.length?!0:t.some((i,o)=>i.value!==this.previousDisclaimers[o].value||i.property!==this.previousDisclaimers[o].property)}static \u0275fac=function(t){return new(t||n)(A(tt),A(R),A(S))};static \u0275dir=O({type:n,inputs:{title:[0,"p-title","title"],disclaimers:[0,"p-disclaimers","disclaimers"],hideRemoveAll:[0,"p-hide-remove-all","hideRemoveAll"]},outputs:{change:"p-change",remove:"p-remove",removeAll:"p-remove-all"}})}return n})();var gn=(()=>{class n{label;removeAllAction=new v;removeAction(){this.removeAllAction.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-disclaimer-remove"]],inputs:{label:[0,"p-label","label"]},outputs:{removeAllAction:"p-remove-all-action"},standalone:!1,decls:1,vars:1,consts:[["p-type","danger",1,"po-clickable",3,"p-click","p-value"]],template:function(t,i){t&1&&(h(0,"po-tag",0),f("p-click",function(){return i.removeAction()}),u()),t&2&&m("p-value",i.label)},dependencies:[St],encapsulation:2})}return n})();function Wa(n,l){if(n&1){let e=b();h(0,"po-disclaimer-remove",4),f("keydown",function(i){s(e);let o=r(2);return p(o.onKeyPress(i))})("p-remove-all-action",function(){s(e);let i=r(2);return p(i.removeAllItems())}),u()}if(n&2){let e=r(2);m("p-label",e.literals.removeAll)}}function ja(n,l){if(n&1){let e=b();h(0,"po-tag",5),f("p-close",function(i){let o=s(e).$implicit,a=r(2);return p(a.onCloseAction(o,i))}),u()}if(n&2){let e=l.$implicit;m("p-value",e.label||e.value)("p-removable",!e.hideClose)}}function Ua(n,l){if(n&1&&(h(0,"div",0)(1,"div",1),I(2),u(),y(3,Wa,1,1,"po-disclaimer-remove",2),fe(4,ja,1,2,"po-tag",3,Fe),u()),n&2){let e=r();c(2),Pe(e.title),c(),C(e.isRemoveAll()?3:-1),c(),ge(e.disclaimers)}}var _n=(()=>{class n extends mn{subscription=new de;el=g(P);constructor(){let e=g(tt),t=g(R),i=g(S);super(e,t,i),this.changeDetector=i}ngAfterViewInit(){this.handleKeyboardNavigationTag()}ngOnChanges(e){e.disclaimers&&setTimeout(()=>{this.handleKeyboardNavigationTag()})}onCloseAction(e,t){let i=this.disclaimers.findIndex(o=>o.value===e.value);this.removeDisclaimer(e),this.emitChangeDisclaimers(),this.remove.emit({removedDisclaimer:D({},e),currentDisclaimers:[...this.disclaimers]}),setTimeout(()=>{this.focusOnNextTag(i,t)},300)}focusOnNextTag(e,t){if(t==="enter"){let i=this.el.nativeElement.querySelectorAll(".po-tag-remove");e=e||e===0?e:i.length,this.focusOnRemoveTag(i,e)}else e=0;this.handleKeyboardNavigationTag(e)}handleKeyboardNavigationTag(e=0){this.subscription.unsubscribe(),this.subscription=new de;let t=this.el.nativeElement.querySelectorAll(".po-tag-remove");this.initializeTagRemoveElements(t,e)}handleArrowLeft(e,t){t>0&&(this.setTabIndex(e[t],-1),e[t-1].focus(),this.setTabIndex(e[t-1],0))}handleArrowRight(e,t){t<e.length-1&&(this.setTabIndex(e[t],-1),e[t+1].focus(),this.setTabIndex(e[t+1],0))}setTabIndex(e,t){e.setAttribute("tabindex",t)}initializeTagRemoveElements(e,t){e.forEach((i,o)=>{o===t?this.setTabIndex(e[t],0):e.length===t?this.setTabIndex(e[t-1],0):this.setTabIndex(i,-1),this.subscription.add($e(i,"keydown").subscribe(a=>{this.handleKeyDown(a,e,o)})),o!==0&&this.subscription.add($e(e,"blur").subscribe(()=>{this.setTabIndex(e[o],-1),this.setTabIndex(e[0],0)}))})}handleKeyDown(e,t,i){let o="Space",a="ArrowLeft",d="ArrowRight";e.code===o&&(e.preventDefault(),e.stopPropagation()),e.key===a?this.handleArrowLeft(t,i):e.key===d&&this.handleArrowRight(t,i)}focusOnRemoveTag(e,t){e.length===t?e[t-1]?.focus():e[t]?.focus()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-disclaimer-group"]],standalone:!1,features:[L,me],decls:1,vars:1,consts:[[1,"po-disclaimer-group"],[1,"po-disclaimer-group-title"],[1,"po-disclaimer-group-disclaimer-align",3,"p-label"],[1,"po-disclaimer-group-disclaimer-align",3,"p-value","p-removable"],[1,"po-disclaimer-group-disclaimer-align",3,"keydown","p-remove-all-action","p-label"],[1,"po-disclaimer-group-disclaimer-align",3,"p-close","p-value","p-removable"]],template:function(t,i){t&1&&y(0,Ua,6,2,"div",0),t&2&&C(i.disclaimers.length>0?0:-1)},dependencies:[St,gn],encapsulation:2,changeDetection:0})}return n})();var Ga=["inpsearch"],Qa=["container"];function $a(n,l){if(n&1){let e=b();h(0,"div",11)(1,"span",16),f("click",function(){s(e);let i=r();return p(i.onAdvancedFilter())})("keydown.enter",function(){s(e);let i=r();return p(i.onAdvancedFilter())}),I(2),u()()}if(n&2){let e=r();c(2),j(" ",e.literals.modalAdvancedSearch," ")}}function Ya(n,l){if(n&1){let e=b();h(0,"po-disclaimer-group",17),f("p-change",function(){s(e);let i=r();return p(i.onChangeDisclaimerGroup())}),u()}if(n&2){let e=r();m("p-disclaimers",e.disclaimerGroup==null?null:e.disclaimerGroup.disclaimers)("p-title",e.disclaimerGroup==null?null:e.disclaimerGroup.title)}}function Ja(n,l){if(n&1){let e=b();h(0,"po-disclaimer-group",18),f("p-remove",function(i){s(e);let o=r();return p(o.onUnselectFromDisclaimer(i.removedDisclaimer))})("p-remove-all",function(i){s(e);let o=r();return p(o.onAllUnselectedTag(i))}),u()}if(n&2){let e=r();m("p-disclaimers",e.selecteds)}}var Cn=(()=>{class n extends un{inputSearchEl;container;keyUpObservable=null;tableHeight;componentRef;dynamicForm;constructor(){let e=g(R),t=g(S);super(e,t)}ngOnInit(){super.ngOnInit(),this.setTableHeight()}onSelect(e){let t=D({value:e[this.fieldValue],label:e[this.fieldLabel]},e);this.multiple?this.selectedItems=this.selectedItems?[...this.selectedItems,t]:[t]:this.selectedItems=[t],this.selecteds=[...this.selectedItems]}onUnselect(e){this.multiple?this.selectedItems=this.selectedItems.filter(t=>t.value!==e[this.fieldValue]):this.selectedItems=[],this.selecteds=[...this.selectedItems]}onUnselectFromDisclaimer(e){this.selectedItems=this.selectedItems.filter(t=>t.value!==e.value),this.selectedItems.length===0?this.selecteds=[]:this.selecteds=[...this.selectedItems],this.poTable.unselectRowItem(t=>t[this.fieldValue]===e.value)}onAllSelected(e){let t=e.filter(i=>!this.selectedItems?.some(o=>o[this.fieldValue]===i[this.fieldValue])).map(i=>D({value:i[this.fieldValue],label:i[this.fieldLabel]},i));this.selectedItems=[...this.selectedItems,...t],this.selecteds=[...this.selectedItems]}onAllUnselected(e){let t=this.selectedItems?.filter(i=>!e.some(o=>o[this.fieldValue]===i[this.fieldValue]));t?.length?(this.selectedItems=[...t],this.selecteds=[...this.selectedItems]):(this.selectedItems=[],this.selecteds=[])}onAllUnselectedTag(e){this.poTable.unselectRows(),this.selectedItems=[],this.selecteds=[]}openModal(){this.poModal.open()}sortBy(e){let t=e.type==="ascending";Fo(this.items,e.column.property,t),this.sort=e}destroyDynamicForm(){this.componentRef&&this.componentRef.destroy()}onAdvancedFilter(){this.setupModalAdvancedFilter(),this.createDynamicForm()}setTableHeight(){this.tableHeight=this.infiniteScroll?515:615}setupModalAdvancedFilter(){this.dynamicFormValue={},this.isAdvancedFilter=!0}createDynamicForm(){import("./chunk-ER6BMA7Z.js").then(({PoDynamicFormComponent:e})=>{this.componentRef=this.container.createComponent(e),this.componentRef.instance.fields=this.advancedFilters,this.componentRef.instance.value=this.dynamicFormValue,this.componentRef.instance.formOutput.pipe(qe(t=>{this.dynamicForm=t,this.primaryActionAdvancedFilter.disabled=this.dynamicForm.invalid}),be(t=>t.valueChanges)).subscribe(()=>{this.primaryActionAdvancedFilter.disabled=this.dynamicForm.invalid}),this.changeDetector.markForCheck()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-lookup-modal"]],viewQuery:function(t,i){if(t&1&&(x(Ga,5),x(Qa,5,Ni)),t&2){let o;F(o=V())&&(i.inputSearchEl=o.first),F(o=V())&&(i.container=o.first)}},standalone:!1,features:[L],decls:18,vars:34,consts:[["iconLookup",""],["inpsearch",""],["poTable",""],["container",""],["p-click-out","false","p-hide-close","false","p-size","lg",3,"p-components-size","p-primary-action","p-secondary-action","p-title"],[3,"hidden"],[1,"po-lookup-header","po-pull-right",3,"p-optional"],[1,"po-lookup-filter-content"],[1,"po-field-icon-container-right"],["p-icon","ICON_SEARCH",1,"po-field-icon","po-icon-input",3,"click"],["name","contentSearch","type","text",1,"po-input","po-input-icon-right",3,"ngModelChange","keydown.enter","ngModel","placeholder"],[1,"po-lookup-advanced-search"],[1,"po-md-12",3,"p-disclaimers","p-title"],[1,"po-row","po-lookup-container-table"],[1,"po-md-12",3,"p-selected","p-unselected","p-all-selected","p-all-unselected","p-show-more","p-sort-by","p-change-visible-columns","p-restore-column-manager","p-components-size","p-selectable","p-hide-detail","p-single-select","p-hide-action-fixed-columns","p-sort","p-columns","p-height","p-hide-columns-manager","p-items","p-literals","p-loading","p-show-more-disabled","p-infinite-scroll","p-spacing","p-text-wrap","p-virtual-scroll"],[1,"po-md-12",3,"p-disclaimers"],["tabindex","0",1,"po-lookup-advanced-search-link",3,"click","keydown.enter"],[1,"po-md-12",3,"p-change","p-disclaimers","p-title"],[1,"po-md-12",3,"p-remove","p-remove-all","p-disclaimers"]],template:function(t,i){if(t&1){let o=b();h(0,"po-modal",4)(1,"div",5)(2,"po-field-container",6)(3,"div",7)(4,"div",8)(5,"po-icon",9,0),f("click",function(){return s(o),p(i.search())}),u()(),h(7,"input",10,1),ae("ngModelChange",function(d){return s(o),re(i.searchValue,d)||(i.searchValue=d),p(d)}),f("keydown.enter",function(){return s(o),p(i.search())}),u()(),y(9,$a,3,1,"div",11),u(),y(10,Ya,1,2,"po-disclaimer-group",12),h(11,"div",13)(12,"po-table",14,2),f("p-selected",function(d){return s(o),p(i.onSelect(d))})("p-unselected",function(d){return s(o),p(i.onUnselect(d))})("p-all-selected",function(d){return s(o),p(i.onAllSelected(d))})("p-all-unselected",function(d){return s(o),p(i.onAllUnselected(d))})("p-show-more",function(){return s(o),p(i.showMoreEvent())})("p-sort-by",function(d){return s(o),p(i.sortBy(d))})("p-change-visible-columns",function(d){return s(o),p(i.changeVisibleColumns.emit(d))})("p-restore-column-manager",function(d){return s(o),p(i.columnRestoreManager.emit(d))}),u()(),y(14,Ja,1,1,"po-disclaimer-group",15),u(),h(15,"div",5),_e(16,null,3),u()()}t&2&&(m("p-components-size",i.size)("p-primary-action",i.isAdvancedFilter?i.primaryActionAdvancedFilter:i.primaryAction)("p-secondary-action",i.isAdvancedFilter?i.secondaryActionAdvancedFilter:i.secondaryAction)("p-title",i.isAdvancedFilter?i.advancedFilterModalTitle:i.title),c(),m("hidden",i.isAdvancedFilter),c(),m("p-optional",!1),c(3),T("po-field-icon-aa",i.size==="small"),c(2),T("po-input-aa",i.size==="small"),ne("ngModel",i.searchValue),m("placeholder",i.literals.modalPlaceholder),c(2),C(i.advancedFilters&&i.advancedFilters.length>0?9:-1),c(),C(i.disclaimerGroup?10:-1),c(),z("data-multiple",i.multiple),c(),m("p-components-size",i.size)("p-selectable",!0)("p-hide-detail",!0)("p-single-select",!i.multiple)("p-hide-action-fixed-columns",!0)("p-sort",!0)("p-columns",i.columns)("p-height",i.tableHeight)("p-hide-columns-manager",i.hideColumnsManager)("p-items",i.items)("p-literals",i.tableLiterals)("p-loading",i.isLoading)("p-show-more-disabled",!i.hasNext)("p-infinite-scroll",i.infiniteScroll)("p-spacing",i.spacing)("p-text-wrap",i.textWrap)("p-virtual-scroll",i.virtualScroll),c(2),C(i.multiple?14:-1),c(),m("hidden",!i.isAdvancedFilter))},dependencies:[io,it,ot,_n,J,li,hi,X],encapsulation:2,changeDetection:0})}return n})();var bn=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(A(Yt))};static \u0275dir=O({type:n,selectors:[["","p-multiselect-option-template",""]],standalone:!1})}return n})();var Ne=function(n){return n[n.startsWith=0]="startsWith",n[n.contains=1]="contains",n[n.endsWith=2]="endsWith",n}(Ne||{});var Xa=400,vn="label",yn="value",Za="bottom",yi={en:{noData:"No data found",placeholderSearch:"Search",selectAll:"Select all",selectItem:"Select items"},es:{noData:"Datos no encontrados",placeholderSearch:"Busca",selectAll:"Seleccionar todo",selectItem:"Seleccionar items"},pt:{noData:"Nenhum dado encontrado",placeholderSearch:"Buscar",selectAll:"Selecionar todos",selectItem:"Selecionar itens"},ru:{noData:"\u0414\u0430\u043D\u043D\u044B\u0435 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B",placeholderSearch:"\u0438\u0441\u043A\u0430\u0442\u044C",selectAll:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0432\u0441\u0435",selectItem:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B"}},wn=(()=>{class n{cd;additionalHelpEventTrigger;additionalHelpTooltip;autoFocus=!1;blur=new v;label;help;optional;placeholder="";placeholderSearch="";name;hideSelectAll;fieldErrorMessage;errorLimit=!1;additionalHelp=new v;change=new v;keydown=new v;appendBox=!1;controlValueWithLabel=!1;listboxControlPosition=Za;selectedOptions=[];visibleOptionsDropdown=[];visibleTags=[];isServerSearching=!1;isFirstFilter=!0;filterSubject=new gt;service;defaultService;displayAdditionalHelp=!1;onModelTouched=null;clickOutListener;resizeListener;getObjectsByValuesSubscription;_filterService;_debounceTime=400;_disabled=!1;_filterMode=Ne.startsWith;_hideSearch=!1;_literals;_options;_required=!1;_sort=!1;_autoHeight=!1;_fieldLabel=vn;_fieldValue=yn;_size=void 0;language;lastLengthModel;onModelChange;validatorChange;autoHeightInitialValue;set filterService(e){e&&(this._filterService=e,this.autoHeight=this.autoHeightInitialValue!==void 0?this.autoHeightInitialValue:!0,this.options=[])}get filterService(){return this._filterService}set autoHeight(e){this._autoHeight=e,this.autoHeightInitialValue=e}get autoHeight(){return this._autoHeight}set debounceTime(e){let t=parseInt(e,10);this._debounceTime=!isNaN(t)&&t>0?t:Xa}get debounceTime(){return this._debounceTime}set literals(e){e instanceof Object&&!(e instanceof Array)?this._literals=D(D(D({},yi[te]),yi[this.language]),e):this._literals=yi[this.language]}get literals(){return this._literals||yi[this.language]}set required(e){this._required=e===""?!0:_(e),this.validateModel()}get required(){return this._required}showRequired=!1;set size(e){this._size=Z(e,N)}get size(){return this._size??Y(N)}set disabled(e){this._disabled=e===""?!0:_(e),this.validateModel(),this.updateVisibleItems()}get disabled(){return this._disabled}set hideSearch(e){this._hideSearch=e===""?!0:_(e)}get hideSearch(){return this._hideSearch}set options(e){this._options=e}get options(){return this._options}set sort(e){this._sort=e===""?!0:_(e),this.validAndSortOptions()}get sort(){return this._sort}set filterMode(e){switch(this._filterMode=e in Ne?e:Ne.startsWith,this._filterMode.toString()){case"startsWith":this._filterMode=Ne.startsWith;break;case"contains":this._filterMode=Ne.contains;break;case"endsWith":this._filterMode=Ne.endsWith;break}}get filterMode(){return this._filterMode}set fieldLabel(e){this._fieldLabel=e||vn,ie(this.filterService,"string")&&this.service&&(this.service.fieldLabel=this._fieldLabel)}get fieldLabel(){return this._fieldLabel}set fieldValue(e){this._fieldValue=e||yn,ie(this.filterService,"string")&&this.service&&(this.service.fieldValue=this._fieldValue)}get fieldValue(){return this._fieldValue}constructor(e,t){this.cd=t,this.language=e.getShortLanguage()}ngOnInit(){this.filterService&&this.setService(this.filterService),this.filterSubject.pipe(Ze(this.debounceTime),Gt(),qe(()=>this.isServerSearching=!0),be(e=>this.applyFilter(e)),qe(()=>this.isServerSearching=!1)).subscribe(),this.setLabelsAndValuesOptions(),this.validAndSortOptions(),this.updateList(this.options)}setService(e){ie(e,"object")?this.service=e:(this.service=this.defaultService,this.service.configProperties(e,this.fieldLabel,this.fieldValue)),this.isFirstFilter=!0}validAndSortOptions(){this.options&&this.options.length&&(wo(this.options,this.fieldValue),vo(this.options,this.fieldValue),this.setUndefinedLabels(this.options),this.sort&&Co(this.options,this.fieldLabel))}setUndefinedLabels(e){e.forEach(t=>{t[this.fieldLabel]||(t[this.fieldLabel]=t[this.fieldValue])})}updateList(e){e&&(this.visibleOptionsDropdown=e)}callOnChange(e){this.onModelChange&&(this.onModelChange(this.getValueUpdate(e)),this.eventChange(e))}eventChange(e){e&&this.lastLengthModel!==e.length&&this.change.emit(e),this.lastLengthModel=e?e.length:null}getValuesFromOptions(e){return e&&e.length?e.map(t=>t[this.fieldValue]):[]}getLabelByValue(e){let t=this.options.findIndex(i=>i[this.fieldValue]===e);return this.options[t].label}searchByLabel(e,t,i){if(e&&t&&t.length){let o=[];t.forEach(a=>{a[this.fieldLabel]&&this.compareMethod(e,a,i)&&o.push(a)}),this.visibleOptionsDropdown=o}else this.visibleOptionsDropdown=[...t]}compareMethod(e,t,i){switch(i){case Ne.startsWith:return this.startsWith(e,t);case Ne.contains:return this.contains(e,t);case Ne.endsWith:return this.endsWith(e,t)}}startsWith(e,t){return t[this.fieldLabel].toLowerCase().startsWith(e.toLowerCase())}contains(e,t){return t[this.fieldLabel].toLowerCase().indexOf(e.toLowerCase())>-1}endsWith(e,t){return t[this.fieldLabel].toLowerCase().endsWith(e.toLowerCase())}validate(e){return pe(this.required,this.disabled,e.value)?(this.cd?.markForCheck(),{required:{valid:!1}}):null}updateSelectedOptions(e,t=this.options){this.selectedOptions=[],e.length===0&&(this.lastLengthModel=void 0),this.filterService?this.selectedOptions=e:e.forEach(i=>{t.forEach(o=>{o[this.fieldValue]===i[this.fieldValue]&&this.selectedOptions.push(o)})}),this.updateVisibleItems()}writeValue(e){e=this.getValueWrite(e)||[],this.service&&e.length?this.getObjectsByValuesSubscription=this.service.getObjectsByValues(e).subscribe(t=>{this.updateSelectedOptions(t),this.callOnChange(this.selectedOptions)}):(this.updateSelectedOptions(e.map(t=>({[this.fieldValue]:t}))),this.selectedOptions&&this.selectedOptions.length<e.length&&this.callOnChange(this.selectedOptions))}setDisabledState(e){this.disabled=e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.validatorChange=e}getValueUpdate(e){return this.controlValueWithLabel&&e?.length?e.map(t=>({value:t[this.fieldValue],label:t[this.fieldLabel]})):this.getValuesFromOptions(e)}getValueWrite(e){return this.controlValueWithLabel&&e?.length&&e.every(t=>t?.value!==void 0)?e.map(t=>t.value):e}setLabelsAndValuesOptions(){this.fieldLabel&&this.fieldValue&&this.options&&this.options.map(e=>{e.label=e[this.fieldLabel],e.value=e[this.fieldValue]})}validateModel(){this.validatorChange&&this.validatorChange()}static \u0275fac=function(t){return new(t||n)(A(R),A(S))};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],autoFocus:[2,"p-auto-focus","autoFocus",_],label:[0,"p-label","label"],help:[0,"p-help","help"],optional:[0,"p-optional","optional"],placeholder:[0,"p-placeholder","placeholder"],placeholderSearch:[0,"p-placeholder-search","placeholderSearch"],name:"name",hideSelectAll:[2,"p-hide-select-all","hideSelectAll",_],fieldErrorMessage:[0,"p-field-error-message","fieldErrorMessage"],errorLimit:[0,"p-error-limit","errorLimit"],appendBox:[2,"p-append-in-body","appendBox",_],controlValueWithLabel:[2,"p-control-value-with-label","controlValueWithLabel",_],listboxControlPosition:[0,"p-listbox-control-position","listboxControlPosition"],filterService:[0,"p-filter-service","filterService"],autoHeight:[2,"p-auto-height","autoHeight",_],debounceTime:[0,"p-debounce-time","debounceTime"],literals:[0,"p-literals","literals"],required:[0,"p-required","required"],showRequired:[0,"p-show-required","showRequired"],size:[0,"p-size","size"],disabled:[0,"p-disabled","disabled"],hideSearch:[0,"p-hide-search","hideSearch"],options:[0,"p-options","options"],sort:[0,"p-sort","sort"],filterMode:[0,"p-filter-mode","filterMode"],fieldLabel:[0,"p-field-label","fieldLabel"],fieldValue:[0,"p-field-value","fieldValue"]},outputs:{blur:"p-blur",additionalHelp:"p-additional-help",change:"p-change",keydown:"p-keydown"},features:[G]})}return n})();var Ri=(()=>{class n{http=g(Ee);fieldLabel="label";fieldValue="value";_url;messages=[];get url(){return this._url}getFilteredData({value:e}){let t=e?{filter:e}:{};return this.http.get(this.url,{params:t}).pipe(we(i=>this.parseToArrayMultiselectOptions(i.items)))}getObjectsByValues(e){return this.http.get(`${this.url}?${this.fieldValue}=${e.toString()}`).pipe(we(t=>this.parseToArrayMultiselectOptions(t.items)))}configProperties(e,t,i){this._url=e,this.fieldLabel=t,this.fieldValue=i}parseToArrayMultiselectOptions(e){return e&&e.length>0?e.map(t=>this.parseToMultiselectOption(t)):[]}parseToMultiselectOption(e){let t=e[this.fieldLabel],i=e[this.fieldValue];return{[this.fieldLabel]:t,[this.fieldValue]:i}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var el=["container"],tl=["divElement"],il=["listbox"],Dn=(()=>{class n{cd=g(S);isServerSearching=!1;hideSearch=!1;literals;placeholderSearch;selectedOptions=[];options=[];visibleOptions=[];hideSelectAll=!1;fieldValue;fieldLabel;multiselectTemplate;containerWidth;size;changeSearch=new v;change=new v;closeDropdown=new v;container;divElement;listbox;scrollTop=0;show=!1;get hasOptions(){return!!this.options?.length}scrollTo(e){this.scrollTop=e<=2?0:e*44-88,this.cd.markForCheck()}isSelectedItem(e){return this.selectedOptions.some(t=>t[this.fieldValue]===e[this.fieldValue])}clickItem(e,t){if(t)this.updateSelectedValues(e,t);else{let{selected:i,option:o}=e;this.updateSelectedValues(i,o)}}onClickSelectAll(){let e=this.selectedOptions.map(({[this.fieldValue]:t})=>t);this.everyVisibleOptionsSelected(e)?this.selectedOptions=[]:this.selectedOptions=this.uniqueSelectedOptions(e),this.change.emit(this.selectedOptions)}updateSelectedValues(e,t){e?this.selectedOptions.push(t):this.selectedOptions=this.selectedOptions.filter(i=>i[this.fieldValue]!==t[this.fieldValue]),this.change.emit(this.selectedOptions)}everyVisibleOptionsSelected(e){return this.visibleOptions?.every(t=>e.includes(t[this.fieldValue]))}someVisibleOptionsSelected(e){return this.visibleOptions?.some(t=>e.includes(t[this.fieldValue]))}getStateSelectAll(){let e=this.selectedOptions.map(({[this.fieldValue]:t})=>t);return this.everyVisibleOptionsSelected(e)?!0:this.someVisibleOptionsSelected(e)?null:!1}callChangeSearch(e){this.changeSearch.emit(e)}controlVisibility(e){this.show=e,setTimeout(()=>{e&&this.listbox?.searchElement&&!this.hideSearch&&(this.listbox.searchElement.setFocus(),this.listbox.searchElement.clean())}),this.cd.markForCheck()}uniqueSelectedOptions(e){let t=[...this.selectedOptions];for(let i of this.visibleOptions)e.includes(i[this.fieldValue])||t.push(i);return t}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-multiselect-dropdown"]],viewQuery:function(t,i){if(t&1&&(x(el,7,P),x(tl,7,P),x(il,5)),t&2){let o;F(o=V())&&(i.container=o.first),F(o=V())&&(i.divElement=o.first),F(o=V())&&(i.listbox=o.first)}},inputs:{isServerSearching:[0,"p-searching","isServerSearching"],hideSearch:[0,"p-hide-search","hideSearch"],literals:[0,"p-literals","literals"],placeholderSearch:[0,"p-placeholder-search","placeholderSearch"],selectedOptions:[0,"p-selected-options","selectedOptions"],options:[0,"p-options","options"],visibleOptions:[0,"p-visible-options","visibleOptions"],hideSelectAll:[0,"p-hide-select-all","hideSelectAll"],fieldValue:[0,"p-field-value","fieldValue"],fieldLabel:[0,"p-field-label","fieldLabel"],multiselectTemplate:[0,"p-multiselect-template","multiselectTemplate"],containerWidth:[0,"p-container-width","containerWidth"],size:[0,"p-size","size"]},outputs:{changeSearch:"p-change-search",change:"p-change",closeDropdown:"p-close-dropdown"},standalone:!1,decls:7,vars:17,consts:[["container",""],["divElement",""],["listbox",""],[1,"po-multiselect-container",3,"hidden"],[3,"scrollTop"],["p-type","check",3,"p-change","p-change-all","p-change-search","p-close","p-items","p-selected-options","p-checkboxAllValue","p-field-value","p-field-value-search","p-field-label","p-literal-search","p-literals","p-is-searching","p-hide-search","p-hide-select-all","p-template","p-placeholder-search","p-size","p-container-width"]],template:function(t,i){if(t&1){let o=b();h(0,"div",3,0)(2,"div",4,1),pt(4),h(5,"po-listbox",5,2),f("p-change",function(d){return s(o),p(i.clickItem(d))})("p-change-all",function(){return s(o),p(i.onClickSelectAll())})("p-change-search",function(d){return s(o),p(i.callChangeSearch(d))})("p-close",function(){return s(o),p(i.closeDropdown.emit())}),u(),dt(),u()()}t&2&&(m("hidden",!i.show),c(2),m("scrollTop",i.scrollTop),c(3),m("p-items",i.visibleOptions)("p-selected-options",i.selectedOptions)("p-checkboxAllValue",i.getStateSelectAll())("p-field-value",i.fieldValue)("p-field-value-search",i.fieldValue)("p-field-label",i.fieldLabel)("p-literal-search",i.literals)("p-literals",i.literals)("p-is-searching",i.isServerSearching)("p-hide-search",i.hideSearch)("p-hide-select-all",i.hideSelectAll)("p-template",i.multiselectTemplate)("p-placeholder-search",i.placeholderSearch)("p-size",i.size)("p-container-width",i.containerWidth))},dependencies:[ai],encapsulation:2,changeDetection:0})}return n})();var Fn=["dropdownElement"],nl=["iconElement"],rl=["inputElement"],al=["outerContainer"];function ll(n,l){if(n&1&&(h(0,"span",15),I(1),u()),n&2){let e=r();T("po-multiselect-input-placeholder-aa",e.size==="small"),c(),j(" ",e.placeholder?e.placeholder:e.literals.selectItem," ")}}function sl(n,l){if(n&1){let e=b();h(0,"po-tag",16),f("p-close",function(i){let o=s(e).$implicit,a=r();return p(a.closeTag(o[a.fieldValue],i))}),u()}if(n&2){let e=l.$implicit,t=l.$index,i=r();T("po-clickable",e[i.fieldValue]===""&&!i.disabled),m("p-value",e[i.fieldLabel])("p-literals",t+1===i.visibleTags.length&&i.hasMoreTag?i.literalsTag:void 0)("p-removable",!0)("p-disabled",i.disabled)("p-append-in-body",i.appendBox)}}function pl(n,l){n&1&&_e(0)}function dl(n,l){if(n&1&&y(0,pl,1,0,"ng-container",17),n&2){r(2);let e=K(17);m("ngTemplateOutlet",e)}}function cl(n,l){if(n&1&&y(0,dl,1,1,"ng-template",13),n&2){r();let e=K(4);m("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayDisableClose",!0)}}function ul(n,l){n&1&&_e(0)}function hl(n,l){if(n&1&&y(0,ul,1,0,"ng-container",17),n&2){r();let e=K(17);m("ngTemplateOutlet",e)}}function ml(n,l){if(n&1){let e=b();h(0,"po-multiselect-dropdown",18,5),f("p-change",function(i){s(e);let o=r();return p(o.changeItems(i))})("p-change-search",function(i){s(e);let o=r();return p(o.changeSearch(i))})("p-close-dropdown",function(){s(e);let i=r();return p(i.controlDropdownVisibility(!1))})("keydown",function(i){s(e);let o=r();return p(o.onKeyDownDropdown(i,0))}),u()}if(n&2){let e=r();m("p-searching",e.isServerSearching)("p-hide-search",e.hideSearch)("p-hide-select-all",e.hideSelectAll)("p-literals",e.literals)("p-options",e.options)("p-visible-options",e.visibleOptionsDropdown)("p-selected-options",e.selectedOptions)("p-placeholder-search",e.placeholderSearch)("p-field-value",e.fieldValue)("p-field-label",e.fieldLabel)("p-multiselect-template",e.multiselectOptionTemplate)("p-size",e.size)("p-container-width",e.containerWidth)}}var fl=8,gl=52,_l=8,Vn={pt:{remove:"Remover todos os itens selecionados"},ru:{remove:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u0441\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B"},es:{remove:"Eliminar todos los elementos seleccionados"},en:{remove:"Clear all selected items"}},Cl=[Ri,Ae,{provide:Q,useExisting:q(()=>wi),multi:!0},{provide:$,useExisting:q(()=>wi),multi:!0}],wi=(()=>{class n extends wn{renderer=g(ve);changeDetector;el=g(P);controlPosition=g(Ae);defaultService=g(Ri);multiselectOptionTemplate;dropdownElement;dropdown;iconElement;inputElement;outerContainer;literalsTag;dropdownIcon="ICON_ARROW_DOWN";dropdownOpen=!1;initialized=!1;hasMoreTag;timeoutResize;visibleElement=!1;containerWidth;subscription=new de;enterCloseTag=!1;initCalculateItems=!0;isCalculateVisibleItems=!0;cacheOptions;focusOnTag=!1;constructor(){let e=g(S),t=g(R);super(t,e),this.changeDetector=e;let i=t.getShortLanguage();this.literalsTag=D(D({},Vn[te]),Vn[i])}ngAfterViewInit(){this.autoFocus&&this.focus(),this.initialized=!0}ngOnChanges(e){this.filterService&&(e.filterService||e.fieldValue||e.fieldLabel)&&this.setService(this.filterService)}ngDoCheck(){let e=this.inputElement.nativeElement.offsetWidth;(e&&!this.visibleElement&&this.initialized||e&&this.isCalculateVisibleItems)&&(this.debounceResize(),this.visibleElement=!0)}ngOnDestroy(){this.removeListeners(),this.getObjectsByValuesSubscription?.unsubscribe(),this.filterSubject?.unsubscribe(),this.subscription.unsubscribe()}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}focus(){this.disabled||this.inputElement.nativeElement.focus()}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}getInputWidth(){return this.el.nativeElement.querySelector(".po-multiselect-input").offsetWidth-gl}getTagsWidth(){let e=this.el.nativeElement.querySelectorAll("po-tag");return Array.from(e).map(t=>t.offsetWidth)}getErrorPattern(){return this.fieldErrorMessage&&this.hasInvalidClass()?this.fieldErrorMessage:""}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")}calculateVisibleItems(){this.hasMoreTag=!1;let e=this.getTagsWidth(),t=this.getInputWidth(),i=63,o=e[0];if(this.visibleTags=[],t>0){let a=0,d=0;for(d=0;d<this.selectedOptions.length;d++)if(a+=e[d]+_l,this.visibleTags.push(this.selectedOptions[d]),a>t){a-=e[d],this.isCalculateVisibleItems=!1;break}if(o||!this.selectedOptions.length){if(d===this.selectedOptions.length){this.isCalculateVisibleItems=!1;return}if(this.hasMoreTag=!0,a+i>t){this.visibleTags.splice(-2,2);let w="+"+(this.selectedOptions.length+1-d).toString();this.visibleTags.push({[this.fieldValue]:"",[this.fieldLabel]:w})}else{this.visibleTags.splice(-1,1);let w="+"+(this.selectedOptions.length-d).toString();this.visibleTags.push({[this.fieldValue]:"",[this.fieldLabel]:w})}}this.initCalculateItems&&setTimeout(()=>{this.handleKeyboardNavigationTag()},300),this.initCalculateItems=!1}this.changeDetector.markForCheck()}changeItems(e){this.updateSelectedOptions(e),this.callOnChange(this.selectedOptions),this.autoHeight&&this.dropdownOpen&&(this.changeDetector.detectChanges(),this.adjustContainerPosition()),setTimeout(()=>{this.handleKeyboardNavigationTag()},300)}updateVisibleItems(){this.selectedOptions&&(this.visibleTags=[].concat(this.selectedOptions)),this.debounceResize(),this.inputElement.nativeElement.offsetWidth||(this.isCalculateVisibleItems=!0)}debounceResize(){this.autoHeight||(clearTimeout(this.timeoutResize),this.timeoutResize=setTimeout(()=>{this.calculateVisibleItems()},200)),this.changeDetector.markForCheck()}onBlur(e){this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp(),typeof this.inputElement.nativeElement.getAttribute("aria-label")=="string"&&this.inputElement.nativeElement.getAttribute("aria-label").includes("Unselected")&&this.inputElement.nativeElement.setAttribute("aria-label",this.label?this.label:""),this.onModelTouched?.(),e.type==="blur"&&this.blur.emit()}onKeyDown(e){let t=document.activeElement===this.inputElement.nativeElement;if(e.shiftKey&&e.keyCode===oe.tab&&!this.focusOnTag&&this.controlDropdownVisibility(!1),this.focusOnTag=!1,e.keyCode===oe.tab&&this.appendBox&&this.dropdownOpen){e.preventDefault(),this.focusOnFirstItem();return}if(e.keyCode===oe.esc){e.preventDefault(),this.controlDropdownVisibility(!1);return}if(e.keyCode===oe.arrowDown){e.preventDefault(),this.controlDropdownVisibility(!0),this.dropdown?.listbox?.setFocus();return}if(e.keyCode===oe.enter&&!this.enterCloseTag)if(this.visibleTags.length===0){this.toggleDropdownVisibility(),this.focus();return}else{e.preventDefault(),this.toggleDropdownVisibility();return}e.keyCode===oe.space&&(e.preventDefault(),this.toggleDropdownVisibility()),this.enterCloseTag=!1,t&&this.keydown.emit(e)}toggleDropdownVisibility(){this.disabled||(this.filterService&&this.applyFilterInFirstClick(),this.controlDropdownVisibility(!this.dropdownOpen))}onKeyDownDropdown(e,t){e.key==="Tab"&&e.target.className.includes("po-listbox-item-type-check")&&(e.preventDefault(),this.inputElement.nativeElement.focus()),e.key==="Escape"&&(e.preventDefault(),this.controlDropdownVisibility(!1),setTimeout(()=>{this.inputElement.nativeElement.focus()},50))}openDropdown(e){e&&!this.disabled&&this.controlDropdownVisibility(!0)}controlDropdownVisibility(e){e?this.open():this.close()}scrollToSelectedOptions(){if(this.selectedOptions&&this.selectedOptions.length){let e=this.options.findIndex(t=>t[this.fieldValue]===this.selectedOptions[0][this.fieldValue]);this.dropdown.scrollTo(e)}}setVisibleOptionsDropdown(e){this.visibleOptionsDropdown=e,this.changeDetector.markForCheck()}changeSearch(e){(e.event.keyCode===oe.arrowDown||e.event.keyCode===oe.tab)&&this.focusOnFirstItem(),e&&e[this.fieldValue]!==void 0?this.filterService?this.filterSubject.next(e[this.fieldValue]):this.searchByLabel(e[this.fieldValue],this.options,this.filterMode):this.setVisibleOptionsDropdown(this.options),setTimeout(()=>this.adjustContainerPosition())}focusOnFirstItem(){let e=this.dropdown.listbox.element.nativeElement.querySelectorAll(".po-listbox-item-type-check"),t=e.length>0?e[0]:null;t?t.focus():(this.close(),this.inputElement.nativeElement.focus())}closeTag(e,t){let i;if(this.enterCloseTag=!0,e==null||typeof e=="string"&&e.includes("+")){i=null;let o=this.selectedOptions.filter(a=>!this.visibleTags.includes(a));for(let a of this.visibleTags)this.selectedOptions.includes(a)||(this.selectedOptions.splice(this.visibleTags.length-1,o.length),this.updateVisibleItems(),this.callOnChange(this.selectedOptions))}else i=this.selectedOptions.findIndex(o=>o[this.fieldValue]===e),this.selectedOptions.splice(i,1),this.updateVisibleItems(),this.callOnChange(this.selectedOptions);setTimeout(()=>{this.focusOnNextTag(i,t)},300)}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}wasClickedOnToggle(e){this.dropdownOpen&&!this.inputElement.nativeElement.contains(e.target)&&!this.iconElement.nativeElement.contains(e.target)&&!this.dropdownElement.nativeElement.contains(e.target)&&this.controlDropdownVisibility(!1)}applyFilter(e=""){let t={property:this.fieldLabel,value:e};return this.service.getFilteredData(t).pipe(Lt(i=>(this.isServerSearching=!1,We([]))),qe(i=>{this.setOptionsByApplyFilter(i)}))}applyFilterInFirstClick(){this.isFirstFilter?(this.isServerSearching=!0,this.filterSubject.next(new String)):this.options=[...this.cacheOptions]}setOptionsByApplyFilter(e){this.isFirstFilter&&(this.cacheOptions=[...e],this.isFirstFilter=!1),this.options=[...e],this.setVisibleOptionsDropdown(this.options)}adjustContainerPosition(){this.controlPosition.adjustPosition(this.listboxControlPosition)}close(){this.dropdownIcon="ICON_ARROW_DOWN",this.dropdown?.listbox?.searchElement?.resetKeys(),this.dropdownOpen=!1,this.dropdown?.controlVisibility(!1),this.setVisibleOptionsDropdown(this.options),this.removeListeners()}focusOnNextTag(e,t){if(t==="enter"){let i=this.el.nativeElement.querySelectorAll(".po-tag-remove");e=e||e===0?e:i.length,i.length===0&&(this.inputElement.nativeElement.focus(),this.inputElement.nativeElement.setAttribute("aria-label",`Unselected items ${this.label}`),this.controlDropdownVisibility(!0)),this.focusOnRemoveTag(i,e)}else e=0;this.handleKeyboardNavigationTag(e)}focusOnRemoveTag(e,t){e.length===t?e[t-1]?.focus():e[t]?.focus()}handleKeyboardNavigationTag(e=0){this.subscription.unsubscribe(),this.subscription=new de;let t=this.el.nativeElement.querySelectorAll(".po-tag-remove");this.initializeTagRemoveElements(t,e)}setTabIndex(e,t){e.setAttribute("tabindex",t)}handleArrowLeft(e,t){t>0&&(this.setTabIndex(e[t],-1),e[t-1].focus(),this.setTabIndex(e[t-1],0))}handleArrowRight(e,t){t<e.length-1&&(this.setTabIndex(e[t],-1),e[t+1].focus(),this.setTabIndex(e[t+1],0))}handleKeyDown(e,t,i){let o="Space",a="ArrowLeft",d="ArrowRight";this.focusOnTag=!0,e.code===o&&(e.preventDefault(),e.stopPropagation()),e.key===a?this.handleArrowLeft(t,i):e.key===d&&this.handleArrowRight(t,i)}initializeTagRemoveElements(e,t){e.forEach((i,o)=>{o===t?this.setTabIndex(e[t],0):e.length===t?this.setTabIndex(e[t-1],0):this.setTabIndex(i,-1),this.subscription.add($e(i,"keydown").subscribe(a=>{this.handleKeyDown(a,e,o)}))})}initializeListeners(){this.clickOutListener=this.renderer.listen("document","click",e=>{this.wasClickedOnToggle(e)}),this.resizeListener=this.renderer.listen("window","resize",()=>{this.updateVisibleItems(),rt()?this.adjustContainerPosition():this.close()}),window.addEventListener("scroll",this.onScroll,!0)}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}onScroll=()=>{this.adjustContainerPosition()};open(){this.dropdownIcon="ICON_ARROW_UP",this.dropdownOpen=!0,this.dropdown.controlVisibility(!0),this.setVisibleOptionsDropdown(this.options),this.initializeListeners(),this.scrollToSelectedOptions(),this.changeDetector.detectChanges(),this.setPositionDropdown(),this.dropdownOpen&&this.setContainerWidth()}removeListeners(){this.clickOutListener&&this.clickOutListener(),this.resizeListener&&this.resizeListener(),window.removeEventListener("scroll",this.onScroll,!0),this.changeDetector.markForCheck()}setContainerWidth(){this.outerContainer&&(this.containerWidth=this.outerContainer.nativeElement.offsetWidth)}setPositionDropdown(){this.controlPosition.setElements(this.dropdown.container.nativeElement,fl,this.inputElement,["top","bottom"],!0),this.adjustContainerPosition()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-multiselect"]],contentQueries:function(t,i,o){if(t&1&&ei(o,bn,7),t&2){let a;F(a=V())&&(i.multiselectOptionTemplate=a.first)}},viewQuery:function(t,i){if(t&1&&(x(Fn,5,P),x(Fn,5),x(nl,7,P),x(rl,7,P),x(al,5,P)),t&2){let o;F(o=V())&&(i.dropdownElement=o.first),F(o=V())&&(i.dropdown=o.first),F(o=V())&&(i.iconElement=o.first),F(o=V())&&(i.inputElement=o.first),F(o=V())&&(i.outerContainer=o.first)}},standalone:!1,features:[W(Cl),L,me],decls:18,vars:37,consts:[["outerContainer",""],["trigger","cdkOverlayOrigin"],["inputElement",""],["iconElement",""],["dropdownListbox",""],["dropdownElement",""],[3,"p-disabled","p-label","p-optional","p-required","p-show-required"],["cdkOverlayOrigin","",1,"po-field-container-content"],[1,"po-input-icon-right","po-multiselect-input",3,"keydown","click","blur","tabindex"],["ria-hidden","true",1,"po-multiselect-input-placeholder",3,"po-multiselect-input-placeholder-aa"],[3,"p-value","p-literals","p-removable","po-clickable","p-disabled","p-append-in-body"],[1,"po-field-icon-container-right"],[3,"p-icon","ngClass"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayDisableClose"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"],["ria-hidden","true",1,"po-multiselect-input-placeholder"],[3,"p-close","p-value","p-literals","p-removable","p-disabled","p-append-in-body"],[4,"ngTemplateOutlet"],[3,"p-change","p-change-search","p-close-dropdown","keydown","p-searching","p-hide-search","p-hide-select-all","p-literals","p-options","p-visible-options","p-selected-options","p-placeholder-search","p-field-value","p-field-label","p-multiselect-template","p-size","p-container-width"]],template:function(t,i){if(t&1){let o=b();h(0,"div",null,0)(2,"po-field-container",6)(3,"div",7,1)(5,"div",8,2),f("keydown",function(d){return s(o),p(i.onKeyDown(d))})("click",function(){return s(o),p(i.toggleDropdownVisibility())})("blur",function(d){return s(o),p(i.onBlur(d))}),y(7,ll,2,3,"span",9),fe(8,sl,1,7,"po-tag",10,Fe),h(10,"div",11),B(11,"po-icon",12,3),u()()(),y(13,cl,1,3,null,13)(14,hl,1,1,"ng-container"),h(15,"po-field-container-bottom",14),f("p-additional-help",function(){return s(o),p(i.emitAdditionalHelp())}),u()(),y(16,ml,2,13,"ng-template",null,4,ze),u()}t&2&&(c(2),m("p-disabled",i.disabled)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),c(),T("po-multiselect-show",i.dropdownOpen),c(2),T("po-multiselect-input-auto",i.autoHeight)("po-multiselect-input-static",!i.autoHeight)("po-multiselect-input-disabled",i.disabled)("po-multiselect-input-font",!i.disabled&&!(i.visibleTags!=null&&i.visibleTags.length))("po-multiselect-input-aa",i.size==="small"),m("tabindex",i.disabled?-1:0),z("disabled",i.disabled)("aria-label",i.label),c(2),C(!i.disabled&&!(i.visibleTags!=null&&i.visibleTags.length)?7:-1),c(),ge(i.visibleTags),c(3),je("po-field-icon ",i.disabled?"po-icon-input-disabled":"po-icon-input",""),T("po-field-icon-aa",i.size==="small"),Zt("p-icon",i.dropdownIcon),m("ngClass",i.disabled?"po-field-icon-disabled":""),c(2),C(i.appendBox?13:14),c(2),m("p-additional-help-tooltip",i.getAdditionalHelpTooltip())("p-append-in-body",i.appendBox)("p-help",i.help)("p-disabled",i.disabled)("p-error-pattern",i.getErrorPattern())("p-error-limit",i.errorLimit)("p-show-additional-help",i.displayAdditionalHelp)("p-show-additional-help-icon",i.showAdditionalHelpIcon()))},dependencies:[le,Te,wt,yt,ee,J,X,St,Dn],encapsulation:2,changeDetection:0})}return n})();var xn=(()=>{class n extends kt{type="number";invalidInputValueOnBlur=!1;constructor(e,t){super(e,t)}eventOnInput(e){if(!this.mask){let t=e.target.value,i=this.validMaxLength(this.maxlength,t);this.invalidInputValueOnBlur=!1,t!==i&&(t=i,this.inputEl.nativeElement.value=t),this.callOnChange(this.formatNumber(t)),this.errorAsyncProperties?.triggerMode==="changeModel"&&this.verifyErrorAsync()}}onBlur(e){let t=e.target;this.invalidInputValueOnBlur=t.value===""&&!t.validity.valid,this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp(),this.invalidInputValueOnBlur&&this.callOnChange("Valor Inv\xE1lido"),this.eventOnBlur(e)}onKeyDown(e){let t=document.activeElement===this.inputEl.nativeElement;this.isKeyAllowed(e)||(e.stopPropagation(),e.preventDefault()),t&&this.keydown.emit(e)}validMaxLength(e,t){if(e&&t.length>e){let i=t.toString().substring(0,e);return i&&this.isEndWithDot(i)?i.toString().substring(0,e-1):i}return t}writeValueModel(e){this.inputEl&&(e||e===0?this.mask?(this.inputEl.nativeElement.value=this.objMask.controlFormatting(String(e)),this.objMask.formatModel&&this.onChangePropagate(this.objMask.valueToModel)):this.inputEl.nativeElement.value=e:this.inputEl.nativeElement.value=""),this.changeModel.emit(e),this.verifyErrorAsync()}isEndWithDot(e){return e&&e.lastIndexOf(".")===e.length-1}formatNumber(e){return e?Number(e):null}isKeyAllowed(e){return this.isShortcut(e)||this.isControlKeys(e)||!this.isInvalidKey(e.key)}isInvalidKey(e){return new RegExp(/[a-zA-Z:;=_`^~"'?!@#$%&*()><{}\[\]/\\|]+/).test(e)}isShortcut(e){let t=e.keyCode,i=e.ctrlKey||e.metaKey;return i&&t===67||i&&t===86||i&&t===65||i&&t===88}isControlKeys(e){return["Backspace","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down","Tab","Delete","Home","End","Enter"].indexOf(e.key)!==-1}static \u0275fac=function(t){return new(t||n)(A(P),A(S))};static \u0275dir=O({type:n,features:[L]})}return n})();function vl(n,l){if(n&1&&(h(0,"div",3),B(1,"po-icon",8),u()),n&2){let e=r();c(),T("po-field-icon-disabled",e.disabled)("po-field-icon-aa",e.size==="small"),m("p-icon",e.icon)}}function yl(n,l){if(n&1){let e=b();h(0,"po-clean",9),f("p-change-event",function(i){s(e);let o=r();return p(o.clear(i))}),u()}if(n&2){let e=r();m("p-default-value",null)("p-element-ref",e.inputEl)("p-size",e.size)}}function wl(n,l){if(n&1){let e=b();h(0,"po-field-container-bottom",10),f("p-additional-help",function(){s(e);let i=r();return p(i.emitAdditionalHelp())}),u()}if(n&2){let e=r();m("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-append-in-body",e.appendBox)("p-help",e.help)("p-disabled",e.disabled)("p-error-limit",e.errorLimit)("p-error-pattern",e.getErrorPatternMessage())("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}var Sn=(()=>{class n extends xn{step="1";min;set setMin(e){this.min=isNaN(e)?void 0:e,this.validateModel()}max;set setMax(e){this.max=isNaN(e)?void 0:e,this.validateModel()}id=`po-number[${se()}]`;constructor(){let e=g(P),t=g(S);super(e,t)}onWheel(e){e.preventDefault()}extraValidation(e){return this.errorPattern=this.errorPattern!=="Valor Inv\xE1lido"?this.errorPattern:"",ci(this.min,e.value)?{min:{valid:!1}}:ui(this.max,e.value)?{max:{valid:!1}}:this.invalidInputValueOnBlur?(this.errorPattern=this.errorPattern||"Valor Inv\xE1lido",{number:{valid:!1}}):null}getErrorPatternMessage(){return this.errorPattern!==""&&this.containsInvalidClass()?this.errorPattern:""}containsInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&(this.inputEl.nativeElement.value!==""||this.showErrorMessageRequired&&(this.required||this.hasValidatorRequired))||this.invalidInputValueOnBlur}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-number"]],hostBindings:function(t,i){t&1&&f("wheel",function(a){return i.onWheel(a)})},inputs:{step:[0,"p-step","step"],setMin:[0,"p-min","setMin"],setMax:[0,"p-max","setMax"]},standalone:!1,features:[W([{provide:Q,useExisting:q(()=>n),multi:!0},{provide:$,useExisting:q(()=>n),multi:!0}]),L],decls:8,vars:30,consts:[["inp",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],[1,"po-field-icon-container-left"],["type","number",1,"po-input",3,"blur","focus","input","keydown","autocomplete","disabled","id","placeholder","readonly","required","tabindex"],[1,"po-field-icon-container-right"],[1,"po-icon-input",3,"p-default-value","p-element-ref","p-size"],[3,"p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-limit","p-error-pattern","p-show-additional-help","p-show-additional-help-icon"],[1,"po-field-icon","po-icon-input",3,"p-icon"],[1,"po-icon-input",3,"p-change-event","p-default-value","p-element-ref","p-size"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-limit","p-error-pattern","p-show-additional-help","p-show-additional-help-icon"]],template:function(t,i){if(t&1){let o=b();h(0,"po-field-container",1)(1,"div",2),y(2,vl,2,5,"div",3),h(3,"input",4,0),f("blur",function(d){return s(o),p(i.onBlur(d))})("focus",function(d){return s(o),p(i.eventOnFocus(d))})("input",function(d){return s(o),p(i.eventOnInput(d))})("keydown",function(d){return s(o),p(i.onKeyDown(d))}),u(),h(5,"div",5),y(6,yl,1,3,"po-clean",6),u()(),y(7,wl,1,8,"po-field-container-bottom",7),u()}t&2&&(m("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),c(2),C(i.icon?2:-1),c(),T("po-input-icon-left",i.icon)("po-input-icon-left-aa",i.icon&&i.size==="small")("po-input-icon-right",i.clean)("po-input-icon-right-aa",i.clean&&i.size==="small")("po-input-aa",i.size==="small"),m("autocomplete",i.autocomplete)("disabled",i.disabled)("id",i.id)("placeholder",i.disabled?"":i.placeholder)("readonly",i.readonly)("required",i.required)("tabindex",i.disabled?-1:0),z("max",i.max)("min",i.min)("name",i.name)("step",i.step),c(3),C(i.clean&&!i.disabled&&!i.readonly?6:-1),c(),C(i.readonly?-1:7))},dependencies:[ye,ee,J,X],encapsulation:2,changeDetection:0})}return n})();function Fl(n,l){if(n&1){let e=b();h(0,"po-clean",10),f("p-change-event",function(i){s(e);let o=r();return p(o.clear(i))}),u()}if(n&2){let e=r();m("p-element-ref",e.inputEl)("p-size",e.size)}}function Vl(n,l){if(n&1){let e=b();h(0,"po-icon",11),f("click",function(){s(e);let i=r();return p(i.showPassword())}),u()}if(n&2){let e=r();T("po-field-icon-aa",e.size==="small")("po-field-icon-disabled-aa",e.size==="small"),m("p-icon",e.visiblePassword?"ICON_EYE":"ICON_EYE_OFF")("ngClass",e.visiblePassword?"":"po-field-icon-disabled")}}function xl(n,l){if(n&1){let e=b();h(0,"po-field-container-bottom",12),f("p-additional-help",function(){s(e);let i=r();return p(i.emitAdditionalHelp())}),u()}if(n&2){let e=r();m("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-help",e.help)("p-disabled",e.disabled)("p-error-limit",e.errorLimit)("p-error-pattern",e.getErrorPattern())("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}var Pn=(()=>{class n extends kt{id=`po-password[${se()}]`;type="password";visiblePassword=!1;_hidePasswordPeek=!1;_noAutocompletePassword=!0;set hidePasswordPeek(e){this._hidePasswordPeek=_(e),e&&(this.visiblePassword=!1,this.type="password")}set noAutocomplete(e){this._noAutocompletePassword=_(e)}get noAutocomplete(){return this._noAutocompletePassword}get hidePasswordPeek(){return this._hidePasswordPeek}get autocomplete(){return this.noAutocomplete?"new-password":"on"}constructor(){let e=g(P),t=g(S);super(e,t)}extraValidation(e){return null}showPassword(){this.visiblePassword=!this.visiblePassword,this.type=this.type==="password"?"text":"password"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-password"]],inputs:{hidePasswordPeek:[0,"p-hide-password-peek","hidePasswordPeek"],noAutocomplete:[0,"p-no-autocomplete","noAutocomplete"]},standalone:!1,features:[W([{provide:Q,useExisting:q(()=>n),multi:!0},{provide:$,useExisting:q(()=>n),multi:!0}]),L],decls:10,vars:36,consts:[["inp",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],[1,"po-field-icon-container-left"],["p-icon","ICON_LOCK"],[1,"po-input","po-input-icon-left",3,"blur","click","focus","input","keydown","autocomplete","disabled","id","placeholder","readonly","required","type"],[1,"po-field-icon-container-right"],[1,"po-icon-input",3,"p-element-ref","p-size"],[1,"po-field-icon","po-icon-input",3,"p-icon","po-field-icon-aa","ngClass","po-field-icon-disabled-aa"],[3,"p-additional-help-tooltip","p-help","p-disabled","p-error-limit","p-error-pattern","p-show-additional-help","p-show-additional-help-icon"],[1,"po-icon-input",3,"p-change-event","p-element-ref","p-size"],[1,"po-field-icon","po-icon-input",3,"click","p-icon","ngClass"],[3,"p-additional-help","p-additional-help-tooltip","p-help","p-disabled","p-error-limit","p-error-pattern","p-show-additional-help","p-show-additional-help-icon"]],template:function(t,i){if(t&1){let o=b();h(0,"po-field-container",1)(1,"div",2)(2,"div",3),B(3,"po-icon",4),u(),h(4,"input",5,0),f("blur",function(d){return s(o),p(i.eventOnBlur(d))})("click",function(d){return s(o),p(i.eventOnClick(d))})("focus",function(d){return s(o),p(i.eventOnFocus(d))})("input",function(d){return s(o),p(i.eventOnInput(d))})("keydown",function(d){return s(o),p(i.onKeyDown(d))}),u(),h(6,"div",6),y(7,Fl,1,2,"po-clean",7)(8,Vl,1,6,"po-icon",8),u()(),y(9,xl,1,7,"po-field-container-bottom",9),u()}if(t&2){let o=K(5);m("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),c(3),je("po-field-icon ",i.disabled?"po-icon-input-disabled":"po-icon-input",""),T("po-field-icon-disabled",i.disabled)("po-field-icon-aa",i.size==="small"),c(),T("po-input-double-icon-right",i.clean&&o.value&&!i.hidePasswordPeek)("po-input-double-icon-right-aa",i.clean&&o.value&&!i.hidePasswordPeek&&i.size==="small")("po-input-icon-right",i.clean||!i.hidePasswordPeek)("po-input-icon-right-aa",(i.clean||!i.hidePasswordPeek)&&i.size==="small")("po-input-icon-left-aa",i.size==="small")("po-input-aa",i.size==="small"),m("autocomplete",i.autocomplete)("disabled",i.disabled)("id",i.id)("placeholder",i.disabled?"":i.placeholder)("readonly",i.readonly)("required",i.required)("type",i.disabled?"password":i.type),z("name",i.name),c(3),C(i.clean&&!i.disabled&&!i.readonly?7:-1),c(),C(!i.hidePasswordPeek&&!i.disabled?8:-1),c(),C(i.readonly?-1:9)}},dependencies:[le,ye,ee,J,X],encapsulation:2,changeDetection:0})}return n})();var Di=class{transform(l,e){if(!l)return"";e instanceof Array||(e=[e]);for(let t of e)l=l.replace(/(\{\w*\})+/,t);return l}};var at=(()=>{class n extends Di{static \u0275fac=(()=>{let e;return function(i){return(e||(e=et(n)))(i||n)}})();static \u0275pipe=Wi({name:"poI18n",type:n,pure:!0,standalone:!1})}return n})();var Ie=function(n){return n.Default="default",n.Error="error",n.Success="success",n}(Ie||{});var ue=function(n){return n[n.Uploaded=0]="Uploaded",n[n.Uploading=1]="Uploading",n[n.Error=2]="Error",n[n.None=3]="None",n}(ue||{});var Fi=class{name;rawFile;status;uid;extension;size;displayName;percent;constructor(l){l&&(this.name=l.name,this.displayName=`${l.name} - ${this.getFileSize(l.size)}`,this.extension=this.getExtension(l.name),this.size=l.size,this.rawFile=l,this.uid=this.generateUUID(),this.status=ue.None)}getExtension(l){return l?l.substr(l.lastIndexOf(".")).toLowerCase():""}generateUUID(){function l(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return l()+l()+"-"+l()+"-"+l()+"-"+l()+"-"+l()+l()+l()}getFileSize(l){let e=0;return l&&(e=Math.ceil(l/1024)),`${e} KB`}};var Tn=(()=>{class n{http=g(Ee);formField="files";requests=[];upload(e,t,i,o,a,d,w){let M=t.length,H={data:{},extraFormData:{},file:null,url:e,headers:i};for(let he=0;he<M;he++){let Re=new FormData,Se=t[he],lt=Se.rawFile.name;Re.append(this.formField,Se.rawFile,lt),o&&(H.file=Se,o.emit(H),Object.keys(H.extraFormData).forEach(U=>{Re.append(U,H.extraFormData[U])}),Re.append("data",JSON.stringify(H.data)),e=H.url,i=H.headers),this.sendFile(e,Se,i,Re,a,d,w)}}sendFile(e,t,i,o,a,d,w){let M=new de;M=this.getRequest(e,i,o).subscribe(H=>{if(H.type===eo.UploadProgress){this.addRequest(t,M);let he=Math.round(100*H.loaded/H.total);a(t,he)}else H instanceof to&&d(t,H)},H=>{w(t,H)})}getRequest(e,t,i){let o=new vt(t),a=new Zi("POST",e,i,{reportProgress:!0,headers:o});return this.http.request(a)}stopRequestByFile(e,t){let i=this.requests.find(o=>o.file.uid===e.uid);i&&(i.request.unsubscribe(),this.removeRequest(i),t())}removeRequest(e){let t=this.requests.indexOf(e);this.requests.splice(t,1)}addRequest(e,t){this.requests.some(o=>o.file.uid===e.uid)||this.requests.push({file:e,request:t})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Bt=(()=>{class n extends Tn{static \u0275fac=(()=>{let e;return function(i){return(e||(e=et(n)))(i||n)}})();static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ft={en:{files:"files",folders:"folders",selectFile:"Select file",selectFiles:"Select files",selectFolder:"Select folder",startSending:"Start sending",dragFilesHere:"Drag files here",dragFoldersHere:"Drag folders here",selectFilesOnComputer:"or select files on your computer",selectFolderOnComputer:"or select folder on your computer",dropFilesHere:"Drop files here",dropFoldersHere:"Drop folders here",invalidDropArea:"{0} were not dropped in the correct area",invalidFileType:"Failed to load {0} file(s) as it is not the allowed file type.",invalidAmount:"Failed to load {0} file(s), as it exceeds the limit amount of files.",invalidFormat:"Failed to load {0} file(s), as it does not match the format(s): {1}.",invalidSize:"Failed to load {0} files(s), as it is not the allowed size: from {1} to {2}.",numberOfFilesAllowed:"{0} file(s) allowed",allowedFormats:"Accepted file formats: {0}.",allowedFileSizeRange:"Size limit per file: from {0} to {1}",maxFileSizeAllowed:"Size limit per file: {0} maximum",minFileSizeAllowed:"Size limit per file: {0} minimum",errorOccurred:"An error has occurred",sentWithSuccess:"Sent with success"},es:{files:"archivos",folders:"carpetas",selectFile:"Seleccionar archivo",selectFiles:"Seleccionar archivos",selectFolder:"Seleccionar carpeta",startSending:"Iniciar carga",dragFilesHere:"Arrastra los archivos aqu\xED",dragFoldersHere:"Arrastra las carpetas aqu\xED",selectFilesOnComputer:"o selecciona los archivos en tu computadora",selectFolderOnComputer:"o selecciona la carpeta en tu computadora",dropFilesHere:"Deja los archivos aqu\xED",dropFoldersHere:"Deja las carpetas aqu\xED",invalidDropArea:"Los {0} no se insertaron en la ubicaci\xF3n correcta",invalidFileType:"Error al cargar {0} archivo (s) ya que no es el tipo de archivo permitido",invalidAmount:"Error al cargar {0} archivo (s) ya que excede la cantidad limite de archivos.",invalidFormat:"Error al cargar {0} archivo (s) ya que no coincide con el formato (s): {1}.",invalidSize:"Error al cargar {0} archivo (s) ya que no cumple con el tama\xF1o permitido: desde {1} hasta {2}.",numberOfFilesAllowed:"{0} archivo(s) permitido(s)",allowedFormats:"Formatos aceptados: {0}.",allowedFileSizeRange:"Limite de tama\xF1o de archivo: desde {0} hasta {1}",maxFileSizeAllowed:"Limite de tama\xF1o de archivo: hasta {0}",minFileSizeAllowed:"Limite de tama\xF1o de archivo: minimo {0}",errorOccurred:"Ocurrio un error",sentWithSuccess:"Enviado con \xE9xito"},pt:{files:"arquivos",folders:"diret\xF3rios",selectFile:"Selecionar arquivo",selectFiles:"Selecionar arquivos",selectFolder:"Selecionar pasta",startSending:"Iniciar envio",dragFilesHere:"Arraste os arquivos aqui",dragFoldersHere:"Arraste as pastas aqui",selectFilesOnComputer:"ou selecione os arquivos no computador",selectFolderOnComputer:"ou selecione a pasta no computador",dropFilesHere:"Solte os arquivos aqui",dropFoldersHere:"Solte as pastas aqui",invalidDropArea:"Os {0} n\xE3o foram inseridos no local correto",invalidFileType:"Falha ao carregar {0} arquivo (s), pois n\xE3o \xE9 o tipo de arquivo permitido",invalidAmount:"Falha ao carregar {0} arquivo(s), pois excede(m) a quantidade limite de arquivos.",invalidFormat:"Falha ao carregar {0} arquivo(s), pois n\xE3o corresponde(m) ao(s) formato(s): {1}.",invalidSize:"Falha ao carregar {0} arquivo(s), pois n\xE3o atende ao tamanho permitido: {1} at\xE9 {2}.",numberOfFilesAllowed:"Quantidade m\xE1xima: {0} arquivo(s)",allowedFormats:"Formatos adotados: {0}.",allowedFileSizeRange:"Limite de tamanho por arquivo: de {0} at\xE9 {1}",maxFileSizeAllowed:"Limite de tamanho por arquivo: at\xE9 {0}",minFileSizeAllowed:"Limite de tamanho por arquivo: no m\xEDnimo {0}",errorOccurred:"Ocorreu um erro",sentWithSuccess:"Enviado com sucesso"},ru:{files:"\u0444\u0430\u0439\u043B\u044B",folders:"\u043F\u0430\u043F\u043A\u0438 \u0441 \u0444\u0430\u0439\u043B\u0430\u043C\u0438",selectFile:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043B",selectFiles:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043B\u044B",selectFolder:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0430\u043F\u043A\u0443 \u0441 \u0444\u0430\u0439\u043B\u0430\u043C\u0438",startSending:"\u041D\u0430\u0447\u0430\u0442\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0443",dragFilesHere:"\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043B\u044B \u0441\u044E\u0434\u0430",dragFoldersHere:"\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044E\u0434\u0430 \u043F\u0430\u043F\u043A\u0438",selectFilesOnComputer:"\u0438\u043B\u0438 \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043B\u044B \u043D\u0430 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0435",selectFolderOnComputer:"\u0438\u043B\u0438 \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0430\u043F\u043A\u0443 \u043D\u0430 \u0432\u0430\u0448\u0435\u043C \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0435",dropFilesHere:"\u041E\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u0444\u0430\u0439\u043B\u044B \u0437\u0434\u0435\u0441\u044C",dropFoldersHere:"\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044E\u0434\u0430 \u043F\u0430\u043F\u043A\u0438",invalidDropArea:"{0} \u043D\u0435 \u0431\u044B\u043B\u0438 \u0432\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u044B \u0432 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E\u043C \u043C\u0435\u0441\u0442\u0435.",invalidFileType:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0444\u0430\u0439\u043B\u044B {0}, \u0442\u0430\u043A \u043A\u0430\u043A \u044D\u0442\u043E \u043D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0442\u0438\u043F \u0444\u0430\u0439\u043B\u0430",invalidAmount:"N\xE3o foi poss\xEDvel carregar os arquivos {0} porque eles excederam o limite de arquivos.",invalidFormat:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0444\u0430\u0439\u043B\u044B {0}, \u0442\u0430\u043A \u043A\u0430\u043A \u043E\u043D\u0438 \u043D\u0435 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044E\u0442 \u0444\u043E\u0440\u043C\u0430\u0442\u0443 (\u0430\u043C): {1}.",invalidSize:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0444\u0430\u0439\u043B\u044B {0}, \u043F\u043E\u0441\u043A\u043E\u043B\u044C\u043A\u0443 \u043E\u043D\u0438 \u043D\u0435 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044E\u0442 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u043D\u043E\u043C\u0443 \u0440\u0430\u0437\u043C\u0435\u0440\u0443: \u043E\u0442 {1} \u0434\u043E {2}.",numberOfFilesAllowed:"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E: {0} \u0444\u0430\u0439\u043B\u043E\u0432",allowedFormats:"\u0424\u043E\u0440\u043C\u0430\u0442\u044B \u043F\u0440\u0438\u043D\u044F\u0442\u044B: {0}.",allowedFileSizeRange:"\u041E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0438\u0435 \u0440\u0430\u0437\u043C\u0435\u0440\u0430 \u0444\u0430\u0439\u043B\u0430: \u043E\u0442 {0} \u0434\u043E {1}",maxFileSizeAllowed:"\u041E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0438\u0435 \u0440\u0430\u0437\u043C\u0435\u0440\u0430 \u0444\u0430\u0439\u043B\u0430: \u0434\u043E {0}",minFileSizeAllowed:"\u041E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0438\u0435 \u0440\u0430\u0437\u043C\u0435\u0440\u0430 \u0444\u0430\u0439\u043B\u0430: \u043D\u0435 \u043C\u0435\u043D\u0435\u0435 {0}",errorOccurred:"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430.",sentWithSuccess:"\u0423\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E"}},El="files",kl=31457280,Ml=0,En=(()=>{class n{uploadService;additionalHelpEventTrigger;additionalHelpTooltip;appendBox=!1;autoFocus=!1;dragDropHeight;label;help;url;name="file";autoUpload=!1;disabledRemoveFile=!1;optional;headers;requiredUrl=!0;additionalHelp=new v;customAction;customActionClick=new v;keydown=new v;onUpload=new v;onError=new v;onSuccess=new v;ngModelChange=new v;allowedExtensions;currentFiles;canHandleDirectory;displayAdditionalHelp=!1;onModelChange;extensionNotAllowed=0;quantityNotAllowed=0;sizeNotAllowed=0;onModelTouched=null;_directory;_disabled;_dragDrop=!1;_fileRestrictions;_formField;_hideRestrictionsInfo;_hideSelectButton;_hideSendButton;_isMultiple;_literals;_required;_size=void 0;language;validatorChange;set directory(e){this._directory=_(e),this.canHandleDirectory=this._directory&&!mo()&&!rt(),this.setDirectoryAttribute(this.canHandleDirectory)}get directory(){return this._directory}set dragDrop(e){this._dragDrop=_(e)}get dragDrop(){return this._dragDrop}set hideRestrictionsInfo(e){this._hideRestrictionsInfo=_(e)}get hideRestrictionsInfo(){return this._hideRestrictionsInfo}set hideSelectButton(e){this._hideSelectButton=_(e)}get hideSelectButton(){return this._hideSelectButton}set hideSendButton(e){this._hideSendButton=_(e)}get hideSendButton(){return this._hideSendButton}set literals(e){e instanceof Object&&!(e instanceof Array)?this._literals=D(D(D({},ft[te]),ft[this.language]),e):this._literals=ft[this.language]}get literals(){return this._literals||ft[this.language]}set fileRestrictions(e){this._fileRestrictions=this.initRestrictions(e),this.setAllowedExtensions(e)}get fileRestrictions(){return this._fileRestrictions}set formField(e){this._formField=e&&typeof e=="string"?e:El,this.getUploadService().formField=this.formField}get formField(){return this._formField}set disabled(e){this._disabled=_(e),this.validateModel(this.currentFiles)}get disabled(){return this._disabled}set isMultiple(e){this._isMultiple=_(e)}get isMultiple(){return this.canHandleDirectory?!0:this._isMultiple}set required(e){this._required=_(e),this.validateModel(this.currentFiles)}get required(){return this._required}showRequired=!1;set size(e){this._size=Z(e,N)}get size(){return this._size??Y(N)}constructor(e,t){this.uploadService=e,this.language=t.getShortLanguage()}setDisabledState(e){this.disabled=e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.validatorChange=e}validate(e){if(pe(this.required,this.disabled,e.value))return{required:{valid:!1}}}writeValue(e){e?go(this.currentFiles,e)||(this.currentFiles=this.parseFiles(e)):this.currentFiles=void 0}isExceededFileLimit(e){return this.isMultiple&&this.fileRestrictions&&this.fileRestrictions.maxFiles>0&&this.fileRestrictions.maxFiles<=e}parseFiles(e){let t=this.currentFiles||[],i=e.length;for(let o=0;o<i;o++){if(this.isExceededFileLimit(t.length)){this.quantityNotAllowed=i-this.fileRestrictions.maxFiles;break}let a=new Fi(e[o]);this.checkRestrictions(a)&&(t=this.insertFileInFiles(a,t))}return this.sendFeedback(),t}validateModel(e){this.validatorChange&&this.validatorChange(e)}checkRestrictions(e){let t=this.fileRestrictions;if(t){let i=t.allowedExtensions,o=t.minFileSize,a=t.maxFileSize,d=i?this.isAllowedExtension(e.extension,i):!0,w=e.size>=o&&e.size<=a;return w||(this.sizeNotAllowed=this.sizeNotAllowed+1),d&&w}return!0}existsFileSameName(e,t){return t.some(i=>e.name===i.name)}getUploadService(){return this.uploadService}insertFileInFiles(e,t){return this.existsFileSameName(e,t)?this.updateExistsFileInFiles(e,t):(this.isMultiple?t.push(e):t.splice(0,t.length,e),t)}isAllowedExtension(e,t=[]){let i=t.some(o=>o.toLowerCase()===e);return i||(this.extensionNotAllowed=this.extensionNotAllowed+1),i}setAllowedExtensions(e={}){let t=e.allowedExtensions||[];this.allowedExtensions=t.join(",")}initRestrictions(e){if(!e)return;let t=e.minFileSize||Ml,i=e.maxFileSize||kl;return He(D({},e),{maxFileSize:i,minFileSize:t})}updateExistsFileInFiles(e,t){let i=t.findIndex(o=>e.name===o.name&&o.status!==ue.Uploaded);return i!==-1&&t.splice(i,1,e),t}static \u0275fac=function(t){return new(t||n)(A(Bt),A(R))};static \u0275dir=O({type:n,hostVars:1,hostBindings:function(t,i){t&2&&z("p-required-url",i.requiredUrl)},inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],appendBox:[2,"p-append-in-body","appendBox",_],autoFocus:[2,"p-auto-focus","autoFocus",_],dragDropHeight:[0,"p-drag-drop-height","dragDropHeight"],label:[0,"p-label","label"],help:[0,"p-help","help"],url:[0,"p-url","url"],name:"name",autoUpload:[0,"p-auto-upload","autoUpload"],disabledRemoveFile:[2,"p-disabled-remove-file","disabledRemoveFile",_],optional:[0,"p-optional","optional"],headers:[0,"p-headers","headers"],requiredUrl:[2,"p-required-url","requiredUrl",_],customAction:[0,"p-custom-action","customAction"],directory:[0,"p-directory","directory"],dragDrop:[0,"p-drag-drop","dragDrop"],hideRestrictionsInfo:[0,"p-hide-restrictions-info","hideRestrictionsInfo"],hideSelectButton:[0,"p-hide-select-button","hideSelectButton"],hideSendButton:[0,"p-hide-send-button","hideSendButton"],literals:[0,"p-literals","literals"],fileRestrictions:[0,"p-restrictions","fileRestrictions"],formField:[0,"p-form-field","formField"],disabled:[0,"p-disabled","disabled"],isMultiple:[0,"p-multiple","isMultiple"],required:[0,"p-required","required"],showRequired:[0,"p-show-required","showRequired"],size:[0,"p-size","size"]},outputs:{additionalHelp:"p-additional-help",customActionClick:"p-custom-action-click",keydown:"p-keydown",onUpload:"p-upload",onError:"p-error",onSuccess:"p-success",ngModelChange:"ngModelChange"},features:[G]})}return n})();var Al=["selectFilesLink"],Ll=n=>({"po-upload-drag-drop-area-disabled":n}),Ol=n=>({"po-clickable":n});function Il(n,l){if(n&1&&(B(0,"po-icon",3),h(1,"div",4),I(2),u()),n&2){let e=r();c(2),j(" ",e.directoryCompatible?e.literals==null?null:e.literals.dropFoldersHere:e.literals==null?null:e.literals.dropFilesHere," ")}}function Rl(n,l){if(n&1){let e=b();B(0,"po-icon",5),h(1,"div",6),I(2),u(),h(3,"button",7,0),f("click",function(){s(e);let i=r();return p(i.selectFiles.emit())}),I(5),u()}if(n&2){let e=r();c(2),j(" ",e.directoryCompatible?e.literals==null?null:e.literals.dragFoldersHere:e.literals==null?null:e.literals.dragFilesHere," "),c(),m("disabled",e.disabled)("ngClass",Ue(4,Ol,!e.disabled)),c(2),j(" ",e.directoryCompatible?e.literals==null?null:e.literals.selectFolderOnComputer:e.literals==null?null:e.literals.selectFilesOnComputer," ")}}var Mt=(()=>{class n{elementRef=g(P);directoryCompatible;disabled;height;literals;overlay;selectFiles=new v;selectFilesLinkElement;focus(){this.selectFilesLinkElement.nativeElement.focus()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-upload-drag-drop-area"]],viewQuery:function(t,i){if(t&1&&x(Al,5),t&2){let o;F(o=V())&&(i.selectFilesLinkElement=o.first)}},inputs:{directoryCompatible:[0,"p-directory-compatible","directoryCompatible"],disabled:[0,"p-disabled","disabled"],height:[0,"p-height","height"],literals:[0,"p-literals","literals"],overlay:[0,"p-overlay","overlay"]},outputs:{selectFiles:"p-select-files"},standalone:!1,decls:4,vars:6,consts:[["selectFilesLink",""],[1,"po-upload-drag-drop-area",3,"ngClass"],[1,"po-upload-drag-drop-area-container"],["p-icon","ICON_UPLOAD_CLOUD",1,"po-upload-drag-drop-area-overlay-icon"],[1,"po-upload-drag-drop-area-overlay-label"],["p-icon","ICON_UPLOAD_CLOUD",1,"po-upload-drag-drop-area-icon"],[1,"po-upload-drag-drop-area-label"],[1,"po-upload-drag-drop-area-select-files",3,"click","disabled","ngClass"]],template:function(t,i){t&1&&(h(0,"div",1)(1,"div",2),y(2,Il,3,1)(3,Rl,6,6),u()()),t&2&&(Jt("height",i.height,"px"),m("ngClass",Ue(4,Ll,i.disabled)),c(2),C(i.overlay&&!i.disabled?2:3))},dependencies:[le,X],encapsulation:2,changeDetection:0})}return n})();var Mn=(()=>{class n{i18nPipe=g(at);notification=g(si);areaElement;directoryCompatible;disabled;literals;dragLeave=new v;dragOver=new v;fileChange=new v;timeout;files;invalidFileType;onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.timeout=setTimeout(()=>this.dragLeave.emit(),30)}onDragOver(e){e.preventDefault(),e.stopPropagation(),clearTimeout(this.timeout),this.disabled||this.dragOver.emit()}onDrop(e){e.preventDefault(),e.stopPropagation(),this.getFilesFromDataTransferItems(e),this.dragLeave.emit()}getFilesFromDataTransferItems(e){if(!this.disabled)if(this.invalidFileType=0,this.directoryCompatible)this.getOnlyDirectories(e.dataTransfer.items).then(()=>{this.sendFiles(e,this.files)});else{let t=this.getOnlyFiles(e.dataTransfer);this.sendFiles(e,t)}}getFilesFromEntry(e){return Xe(this,null,function*(){if(e.isFile)return[yield this.readFile(e)];if(e.isDirectory)return yield this.readDirectory(e)})}getOnlyDirectories(e){return Xe(this,null,function*(){let t=[];for(let i of e)t.push(i.webkitGetAsEntry());this.files=[];for(let i of t)if(i.isFile)this.invalidFileType++;else{let o=yield this.getFilesFromEntry(i);this.files=this.files.concat(o)}})}getOnlyFiles(e){let t=Array.from(e.files),i=Array.from(e.items).map(o=>o.webkitGetAsEntry());return t.reduce((o,a)=>i.find(w=>w.name===a.name).isFile?o.concat(a):(this.invalidFileType++,o),[])}readFile(e){return new Promise(t=>{e.file(i=>{t(i)})})}readDirectory(e){return Xe(this,null,function*(){let t=e.createReader(),i=[],o=yield this.readDirectoryEntries(t);return i=i.concat(o),i})}readDirectoryEntries(e){return new Promise(t=>{e.readEntries(i=>Xe(this,null,function*(){let o=[];for(let a of i){let d=yield this.getFilesFromEntry(a);o=o.concat(d)}t(o)}))})}sendFeedback(e){e&&this.setPipeArguments("invalidFileType",e)}sendFiles(e,t){if(this.areaElement.contains(e.target))t.length>0&&this.fileChange.emit(t),this.sendFeedback(this.invalidFileType);else{let i=this.directoryCompatible?this.literals.folders:this.literals.files;this.setPipeArguments("invalidDropArea",i)}}setPipeArguments(e,t){let i=this.i18nPipe.transform(this.literals[e],t);this.notification.information(i)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=O({type:n,selectors:[["","p-upload-drag-drop",""]],hostBindings:function(t,i){t&1&&f("dragleave",function(a){return i.onDragLeave(a)},!1,$t)("dragover",function(a){return i.onDragOver(a)},!1,$t)("drop",function(a){return i.onDrop(a)},!1,$t)},inputs:{areaElement:[0,"p-area-element","areaElement"],directoryCompatible:[0,"p-directory-compatible","directoryCompatible"],disabled:[0,"p-disabled","disabled"],literals:[0,"p-literals","literals"]},outputs:{dragLeave:"p-drag-leave",dragOver:"p-drag-over",fileChange:"p-file-change"},standalone:!1,features:[W([at])]})}return n})();var ql=["DragDropAreaFixed"],An=(()=>{class n{renderer=g(ve);DragDropAreaFixed;directoryCompatible;disabled;literals;target;areaElement=new v;ngAfterViewInit(){this.target&&this.setPosition(this.target),this.areaElement.emit(this.DragDropAreaFixed.nativeElement)}setPosition(e){let t=e.nativeElement.getBoundingClientRect();["bottom","left","height","right","top","width"].forEach(o=>{let a=t[o];this.renderer.setStyle(this.DragDropAreaFixed.nativeElement,o,`${a}px`)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-upload-drag-drop-area-overlay"]],viewQuery:function(t,i){if(t&1&&x(ql,7,P),t&2){let o;F(o=V())&&(i.DragDropAreaFixed=o.first)}},inputs:{directoryCompatible:[0,"p-directory-compatible","directoryCompatible"],disabled:[0,"p-disabled","disabled"],literals:[0,"p-literals","literals"],target:[0,"p-target","target"]},outputs:{areaElement:"p-area-element"},standalone:!1,decls:3,vars:4,consts:[["DragDropAreaFixed",""],[1,"po-overlay-fixed"],[1,"po-upload-drag-drop-area-overlay",3,"p-directory-compatible","p-disabled","p-literals","p-overlay"]],template:function(t,i){t&1&&(h(0,"div",1),B(1,"po-upload-drag-drop-area",2,0),u()),t&2&&(c(),m("p-directory-compatible",i.directoryCompatible)("p-disabled",i.disabled)("p-literals",i.literals)("p-overlay",!0))},dependencies:[Mt],encapsulation:2,changeDetection:0})}return n})();var Bl=["dragDropOverlay"];function Nl(n,l){if(n&1){let e=b();h(0,"po-upload-drag-drop-area-overlay",3,0),f("p-area-element",function(i){s(e);let o=r();return p(o.onAreaElement(i))}),u()}if(n&2){let e=r();m("p-directory-compatible",e.directoryCompatible)("p-disabled",e.disabled)("p-literals",e.literals)("p-target",e.dragDropAreaComponent.elementRef)}}var Ln=320,On=160,Vi=(()=>{class n{changeDetector=g(S);dragDropOverlayElement;dragDropAreaComponent;directoryCompatible;disabled;literals;fileChange=new v;selectFiles=new v;areaElement;isDragOver=!1;_dragDropHeight=Ln;set dragDropHeight(e){let t=Me(e,Ln);this._dragDropHeight=t<On?On:t}get dragDropHeight(){return this._dragDropHeight}focus(){this.dragDropAreaComponent.focus()}onAreaElement(e){this.areaElement=e,this.changeDetector.detectChanges()}onDragLeave(){this.isDragOver=!1}onDragOver(){this.isDragOver=!0}onFileChange(e){this.isDragOver=!1,this.fileChange.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-upload-drag-drop"]],viewQuery:function(t,i){if(t&1&&(x(Bl,5,P),x(Mt,7)),t&2){let o;F(o=V())&&(i.dragDropOverlayElement=o.first),F(o=V())&&(i.dragDropAreaComponent=o.first)}},inputs:{directoryCompatible:[0,"p-directory-compatible","directoryCompatible"],disabled:[0,"p-disabled","disabled"],literals:[0,"p-literals","literals"],dragDropHeight:[0,"p-drag-drop-height","dragDropHeight"]},outputs:{fileChange:"p-file-change",selectFiles:"p-select-files"},standalone:!1,decls:2,vars:7,consts:[["dragDropOverlay",""],[3,"p-directory-compatible","p-disabled","p-literals","p-target"],["p-upload-drag-drop","",3,"p-drag-leave","p-drag-over","p-file-change","p-select-files","p-area-element","p-directory-compatible","p-disabled","p-height","p-literals","p-overlay"],[3,"p-area-element","p-directory-compatible","p-disabled","p-literals","p-target"]],template:function(t,i){t&1&&(y(0,Nl,2,4,"po-upload-drag-drop-area-overlay",1),h(1,"po-upload-drag-drop-area",2),f("p-drag-leave",function(){return i.onDragLeave()})("p-drag-over",function(){return i.onDragOver()})("p-file-change",function(a){return i.onFileChange(a)})("p-select-files",function(){return i.selectFiles.emit()}),u()),t&2&&(C(i.isDragOver?0:-1),c(),m("p-area-element",i.areaElement)("p-directory-compatible",i.directoryCompatible)("p-disabled",i.disabled)("p-height",i.dragDropHeight)("p-literals",i.literals)("p-overlay",!1))},dependencies:[Mn,An,Mt],encapsulation:2,changeDetection:0})}return n})();var In={en:{cancel:"Cancel",retry:"Retry"},es:{cancel:"Cancelar",retry:"Procesar de nuevo"},pt:{cancel:"Cancelar",retry:"Tentar Novamente"},ru:{cancel:"\u041E\u0442\u043C\u0435\u043D\u0430",retry:"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C \u043F\u043E\u043F\u044B\u0442\u043A\u0443"}};var Nt=function(n){return n.medium="medium",n.large="large",n}(Nt||{});var jl=100,Hi=0,Rn=(()=>{class n{disabledCancel=!1;info;infoIcon;status=Ie.Default;text;customAction;customActionClick=new v;cancel=new v;retry=new v;_indeterminate;_value=0;_size="large";_sizeActions=void 0;set indeterminate(e){this._indeterminate=_(e)}get indeterminate(){return this._indeterminate}set value(e){let t=Me(e,Hi),i=this.isProgressRangeValue(t);this._value=i?t:Hi}get value(){return this._value}set size(e){this._size=Nt[e]?Nt[e]:Nt.large}get size(){return this._size}set sizeActions(e){this._sizeActions=Z(e,N)}get sizeActions(){return this._sizeActions??Y(N)}showPercentage=!1;isProgressRangeValue(e){return e>=Hi&&e<=jl}static \u0275fac=function(t){return new(t||n)};static \u0275dir=O({type:n,inputs:{disabledCancel:[2,"p-disabled-cancel","disabledCancel",_],info:[0,"p-info","info"],infoIcon:[0,"p-info-icon","infoIcon"],status:[0,"p-status","status"],text:[0,"p-text","text"],customAction:[0,"p-custom-action","customAction"],indeterminate:[0,"p-indeterminate","indeterminate"],value:[0,"p-value","value"],size:[0,"p-size","size"],sizeActions:[0,"p-size-actions","sizeActions"],showPercentage:[2,"p-show-percentage","showPercentage",_]},outputs:{customActionClick:"p-custom-action-click",cancel:"p-cancel",retry:"p-retry"},features:[G]})}return n})();function Ul(n,l){if(n&1&&(h(0,"div",0),B(1,"div",2)(2,"div",3),u()),n&2){let e=r();z("aria-valuenow",e.value),c(2),Jt("left","-"+(100-e.value)+"%")}}function Kl(n,l){n&1&&(h(0,"div",1),B(1,"div",4),u())}var Hn=(()=>{class n{indeterminate;value;get valueScale(){return`${this.value/100}`}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-progress-bar"]],inputs:{indeterminate:[0,"p-indeterminate","indeterminate"],value:[0,"p-value","value"]},standalone:!1,decls:2,vars:2,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100","aria-live","polite",1,"po-progress-bar-default"],[1,"po-progress-bar-indeterminate-track"],[1,"po-progress-bar-element","po-progress-bar-primary"],[1,"po-progress-bar-element","po-progress-bar-secondary"],[1,"po-progress-bar-indeterminate-track-bar"]],template:function(t,i){t&1&&y(0,Ul,3,3,"div",0)(1,Kl,2,0,"div",1),t&2&&(C(i.indeterminate?-1:0),c(),C(i.indeterminate?1:-1))},encapsulation:2,changeDetection:0})}return n})();function Ql(n,l){if(n&1&&(h(0,"div",1),B(1,"po-label",12),u()),n&2){let e=r();c(),m("p-label",e.text)}}function $l(n,l){if(n&1&&B(0,"po-icon",13),n&2){let e=r();T("po-progress-info-icon-error",e.status==="error"),m("p-icon",e.infoIcon)}}function Yl(n,l){n&1&&B(0,"po-icon",6)}function Jl(n,l){if(n&1&&(h(0,"span",14),I(1),u()),n&2){let e=r();T("po-progress-info-text-error",e.status==="error"),c(),Pe(e.info)}}function Xl(n,l){if(n&1&&(h(0,"span"),I(1),u()),n&2){let e=r();c(),j("",e.value,"%")}}function Zl(n,l){if(n&1){let e=b();h(0,"po-button",15),f("p-click",function(){s(e);let i=r();return p(i.emitRetry())}),u()}if(n&2){let e=r();m("p-aria-label",e.literals.retry)("p-size",e.sizeActions)}}function es(n,l){if(n&1){let e=b();h(0,"po-button",16),f("p-click",function(){s(e);let i=r();return p(i.callAction())}),u()}if(n&2){let e=r();m("p-danger",e.customAction.type==="danger")("p-disabled",e.actionIsDisabled(e.customAction))("p-label",e.customAction.label||"")("p-icon",e.customAction.icon)("p-size",e.sizeActions)}}function ts(n,l){if(n&1){let e=b();h(0,"po-button",17),f("p-click",function(){s(e);let i=r();return p(i.emitCancellation())}),u()}if(n&2){let e=r();m("p-disabled",e.disabledCancel)("p-aria-label",e.literals.cancel)("p-danger",!0)("p-size",e.sizeActions)}}var qn=(()=>{class n extends Rn{language;literals;get isAllowCancel(){return!!this.cancel.observers.length&&this.status!==Ie.Success}get isAllowInfoError(){return!!(!this.infoIcon&&this.info&&this.status===Ie.Error)}get isAllowRetry(){return!!this.retry.observers.length&&this.status===Ie.Error}get statusClass(){return this.status===Ie.Success?"po-progress-success":this.status===Ie.Error?"po-progress-error":"po-progress-default"}poLanguageService=g(R);router=g(so);ngOnInit(){this.language=this.poLanguageService.getShortLanguage(),this.literals=D({},In[this.language])}emitCancellation(){this.cancel.emit(this.status)}emitRetry(){this.retry.emit()}actionIsDisabled(e){return ie(e.disabled,"function")?e.disabled(e):e.disabled}callAction(){this.customActionClick.emit()}isActionVisible(e){if(e&&(e.label||e.icon))return e.visible!==void 0?ie(e.visible,"function")?e.visible():!!e.visible:!0}static \u0275fac=(()=>{let e;return function(i){return(e||(e=et(n)))(i||n)}})();static \u0275cmp=k({type:n,selectors:[["po-progress"]],standalone:!1,features:[L],decls:13,vars:14,consts:[[1,"po-progress",3,"ngClass"],[1,"po-progress-description"],[3,"p-indeterminate","p-value"],[1,"po-progress-info"],[1,"po-progress-info-left"],[3,"p-icon","po-progress-info-icon-error"],["p-icon","ICON_EXCLAMATION",1,"po-progress-info-icon-error"],[1,"po-progress-info-text",3,"po-progress-info-text-error"],[1,"po-progress-info-right"],["p-icon","ICON_REFRESH","p-kind","tertiary",3,"p-aria-label","p-size"],[1,"po-progress-custom-button",3,"p-danger","p-disabled","p-label","p-icon","p-size"],["p-icon","ICON_CLOSE","p-kind","secondary",3,"p-disabled","p-aria-label","p-danger","p-size"],[3,"p-label"],[3,"p-icon"],[1,"po-progress-info-text"],["p-icon","ICON_REFRESH","p-kind","tertiary",3,"p-click","p-aria-label","p-size"],[1,"po-progress-custom-button",3,"p-click","p-danger","p-disabled","p-label","p-icon","p-size"],["p-icon","ICON_CLOSE","p-kind","secondary",3,"p-click","p-disabled","p-aria-label","p-danger","p-size"]],template:function(t,i){t&1&&(h(0,"div",0),y(1,Ql,2,1,"div",1),B(2,"po-progress-bar",2),h(3,"div",3)(4,"div",4),y(5,$l,1,3,"po-icon",5)(6,Yl,1,0,"po-icon",6)(7,Jl,2,3,"span",7),u(),h(8,"div",8),y(9,Xl,2,1,"span")(10,Zl,1,2,"po-button",9)(11,es,1,5,"po-button",10)(12,ts,1,4,"po-button",11),u()()()),t&2&&(m("ngClass",i.statusClass),c(),C(i.text?1:-1),c(),je("po-progress-bar po-progress-bar-",i.size,""),m("p-indeterminate",i.indeterminate)("p-value",i.value),c(3),C(i.infoIcon?5:-1),c(),C(i.isAllowInfoError?6:-1),c(),C(i.info?7:-1),c(2),C(i.showPercentage&&!i.indeterminate?9:-1),c(),C(i.isAllowRetry?10:-1),c(),C(i.isActionVisible(i.customAction)?11:-1),c(),C(i.isAllowCancel?12:-1))},dependencies:[le,Pt,X,xo,Hn],encapsulation:2,changeDetection:0})}return n})();var os=(n,l)=>[n,l];function ns(n,l){if(n&1&&(h(0,"p",0),I(1),Ct(2,"poI18n"),u()),n&2){let e=r();c(),j(" ",bt(2,1,e.literals==null?null:e.literals.numberOfFilesAllowed,e.maxFiles)," ")}}function rs(n,l){if(n&1&&(h(0,"p",0),I(1),Ct(2,"poI18n"),u()),n&2){let e=r();c(),j(" ",bt(2,1,e.literals==null?null:e.literals.allowedFormats,e.allowedExtensions)," ")}}function as(n,l){if(n&1&&(h(0,"span"),I(1),Ct(2,"poI18n"),u()),n&2){let e=r(2);c(),j(" ",bt(2,1,e.literals==null?null:e.literals.allowedFileSizeRange,$i(4,os,e.minFileSize,e.maxFileSize))," ")}}function ls(n,l){if(n&1&&(h(0,"span"),I(1),Ct(2,"poI18n"),u()),n&2){let e=r(2);c(),j(" ",bt(2,1,e.literals==null?null:e.literals.minFileSizeAllowed,e.minFileSize)," ")}}function ss(n,l){if(n&1&&(h(0,"span"),I(1),Ct(2,"poI18n"),u()),n&2){let e=r(2);c(),j(" ",bt(2,1,e.literals==null?null:e.literals.maxFileSizeAllowed,e.maxFileSize)," ")}}function ps(n,l){if(n&1&&(h(0,"p",0)(1,"span"),I(2),u(),y(3,as,3,7,"span")(4,ls,3,4,"span")(5,ss,3,4,"span"),u()),n&2){let e=r();c(2),Pe(e.literals==null?null:e.literals.allowedSizes),c(),C(e.minFileSize&&e.maxFileSize?3:-1),c(),C(e.minFileSize&&!e.maxFileSize?4:-1),c(),C(e.maxFileSize&&!e.minFileSize?5:-1)}}var zn=(()=>{class n{changeDetector=g(S);maxFiles;literals;_allowedExtensions;_maxFileSize;_minFileSize;language;set allowedExtensions(e){this._allowedExtensions=this.formatAllowedExtensions(e)}get allowedExtensions(){return this._allowedExtensions}set maxFileSize(e){this._maxFileSize=Dt(e)}get maxFileSize(){return this._maxFileSize}set minFileSize(e){this._minFileSize=Dt(e)}get minFileSize(){return this._minFileSize}constructor(){let e=g(R);this.language=e.getShortLanguage()}ngOnInit(){this.setLiterals()}formatAllowedExtensions(e){let t={pt:"e",en:"and",es:"y",ru:"\u0438"};return e?e.join(", ").toUpperCase().replace(/,(?=[^,]*$)/,` ${t[this.language]}`):void 0}setLiterals(){this.literals=D(D({},ft[te]),ft[this.language]),this.changeDetector.detectChanges()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-upload-file-restrictions"]],inputs:{maxFiles:[0,"p-max-files","maxFiles"],allowedExtensions:[0,"p-allowed-extensions","allowedExtensions"],maxFileSize:[0,"p-max-file-size","maxFileSize"],minFileSize:[0,"p-min-file-size","minFileSize"]},standalone:!1,decls:3,vars:3,consts:[[1,"po-font-text-small"]],template:function(t,i){t&1&&y(0,ns,3,4,"p",0)(1,rs,3,4,"p",0)(2,ps,6,4,"p",0),t&2&&(C(i.maxFiles>1?0:-1),c(),C(i.allowedExtensions?1:-1),c(),C(i.minFileSize||i.maxFileSize?2:-1))},dependencies:[at],encapsulation:2,changeDetection:0})}return n})();var us=["inputFile"],hs=["uploadButton"],ms=n=>({"po-upload-file-restrictions-drag-drop":n}),fs=n=>({"po-upload-progress-container-area po-pt-2 po-pl-1":n});function gs(n,l){if(n&1){let e=b();h(0,"po-upload-drag-drop",12),f("p-file-change",function(i){s(e);let o=r();return p(o.onFileChangeDragDrop(i))})("p-select-files",function(){s(e);let i=r();return p(i.selectFiles())}),u()}if(n&2){let e=r();m("p-directory-compatible",e.canHandleDirectory)("p-disabled",e.isDisabled)("p-drag-drop-height",e.dragDropHeight)("p-literals",e.literals)}}function _s(n,l){if(n&1){let e=b();h(0,"po-button",13,1),f("p-blur",function(){s(e);let i=r();return p(i.onBlur())})("p-click",function(){s(e);let i=r();return p(i.selectFiles())})("keydown",function(i){s(e);let o=r();return p(o.onKeyDown(i))}),u()}if(n&2){let e=r();m("p-disabled",e.isDisabled)("p-label",e.selectFileButtonLabel)("p-size",e.size)}}function Cs(n,l){if(n&1&&B(0,"po-upload-file-restrictions",8),n&2){let e=r();m("ngClass",Ue(5,ms,e.displayDragDrop))("p-allowed-extensions",e.fileRestrictions==null?null:e.fileRestrictions.allowedExtensions)("p-max-files",e.maxFiles)("p-max-file-size",e.fileRestrictions==null?null:e.fileRestrictions.maxFileSize)("p-min-file-size",e.fileRestrictions==null?null:e.fileRestrictions.minFileSize)}}function bs(n,l){if(n&1){let e=b();h(0,"po-progress",17),f("p-custom-action-click",function(){let i=s(e).$implicit,o=r(2);return p(o.customClick(i))})("p-cancel",function(){let i=s(e).$implicit,o=r(2);return p(o.cancel(i))})("p-retry",function(){let i=s(e).$implicit,o=r(2);return p(o.uploadFiles([i]))}),u()}if(n&2){let e=l.$implicit,t=r(2);m("p-disabled-cancel",t.disabledRemoveFile)("p-info",t.infoByUploadStatus[e.status]==null?null:t.infoByUploadStatus[e.status].text(e.percent))("p-info-icon",t.infoByUploadStatus[e.status]==null?null:t.infoByUploadStatus[e.status].icon)("p-status",t.progressStatusByFileStatus[e.status])("p-text",e.displayName)("p-value",e.percent)("p-custom-action",t.customAction)("p-size-actions",t.size)}}function vs(n,l){if(n&1&&(h(0,"div",9)(1,"po-container",14)(2,"div",15),fe(3,bs,1,8,"po-progress",16,Xt().trackByFn,!0),u()()()),n&2){let e=r();c(),m("p-height",e.hasMoreThanFourItems?280:"auto")("p-no-border",!e.hasMoreThanFourItems)("p-no-padding",!e.hasMoreThanFourItems),c(),m("ngClass",Ue(4,fs,e.hasMoreThanFourItems)),c(),ge(e.currentFiles)}}function ys(n,l){if(n&1){let e=b();h(0,"po-button",18),f("p-click",function(){s(e);let i=r();return p(i.uploadFiles(i.currentFiles))}),u()}if(n&2){let e=r();T("po-mt-3",e.hasMoreThanFourItems),m("p-disabled",e.hasAnyFileUploading(e.currentFiles))("p-label",e.literals.startSending)("p-size",e.size)}}var Bn=(()=>{class n extends En{renderer=g(ve);i18nPipe=g(at);notification=g(si);cd=g(S);inputFile;poUploadDragDropComponent;uploadButton;id=`po-upload[${se()}]`;infoByUploadStatus={[ue.Uploaded]:{text:()=>this.literals.sentWithSuccess,icon:"ICON_OK"},[ue.Error]:{text:()=>this.literals.errorOccurred},[ue.Uploading]:{text:e=>e+"%"}};progressStatusByFileStatus={[ue.Uploaded]:Ie.Success,[ue.Error]:Ie.Error};calledByCleanInputValue=!1;constructor(){let e=g(Bt),t=g(R);super(e,t)}get displayDragDrop(){return this.dragDrop&&!rt()}get displaySendButton(){let e=this.currentFiles||[];return!this.hideSendButton&&!this.autoUpload&&e.length>0&&this.hasFileNotUploaded&&this.requiredUrl}get selectFileButtonLabel(){return this.canHandleDirectory?this.literals.selectFolder:this.isMultiple?this.literals.selectFiles:this.literals.selectFile}get hasMoreThanFourItems(){return this.currentFiles&&this.currentFiles.length>4}get hasMultipleFiles(){return this.currentFiles&&this.currentFiles.length>1}get hasFileNotUploaded(){return Array.isArray(this.currentFiles)?this.currentFiles.some(e=>e.status!==ue.Uploaded):!1}get isDisabled(){let e=this.currentFiles||[];return this.requiredUrl?!!(this.hasAnyFileUploading(e)||!this.url||this.disabled||this.isExceededFileLimit(e.length)):!!(this.hasAnyFileUploading(e)||this.autoUpload||this.disabled||this.isExceededFileLimit(e.length))}get maxFiles(){return this.isMultiple&&this.fileRestrictions&&this.fileRestrictions.maxFiles}cancel(e){if(e.status===ue.Uploading)return this.stopUpload(e);this.removeFile(e)}ngAfterViewInit(){this.autoFocus&&this.focus()}clear(){this.currentFiles=void 0,this.updateModel([]),this.cleanInputValue()}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}focus(){if(!this.disabled){if(this.uploadButton){this.uploadButton.focus();return}this.displayDragDrop&&this.poUploadDragDropComponent.focus()}}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}hasAnyFileUploading(e){return e&&e.length?e.some(t=>t.status===ue.Uploading):!1}isAllowCancelEvent(e){return e!==ue.Uploaded}onBlur(){!this.isUploadButtonFocused()&&this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp()}onFileChange(e){if(this.calledByCleanInputValue)return this.calledByCleanInputValue=!1,e.preventDefault();let t=e.target.files;this.updateFiles(t),this.cleanInputValue()}onFileChangeDragDrop(e){this.updateFiles(e)}onKeyDown(e){this.isUploadButtonFocused()&&this.keydown.emit(e)}removeFile(e){let t=this.currentFiles.indexOf(e);this.currentFiles.splice(t,1),this.updateModel([...this.currentFiles])}selectFiles(){this.onModelTouched?.(),this.calledByCleanInputValue=!1,this.inputFile.nativeElement.click()}sendFeedback(){if(this.sizeNotAllowed>0){let e=Dt(this.fileRestrictions.minFileSize),t=Dt(this.fileRestrictions.maxFileSize),i=[this.sizeNotAllowed,e||"0",t];this.setPipeArguments("invalidSize",i),this.sizeNotAllowed=0}if(this.extensionNotAllowed>0){let e=this.fileRestrictions.allowedExtensions.join(", ").toUpperCase(),t=[this.extensionNotAllowed,e];this.setPipeArguments("invalidFormat",t),this.extensionNotAllowed=0}if(this.quantityNotAllowed>0){let e=[this.quantityNotAllowed];this.setPipeArguments("invalidAmount",e),this.quantityNotAllowed=0}}sendFiles(){this.currentFiles&&this.currentFiles.length&&this.uploadFiles(this.currentFiles)}setDirectoryAttribute(e){e?this.renderer.setAttribute(this.inputFile.nativeElement,"webkitdirectory","true"):this.renderer.removeAttribute(this.inputFile.nativeElement,"webkitdirectory")}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}stopUpload(e){this.uploadService.stopRequestByFile(e,()=>{this.autoUpload?this.removeFile(e):this.stopUploadHandler(e),this.cd.markForCheck()})}trackByFn(e,t){return t.uid}uploadFiles(e){let t=e.filter(i=>i.status!==ue.Uploaded);this.uploadService.upload(this.url,t,this.headers,this.onUpload,(i,o)=>{this.uploadingHandler(i,o)},(i,o)=>{this.responseHandler(i,ue.Uploaded),this.onSuccess.emit(o)},(i,o)=>{this.responseHandler(i,ue.Error),this.onError.emit(o)})}customClick(e){this.customAction&&this.customActionClick.emit(e)}cleanInputValue(){this.calledByCleanInputValue=!0,this.inputFile.nativeElement.value="",this.cd.detectChanges()}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}isUploadButtonFocused(){return document.activeElement===this.uploadButton.buttonElement.nativeElement}responseHandler(e,t){e.status=t,e.percent=100,this.cd.markForCheck()}setPipeArguments(e,t){let i=this.i18nPipe.transform(this.literals[e],t);this.notification.information(i)}stopUploadHandler(e){e.status=ue.None,e.percent=0,this.cd.markForCheck()}updateFiles(e){this.currentFiles=this.parseFiles(e),this.updateModel([...this.currentFiles]),this.autoUpload&&this.uploadFiles(this.currentFiles)}updateModel(e){let t=this.mapCleanUploadFiles(e);this.onModelChange?this.onModelChange(t):this.ngModelChange.emit(t)}uploadingHandler(e,t){e.status=ue.Uploading,e.percent=t,this.cd.markForCheck()}mapCleanUploadFiles(e){let t=i=>{let w=i,{percent:o,displayName:a}=w;return Kt(w,["percent","displayName"])};return e.map(t)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-upload"]],viewQuery:function(t,i){if(t&1&&(x(us,7,P),x(Vi,5),x(hs,5)),t&2){let o;F(o=V())&&(i.inputFile=o.first),F(o=V())&&(i.poUploadDragDropComponent=o.first),F(o=V())&&(i.uploadButton=o.first)}},standalone:!1,features:[W([at,Bt,{provide:Q,useExisting:q(()=>n),multi:!0},{provide:$,useExisting:q(()=>n),multi:!0}]),L],decls:11,vars:23,consts:[["inputFile",""],["uploadButton",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],[1,"po-upload"],["type","file",1,"po-upload-input",3,"change","accept","id","disabled","multiple","required"],[3,"p-directory-compatible","p-disabled","p-drag-drop-height","p-literals"],["for","file",1,"po-upload-button",3,"p-disabled","p-label","p-size"],[1,"po-upload-file-restrictions",3,"ngClass","p-allowed-extensions","p-max-files","p-max-file-size","p-min-file-size"],[1,"po-upload-progress-container"],["p-kind","primary",1,"po-upload-send-button",3,"po-mt-3","p-disabled","p-label","p-size"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-show-additional-help","p-show-additional-help-icon"],[3,"p-file-change","p-select-files","p-directory-compatible","p-disabled","p-drag-drop-height","p-literals"],["for","file",1,"po-upload-button",3,"p-blur","p-click","keydown","p-disabled","p-label","p-size"],[3,"p-height","p-no-border","p-no-padding"],[3,"ngClass"],[3,"p-disabled-cancel","p-info","p-info-icon","p-status","p-text","p-value","p-custom-action","p-size-actions"],[3,"p-custom-action-click","p-cancel","p-retry","p-disabled-cancel","p-info","p-info-icon","p-status","p-text","p-value","p-custom-action","p-size-actions"],["p-kind","primary",1,"po-upload-send-button",3,"p-click","p-disabled","p-label","p-size"]],template:function(t,i){if(t&1){let o=b();h(0,"po-field-container",2)(1,"div",3)(2,"div",4)(3,"input",5,0),f("change",function(d){return s(o),p(i.onFileChange(d))}),u(),y(5,gs,1,4,"po-upload-drag-drop",6)(6,_s,2,3,"po-button",7)(7,Cs,1,7,"po-upload-file-restrictions",8)(8,vs,5,6,"div",9)(9,ys,1,5,"po-button",10),u()(),h(10,"po-field-container-bottom",11),f("p-additional-help",function(){return s(o),p(i.emitAdditionalHelp())}),u()()}t&2&&(m("p-disabled",i.isDisabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),c(3),m("accept",i.allowedExtensions)("id",i.id)("disabled",i.isDisabled)("multiple",i.isMultiple)("required",i.required),z("name",i.name),c(2),C(i.displayDragDrop?5:-1),c(),C(!i.hideSelectButton&&!i.displayDragDrop?6:-1),c(),C(i.fileRestrictions&&!i.hideRestrictionsInfo?7:-1),c(),C(i.currentFiles&&i.currentFiles.length?8:-1),c(),C(i.displaySendButton?9:-1),c(),m("p-additional-help-tooltip",i.getAdditionalHelpTooltip())("p-append-in-body",i.appendBox)("p-help",i.help)("p-disabled",i.disabled)("p-show-additional-help",i.displayAdditionalHelp)("p-show-additional-help-icon",i.showAdditionalHelpIcon()))},dependencies:[le,Pt,pi,ee,J,qn,Vi,zn],encapsulation:2,changeDetection:0})}return n})();var Nn=(()=>{class n extends Eo{changeDetector;optional=!1;required=!1;fieldErrorMessage;errorLimit=!1;showRequired=!1;hasValidatorRequired=!1;onValidatorChange;constructor(e){super(),this.changeDetector=e}validate(e){return!this.hasValidatorRequired&&this.fieldErrorMessage&&e.hasValidator(ke.required)&&(this.hasValidatorRequired=!0),pe(this.required||this.hasValidatorRequired,this.disabled,e.value)?(this.changeDetector.markForCheck(),{required:{valid:!1}}):this.extraValidation(e)}registerOnValidatorChange(e){this.onValidatorChange=e}validateModel(){this.onValidatorChange&&this.onValidatorChange()}static \u0275fac=function(t){return new(t||n)(A(S))};static \u0275dir=O({type:n,inputs:{optional:[2,"p-optional","optional",_],required:[2,"p-required","required",_],fieldErrorMessage:[0,"p-field-error-message","fieldErrorMessage"],errorLimit:[0,"p-error-limit","errorLimit"],showRequired:[0,"p-show-required","showRequired"]},features:[G,L]})}return n})();var Ds=["select"];function Fs(n,l){if(n&1&&(h(0,"option",5),I(1),u()),n&2){let e,t=r(2);m("disabled",!!t.placeholder)("hidden",!(t.selectedValue!=null&&t.selectedValue.toString())&&!t.placeholder)("selected",!(t.selectedValue!=null&&t.selectedValue.toString()))("value",(e=t.placeholder)!==null&&e!==void 0?e:""),c(),j(" ",t.placeholder," ")}}function Vs(n,l){if(n&1&&(y(0,Fs,2,5,"option",5),h(1,"option",6),I(2),u()),n&2){let e=r();C(!(e.selectedValue!=null&&e.selectedValue.toString())||e.placeholder?0:-1),c(),m("hidden",!0),c(),Pe(e.displayValue)}}function xs(n,l){if(n&1&&(h(0,"option"),I(1),u()),n&2){let e=r();c(),Pe(e.displayValue||e.placeholder)}}function Ss(n,l){if(n&1&&(h(0,"option",7),I(1),u()),n&2){let e=l.$implicit,t=r(2);m("disabled",t.readonly)("value",e==null?null:e[t.fieldValue]),c(),j(" ",e==null?null:e[t.fieldLabel]," ")}}function Ps(n,l){if(n&1&&fe(0,Ss,2,3,"option",7,Fe),n&2){let e=r();ge(e.optionWithoutGroup)}}function Ts(n,l){if(n&1&&(h(0,"option",9),I(1),u()),n&2){let e=l.$implicit,t=r(4);m("value",e==null?null:e[t.fieldValue])("disabled",t.readonly),c(),j(" ",e==null?null:e[t.fieldLabel]," ")}}function Es(n,l){if(n&1&&(h(0,"optgroup",8),fe(1,Ts,2,3,"option",9,Fe),u()),n&2){let e=r().$implicit,t=r(2);Zt("label",e==null?null:e.label),m("disabled",t.readonly),c(),ge(e.options)}}function ks(n,l){if(n&1&&y(0,Es,3,2,"optgroup",8),n&2){let e=l.$implicit;C((e==null?null:e.options.length)>0?0:-1)}}function Ms(n,l){if(n&1&&fe(0,ks,1,1,null,null,Fe),n&2){let e=r();ge(e.listGroupOptions)}}function As(n,l){if(n&1){let e=b();h(0,"po-field-container-bottom",10),f("p-additional-help",function(){s(e);let i=r();return p(i.emitAdditionalHelp())}),u()}if(n&2){let e=r();m("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-append-in-body",e.appendBox)("p-help",e.help)("p-disabled",e.disabled)("p-error-pattern",e.getErrorPattern())("p-error-limit",e.errorLimit)("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}var Wn="label",jn="value",Un=(()=>{class n extends Nn{el=g(P);renderer=g(ve);_iconToken;selectElement;blur=new v;ngModelChange=new v;readonly=!1;placeholder;displayValue;id=`po-select[${se()}]`;modelValue;selectedValue;optionsDefault=[];listGroupOptions=[];optionWithoutGroup=[];isSafari=fo();onModelTouched;_fieldLabel=Wn;_fieldValue=jn;_options;_size=void 0;set options(e){this.listGroupOptions=[],this.optionWithoutGroup=[],this.fieldLabel&&this.fieldValue&&e&&e.map(t=>{this.isItemGroup(t)?t.options.map(i=>{i.label=i[this.fieldLabel],i.value=i[this.fieldValue]}):(t.label=t[this.fieldLabel],t.value=t[this.fieldValue])}),e&&(this.optionsDefault=[...e],this.separateOptions(),this.optionsDefault=[],this.optionsDefault=[...this.optionWithoutGroup,...this.transformInArray(this.listGroupOptions)],this.onUpdateOptions(),this._options=[...this.optionsDefault])}get options(){return this._options}set fieldLabel(e){this._fieldLabel=e||Wn,this.options&&this.options.length>0&&(this.options=[...this.options])}get fieldLabel(){return this._fieldLabel}set fieldValue(e){this._fieldValue=e||jn,this.options&&this.options.length>0&&(this.options=[...this.options])}controlValueWithLabel=!1;get fieldValue(){return this._fieldValue}get iconNameLib(){return this._iconToken.NAME_LIB}set size(e){this._size=Z(e,N)}get size(){return this._size??Y(N)}constructor(){let e=g(co,{optional:!0}),t=g(S);super(t),this._iconToken=e??uo}ngOnChanges(e){e.options?.currentValue&&(this.options=e.options.currentValue)}focus(){this.disabled||this.selectElement.nativeElement.focus()}getErrorPattern(){return this.fieldErrorMessage&&this.hasInvalidClass()?this.fieldErrorMessage:""}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")}onBlur(e){this.onModelTouched?.(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp(),e.type==="blur"&&this.blur.emit()}onSelectChange(e){if(this.onModelTouched?.(),e&&this.options&&this.options.length){let t=this.findOptionValue(e);t&&this.updateValues(t)}}onUpdateOptions(){this.modelValue&&this.onSelectChange(this.modelValue)}updateValues(e){this.selectedValue!==e[this.fieldValue]&&(this.selectedValue=e[this.fieldValue],this.selectElement.nativeElement.value=e[this.fieldValue],this.updateModel(this.getValueUpdate(e)),this.displayValue=e[this.fieldLabel],this.emitChange(e[this.fieldValue]))}onWriteValue(e){e=this.getValueWrite(e);let t=this.findOptionValue(e);t?(this.selectElement.nativeElement.value=t.value,this.selectedValue=t[this.fieldValue],this.displayValue=t[this.fieldLabel]):ct(this.selectedValue)&&(this.selectElement.nativeElement.value=void 0,this.updateModel(void 0),this.selectedValue=void 0,this.displayValue=void 0),this.modelValue=e,this.changeDetector.detectChanges()}extraValidation(e){return null}isItemGroup(e){return e.options?!!Array.isArray(e.options):!1}onKeyDown(e){document.activeElement===this.selectElement.nativeElement&&this.keydown.emit(e)}registerOnTouched(e){this.onModelTouched=e}showAdditionalHelp(){return super.showAdditionalHelp()}isEqual(e,t){return(e||e===0)&&t?e.toString()===t.toString():((e===null&&t!==null||e===void 0&&t!==void 0)&&(e=`${e}`),e===t)}findOptionValue(e){if(this.options)return this.options.find(t=>this.isEqual(t.value,e))}getValueUpdate(e){return this.controlValueWithLabel?{value:e[this.fieldValue],label:e[this.fieldLabel]}:e[this.fieldValue]}getValueWrite(e){return this.controlValueWithLabel&&e?.value?e?.value:e}transformInArray(e){return e.reduce((t,i)=>i.options?t.concat(i.options):[],[])}separateOptions(){this.optionsDefault.forEach(e=>{this.isItemGroup(e)?(this.validateOptions(e.options),this.listGroupOptions.push(e)):this.optionWithoutGroup.push(e)}),this.optionWithoutGroup.length>0&&this.validateOptions(this.optionWithoutGroup)}validateOptions(e){xt(e),yo(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-select"]],viewQuery:function(t,i){if(t&1&&x(Ds,7,P),t&2){let o;F(o=V())&&(i.selectElement=o.first)}},inputs:{readonly:[2,"p-readonly","readonly",_],placeholder:[0,"p-placeholder","placeholder"],options:[0,"p-options","options"],fieldLabel:[0,"p-field-label","fieldLabel"],fieldValue:[0,"p-field-value","fieldValue"],controlValueWithLabel:[2,"p-control-value-with-label","controlValueWithLabel",_],size:[0,"p-size","size"]},outputs:{blur:"p-blur",ngModelChange:"ngModelChange"},standalone:!1,features:[W([{provide:Q,useExisting:q(()=>n),multi:!0},{provide:$,useExisting:q(()=>n),multi:!0}]),G,L,me],decls:9,vars:20,consts:[["select",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],[1,"po-select",3,"blur","change","keydown","ngClass","disabled","id","required"],[3,"p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"],[3,"disabled","hidden","selected","value"],[3,"hidden"],[3,"disabled","value"],[3,"label","disabled"],[3,"value","disabled"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"]],template:function(t,i){if(t&1){let o=b();h(0,"po-field-container",1)(1,"div",2)(2,"select",3,0),f("blur",function(d){return s(o),p(i.onBlur(d))})("change",function(d){return s(o),p(i.onSelectChange(d.target.value))})("keydown",function(d){return s(o),p(i.onKeyDown(d))}),y(4,Vs,3,3)(5,xs,2,1,"option")(6,Ps,2,0)(7,Ms,2,0),u()(),y(8,As,1,8,"po-field-container-bottom",4),u()}t&2&&(m("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),c(2),T("po-select-aa",i.size==="small")("po-select-placeholder",!(i.selectedValue!=null&&i.selectedValue.toString())&&!!i.placeholder),m("ngClass",i.iconNameLib==="AnimaliaIcon"?"po-select-phosphor":"po-select-poicon")("disabled",i.disabled)("id",i.id)("required",i.required),z("name",i.name),c(2),C(i.isSafari?-1:4),c(),C(i.isSafari?5:-1),c(),C(i.optionWithoutGroup.length>0?6:-1),c(),C(i.listGroupOptions.length>0?7:-1),c(),C(i.readonly?-1:8))},dependencies:[le,ao,lo,ee,J],encapsulation:2,changeDetection:0})}return n})();var Kn=(()=>{class n{cd;additionalHelpEventTrigger;additionalHelpTooltip;appendBox=!1;autoFocus=!1;label;help;name;optional;fieldErrorMessage;errorLimit=!1;additionalHelp=new v;blur=new v;enter=new v;change=new v;changeModel=new v;keydown=new v;displayAdditionalHelp=!1;_disabled=!1;_maxlength;_minlength;_placeholder="";_readonly=!1;_required=!1;_rows=3;_size=void 0;modelLastUpdate;onChangePropagate=null;validatorChange;onTouched=null;hasValidatorRequired=!1;set placeholder(e){this._placeholder=e||""}get placeholder(){return this._placeholder}set disabled(e){this._disabled=_(e)}get disabled(){return this._disabled}set readonly(e){this._readonly=_(e)}get readonly(){return this._readonly}set required(e){this._required=_(e),this.validateModel()}get required(){return this._required}showRequired=!1;set minlength(e){this._minlength=Me(e),this.validateModel()}get minlength(){return this._minlength}set maxlength(e){this._maxlength=Me(e),this.validateModel()}get maxlength(){return this._maxlength}set rows(e){this._rows=isNaN(parseInt(e,10))||e<3?3:parseInt(e,10)}get rows(){return this._rows}set size(e){this._size=Z(e,N)}get size(){return this._size??Y(N)}constructor(e){this.cd=e}callOnChange(e){this.onChangePropagate&&this.onChangePropagate(e),this.controlChangeModelEmitter(e)}controlChangeModelEmitter(e){this.modelLastUpdate!==e&&(this.changeModel.emit(e),this.modelLastUpdate=e)}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}registerOnChange(e){this.onChangePropagate=e}registerOnTouched(e){this.onTouched=e}registerOnValidatorChange(e){this.validatorChange=e}validate(e){if(!this.hasValidatorRequired&&this.fieldErrorMessage&&e.hasValidator(ke.required)&&(this.hasValidatorRequired=!0),pe(this.required,this.disabled,e.value))return{required:{valid:!1}};if(di(this.minlength,e.value))return{minlength:{valid:!1}};if(ht(this.maxlength,e.value))return{maxlength:{valid:!1}}}writeValue(e){this.writeValueModel(e),this.cd.markForCheck()}validateModel(){this.validatorChange&&this.validatorChange()}static \u0275fac=function(t){return new(t||n)(A(S))};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],appendBox:[2,"p-append-in-body","appendBox",_],autoFocus:[2,"p-auto-focus","autoFocus",_],label:[0,"p-label","label"],help:[0,"p-help","help"],name:"name",optional:[0,"p-optional","optional"],fieldErrorMessage:[0,"p-field-error-message","fieldErrorMessage"],errorLimit:[0,"p-error-limit","errorLimit"],placeholder:[0,"p-placeholder","placeholder"],disabled:[0,"p-disabled","disabled"],readonly:[0,"p-readonly","readonly"],required:[0,"p-required","required"],showRequired:[0,"p-show-required","showRequired"],minlength:[0,"p-minlength","minlength"],maxlength:[0,"p-maxlength","maxlength"],rows:[0,"p-rows","rows"],size:[0,"p-size","size"]},outputs:{additionalHelp:"p-additional-help",blur:"p-blur",enter:"p-enter",change:"p-change",changeModel:"p-change-model",keydown:"p-keydown"},features:[G]})}return n})();var Os=["inp"];function Is(n,l){if(n&1){let e=b();h(0,"po-field-container-bottom",5),f("p-additional-help",function(){s(e);let i=r();return p(i.emitAdditionalHelp())}),u()}if(n&2){let e=r();m("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-append-in-body",e.appendBox)("p-help",e.help)("p-disabled",e.disabled)("p-error-pattern",e.getErrorPattern())("p-error-limit",e.errorLimit)("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}var Gn=(()=>{class n extends Kn{el=g(P);inputEl;id=`po-textarea[${se()}]`;valueBeforeChange;fireChange=!1;constructor(){let e=g(S);super(e)}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}focus(){this.disabled||this.inputEl.nativeElement.focus()}ngAfterViewInit(){this.autoFocus&&this.focus()}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}getErrorPattern(){return this.fieldErrorMessage&&this.hasInvalidClass()?this.fieldErrorMessage:""}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&!this.inputEl.nativeElement.value&&(this.required||this.hasValidatorRequired)}writeValueModel(e){this.inputEl&&(e?this.inputEl.nativeElement.value=e:this.inputEl.nativeElement.value=""),e&&this.change.emit(e)}validMaxLength(e,t){return e&&t.length>e?t.toString().substring(0,e):t}eventOnInput(e){let t=this.validMaxLength(this.maxlength,e.target.value);this.callOnChange(t),this.inputEl.nativeElement.value=t}eventOnFocus(){this.valueBeforeChange=this.inputEl.nativeElement.value,this.enter.emit()}eventOnBlur(){this.onTouched?.(),this.blur.emit(),this.controlChangeEmitter(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp()}controlChangeEmitter(){let e=this.inputEl.nativeElement.value;e!==this.valueBeforeChange&&this.change.emit(e)}onKeyDown(e){document.activeElement===this.inputEl.nativeElement&&this.keydown.emit(e)}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-textarea"]],viewQuery:function(t,i){if(t&1&&x(Os,7,P),t&2){let o;F(o=V())&&(i.inputEl=o.first)}},standalone:!1,features:[W([{provide:Q,useExisting:q(()=>n),multi:!0},{provide:$,useExisting:q(()=>n),multi:!0}]),L],decls:5,vars:16,consts:[["inp",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],[1,"po-textarea",3,"blur","focus","input","keydown","disabled","id","placeholder","readonly","required","rows"],[3,"p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"]],template:function(t,i){if(t&1){let o=b();h(0,"po-field-container",1)(1,"div",2)(2,"textarea",3,0),f("blur",function(){return s(o),p(i.eventOnBlur())})("focus",function(){return s(o),p(i.eventOnFocus())})("input",function(d){return s(o),p(i.eventOnInput(d))})("keydown",function(d){return s(o),p(i.onKeyDown(d))}),u()(),y(4,Is,1,8,"po-field-container-bottom",4),u()}t&2&&(m("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),c(2),T("po-textarea-aa",i.size==="small"),m("disabled",i.disabled)("id",i.id)("placeholder",i.disabled?"":i.placeholder)("readonly",i.readonly)("required",i.required)("rows",i.rows),z("name",i.name),c(2),C(i.readonly?-1:4))},dependencies:[ee,J],encapsulation:2,changeDetection:0})}return n})();var Qn={en:{remove:"Remove"},es:{remove:"Eliminar"},pt:{remove:"Remover"},ru:{remove:"\u0443\u0434\u0430\u043B\u044F\u0442\u044C"}};var Hs=["default","danger"],qs="default",$n=(()=>{class n{languageService;label;value;property;disclaimerCustomWidth=201;lastDisclaimer=!1;appendInBody=!1;tooltipPosition="bottom";closeAction=new v;clickNumber=new v;literals;showDisclaimer=!0;_type="default";_hideClose=!1;set hideClose(e){this._hideClose=e===""?!0:_(e)}get hideClose(){return this._hideClose}set type(e){this._type=Hs.includes(e)?e:qs}get type(){return this._type}constructor(e){this.languageService=e;let t=this.languageService?.getShortLanguage();this.literals=D({},Qn[t])}close(){this.showDisclaimer=!1,this.closeAction.emit({value:this.value,label:this.label,property:this.property})}getLabel(){return this.label?this.label:this.value}setAriaLabel(){return this.label?this.label+" "+this.literals.remove:this.value+" "+this.literals.remove}static \u0275fac=function(t){return new(t||n)(A(R))};static \u0275dir=O({type:n,inputs:{label:[0,"p-label","label"],value:[0,"p-value","value"],property:[0,"p-property","property"],disclaimerCustomWidth:[0,"p-disclaimer-custom-width","disclaimerCustomWidth"],lastDisclaimer:[0,"p-last-disclaimer","lastDisclaimer"],appendInBody:[0,"p-append-in-body","appendInBody"],tooltipPosition:[0,"p-tooltip-position","tooltipPosition"],hideClose:[0,"p-hide-close","hideClose"],type:[0,"p-type","type"]},outputs:{closeAction:"p-close-action",clickNumber:"p-click-number"}})}return n})();var zs=["disclaimerContainer"];function Bs(n,l){if(n&1){let e=b();h(0,"po-icon",7),f("click",function(){s(e);let i=r(2);return p(i.close())})("keydown",function(i){s(e);let o=r(2);return p(o.onKeyPress(i))}),u()}if(n&2){let e=r(2);T("po-disclaimer-remove-danger",e.type==="danger"),z("aria-label",e.setAriaLabel())("role",e.hideClose?"":"button")}}function Ns(n,l){if(n&1){let e=b();h(0,"div",3),f("click",function(){s(e);let i=r();return p(i.emitLastDisclaimer(i.lastDisclaimer))})("keydown.enter",function(){s(e);let i=r();return p(i.emitLastDisclaimer(i.lastDisclaimer))}),h(1,"div",4)(2,"span",5),I(3),u()(),y(4,Bs,1,4,"po-icon",6),u()}if(n&2){let e=r();T("po-disclaimer-remove-all",e.hideClose)("po-disclaimer-danger",e.type==="danger"),m("p-tooltip",e.getWidthDisclaimer()?e.getLabel():"")("p-append-in-body",e.appendInBody)("p-tooltip-position",e.tooltipPosition)("tabindex",e.hideClose?"0":"-1"),c(),T("show-close",!e.hideClose),c(2),j(" ",e.getLabel()," "),c(),C(e.hideClose===!1?4:-1)}}var Yn=(()=>{class n extends $n{disclaimerContainer;onKeyPress(e){Vt(e)&&this.close()}emitLastDisclaimer(e){e&&this.clickNumber.emit()}getWidthDisclaimer(){return this.disclaimerContainer.nativeElement.offsetWidth>this.disclaimerCustomWidth}static \u0275fac=(()=>{let e;return function(i){return(e||(e=et(n)))(i||n)}})();static \u0275cmp=k({type:n,selectors:[["po-disclaimer"]],viewQuery:function(t,i){if(t&1&&x(zs,7),t&2){let o;F(o=V())&&(i.disclaimerContainer=o.first)}},standalone:!1,features:[L],decls:3,vars:1,consts:[["disclaimerContainer",""],[1,"disclaimer-container"],[1,"po-disclaimer",3,"po-disclaimer-remove-all","po-disclaimer-danger","p-tooltip","p-append-in-body","p-tooltip-position","tabindex"],[1,"po-disclaimer",3,"click","keydown.enter","p-tooltip","p-append-in-body","p-tooltip-position","tabindex"],[1,"po-disclaimer-label"],[1,"label"],["p-icon","ICON_CLOSE","tabindex","0",1,"po-disclaimer-remove","po-clickable",3,"po-disclaimer-remove-danger"],["p-icon","ICON_CLOSE","tabindex","0",1,"po-disclaimer-remove","po-clickable",3,"click","keydown"]],template:function(t,i){t&1&&(h(0,"div",1,0),y(2,Ns,5,12,"div",2),u()),t&2&&(c(2),C(i.showDisclaimer===!0?2:-1))},dependencies:[X,Vo],encapsulation:2})}return n})();var Wt=(()=>{class n{httpClient;headers=new vt({"X-PO-No-Message":"true"});url;fieldValue;multiple=!1;constructor(e){this.httpClient=e}getFilteredItems(e){let M=e,{filterParams:t,advancedFilters:i}=M,o=Kt(M,["filterParams","advancedFilters"]),a=this.validateParams(t),d=this.validateParams(i),w=D(D(D({},o),a),d);return this.httpClient.get(this.url,{headers:this.headers,params:w})}getObjectByValue(e,t){let i=this.validateParams(t),o,a;return this.multiple?(a=encodeURIComponent(Array.isArray(e)?e.join(","):e),o=`${this.url}?${this.fieldValue}=${a}`):(a=encodeURIComponent(e),o=`${this.url}/${a}`),this.httpClient.get(o,{headers:this.headers,params:i}).pipe(we(d=>"items"in d?d.items:d))}setConfig(e,t,i){this.url=e,this.fieldValue=t,this.multiple=i}validateParams(e){return ie(e,"object")&&!Array.isArray(e)?e:void 0}static \u0275fac=function(t){return new(t||n)(Bi(Ee))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var jt=(()=>{class n{poComponentInjector=g(To);selectValueEvent=new v;componentRef=null;openModal(e){let{advancedFilters:t,service:i,columns:o,filterParams:a,hideColumnsManager:d,title:w,literals:M,infiniteScroll:H,multiple:he,selectedItems:Re,fieldLabel:Se,fieldValue:lt,size:U,spacing:st,textWrap:Si,virtualScroll:Pi,changeVisibleColumns:At,columnRestoreManager:er}=e;this.componentRef=this.poComponentInjector.createComponentInApplication(Cn),this.componentRef.instance.advancedFilters=t,this.componentRef.instance.title=w,this.componentRef.instance.columns=o,this.componentRef.instance.filterService=i,this.componentRef.instance.filterParams=a,this.componentRef.instance.literals=M,this.componentRef.instance.model.subscribe(tr=>{this.selectValue(tr)}),this.componentRef.instance.infiniteScroll=H,this.componentRef.instance.multiple=he,this.componentRef.instance.selectedItems=Re,this.componentRef.instance.fieldLabel=Se,this.componentRef.instance.fieldValue=lt,this.componentRef.instance.changeVisibleColumns=At,this.componentRef.instance.columnRestoreManager=er,this.componentRef.instance.hideColumnsManager=d,this.componentRef.instance.size=U,this.componentRef.instance.spacing=st,this.componentRef.instance.textWrap=Si,this.componentRef.instance.virtualScroll=Pi,this.componentRef.changeDetectorRef.detectChanges(),this.componentRef.instance.openModal()}setChangeColumns(e){this.componentRef!==null&&(this.componentRef.instance.columns=e,this.componentRef.changeDetectorRef.detectChanges())}selectValue(e){e&&this.selectValueEvent.emit(e),this.componentRef.destroy()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xi={en:{search:"Search",clean:"Clean"},es:{search:"Buscar",clean:"Limpiar"},pt:{search:"Pesquisar",clean:"Apagar"},ru:{search:"\u041F\u043E\u0438\u0441\u043A",clean:"\u0447\u0438\u0441\u0442\u044B\u0439"}},Jn=(()=>{class n{defaultService;injector;poLookupModalService;_literals;language;_size=void 0;_spacing;additionalHelpEventTrigger;additionalHelpTooltip;appendBox=!1;autoFocus=!1;label;set literals(e){e instanceof Object&&!(e instanceof Array)?this._literals=D(D(D({},xi[te]),xi[this.language]),e):this._literals=xi[this.language]}get literals(){return this._literals||xi[this.language]}help;set placeholder(e){this._placeholder=e||""}get placeholder(){return this._placeholder}name;fieldValue;set fieldLabel(e){this._fieldLabel=e,this.keysDescription=[this.fieldLabel]}get fieldLabel(){return this._fieldLabel}filterParams;fieldFormat;columns;optional;advancedFilters;hideColumnsManager=!1;infiniteScroll=!1;clean=!1;multiple=!1;autoHeight=!1;fieldErrorMessage;errorLimit=!1;set size(e){this._size=Z(e,N)}get size(){return this._size??Y(N)}set spacing(e){Object.values(ut).includes(e)?this._spacing=e:this._spacing=this.getDefaultSpacing()}get spacing(){return this._spacing??this.getDefaultSpacing()}textWrap=!1;virtualScroll=!0;additionalHelp=new v;onError=new v;keydown=new v;selected=new v;change=new v;changeVisibleColumns=new v;columnRestoreManager=new v;displayAdditionalHelp=!1;service;selectedOptions=[];getSubscription;keysDescription;oldValue="";valueToModel;oldValueToModel=null;onTouched=null;resizeListener;_disabled=!1;_fieldLabel;_filterService;_noAutocomplete;_placeholder="";_required=!1;_autoHeight=!1;autoHeightInitialValue;onChangePropagate=null;validatorChange;control;injectOptions={self:!0};set filterService(e){this._filterService=e,this.setService(this.filterService)}get filterService(){return this._filterService}set noAutocomplete(e){this._noAutocomplete=_(e)}get noAutocomplete(){return this._noAutocomplete}set required(e){this._required=_(e),this.validateModel(this.valueToModel)}get required(){return this._required}showRequired=!1;set disabled(e){this._disabled=e===""?!0:_(e)}get disabled(){return this._disabled}constructor(e,t,i,o){this.defaultService=e,this.injector=t,this.poLookupModalService=i,this.language=o.getShortLanguage()}ngOnDestroy(){this.getSubscription&&this.getSubscription.unsubscribe()}ngOnInit(){this.initializeColumn()}ngAfterViewInit(){this.setControl()}cleanModel(){this.cleanViewValue(),this.callOnChange(void 0)}ngOnChanges(e){e.columns?.currentValue&&(this.columns=e.columns.currentValue,this.poLookupModalService?.setChangeColumns(this.columns)),e.multiple&&ie(this.filterService,"string")&&this.service.setConfig(this.filterService,this.fieldValue,this.multiple)}setDisabledState(e){this.disabled=e}registerOnValidatorChange(e){this.validatorChange=e}registerOnChange(e){this.onChangePropagate=e}registerOnTouched(e){this.onTouched=e}selectValue(e){this.valueToModel=e,this.multiple?this.callOnChange(this.valueToModel):this.valueToModel?this.callOnChange(this.valueToModel[this.fieldValue]):this.callOnChange(void 0),this.selected.emit(e)}callOnChange(e){this.onChangePropagate&&this.onChangePropagate(e),this.oldValueToModel!==this.valueToModel&&this.change.emit(e),this.oldValueToModel=this.valueToModel}searchById(e){let t=e;if(typeof t=="string"&&(t=t.trim()),t!==""&&t!=="."){let i=this.disabled;this.disabled=!0,this.control&&setTimeout(()=>this.control.markAsPending()),this.getSubscription=this.service.getObjectByValue(e,this.filterParams).pipe(zi(()=>{this.disabled=i,this.control&&this.control.updateValueAndValidity()})).subscribe(o=>{o?.length||!Array.isArray(o)&&o?(Array.isArray(o)&&o.length>1&&(this.setDisclaimers(o),this.updateVisibleItems()),this.selectModel(Array.isArray(o)?o:[o])):this.cleanModel()},o=>{this.cleanModel(),this.onError.emit(o)})}else this.cleanModel()}validate(e){if(pe(this.required,this.disabled,e.value))return{required:{valid:!1}}}writeValue(e){e?.length||!Array.isArray(e)&&e?this.searchById(e):this.cleanViewValue()}getSubscriptionFunction(){return this.getSubscription}cleanViewValue(){this.setDisclaimers([]),this.setViewValue("",{}),this.oldValue="",this.valueToModel=null}getFormattedLabel(e){return e?this.keysDescription.map(t=>e[t]).join(" - "):""}selectModel(e){if(e.length){this.selectedOptions=[...e];let t=this.multiple?e.map(i=>i[this.fieldValue]):e[0];this.selectValue(t),e.length===1&&(this.oldValue=e[0][this.fieldLabel],this.setViewValue(this.getFormattedLabel(e[0]),e[0]))}else this.selectValue(void 0),this.cleanViewValue()}validateModel(e){this.validatorChange&&this.validatorChange(e)}setService(e){ie(e,"object")&&(this.service=e),e&&ie(e,"string")&&(this.service=this.defaultService,this.service.setConfig(e,this.fieldValue,this.multiple))}setControl(){let e=this.injector.get(ii,null,this.injectOptions);e&&(this.control=e.control)}initializeColumn(){this.fieldLabel?this.keysDescription=[this.fieldLabel]:(this.keysDescription=[],this.keysDescription=this.columns.filter(e=>e.fieldLabel).map(e=>e.property))}static \u0275fac=function(t){return new(t||n)(A(Wt),A(Qt),A(jt),A(R))};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],appendBox:[2,"p-append-in-body","appendBox",_],autoFocus:[2,"p-auto-focus","autoFocus",_],label:[0,"p-label","label"],literals:[0,"p-literals","literals"],help:[0,"p-help","help"],placeholder:[0,"p-placeholder","placeholder"],name:"name",fieldValue:[0,"p-field-value","fieldValue"],fieldLabel:[0,"p-field-label","fieldLabel"],filterParams:[0,"p-filter-params","filterParams"],fieldFormat:[0,"p-field-format","fieldFormat"],columns:[0,"p-columns","columns"],optional:[0,"p-optional","optional"],advancedFilters:[0,"p-advanced-filters","advancedFilters"],hideColumnsManager:[2,"p-hide-columns-manager","hideColumnsManager",_],infiniteScroll:[2,"p-infinite-scroll","infiniteScroll",_],clean:[2,"p-clean","clean",_],multiple:[2,"p-multiple","multiple",_],autoHeight:[2,"p-auto-height","autoHeight",_],fieldErrorMessage:[0,"p-field-error-message","fieldErrorMessage"],errorLimit:[0,"p-error-limit","errorLimit"],size:[0,"p-size","size"],spacing:[0,"p-spacing","spacing"],textWrap:[2,"p-text-wrap","textWrap",_],virtualScroll:[2,"p-virtual-scroll","virtualScroll",_],filterService:[0,"p-filter-service","filterService"],noAutocomplete:[0,"p-no-autocomplete","noAutocomplete"],required:[0,"p-required","required"],showRequired:[0,"p-show-required","showRequired"],disabled:[0,"p-disabled","disabled"]},outputs:{additionalHelp:"p-additional-help",onError:"p-error",keydown:"p-keydown",selected:"p-selected",change:"p-change",changeVisibleColumns:"p-change-visible-columns",columnRestoreManager:"p-restore-column-manager"},features:[G,me]})}return n})();var Ks=["inp"];function Gs(n,l){if(n&1){let e=b();h(0,"po-clean",12),f("p-change-event",function(){s(e);let i=r(2);return p(i.cleanModel())})("click",function(i){return s(e),r(2).cleanModel(),p(i.preventDefault())})("keydown.enter",function(i){return s(e),r(2).cleanModel(),p(i.preventDefault())}),u()}if(n&2){r();let e=K(3),t=r();T("po-lookup-button-aa",t.size==="small"),m("p-element-ref",e)("p-size",t.size),z("aria-label",t.literals.clean)}}function Qs(n,l){if(n&1){let e=b();h(0,"div",5)(1,"div",6)(2,"input",7,0),f("blur",function(){s(e);let i=r();return p(i.searchEvent())})("keydown",function(i){s(e);let o=r();return p(o.onKeyDown(i))}),u(),h(4,"div",8),y(5,Gs,1,5,"po-clean",9),h(6,"div",10,1),f("p-change-event",function(){s(e);let i=r();return p(i.openLookup())})("click",function(i){return s(e),r().openLookup(),p(i.preventDefault())})("keydown.enter",function(i){return s(e),r().openLookup(),p(i.preventDefault())}),B(8,"po-icon",11),u()()()()}if(n&2){let e=K(3),t=r();T("po-lookup-disabled",t.disabled),c(2),T("po-lookup-input-aa",t.size==="small")("po-lookup-input-trigger-aa",t.size==="small"),m("ngClass",t.clean&&e.value?t.size==="small"?"po-input-double-icon-right-aa":"po-input-double-icon-right":t.size==="small"?"po-input-icon-right-aa":"po-input-icon-right")("id",t.id)("autocomplete",t.autocomplete)("disabled",t.disabled)("placeholder",t.placeholder)("required",t.required),c(3),C(t.clean&&!t.disabled&&e.value?5:-1),c(),T("po-field-icon-disabled",t.disabled)("po-lookup-button-aa",t.size==="small"),m("ariaLabel",t.literals.search),c(2),T("po-field-icon",!t.disabled)("po-field-icon-aa",!t.disabled&&t.size==="small")}}function $s(n,l){if(n&1&&(h(0,"span",14),I(1),u()),n&2){let e=r(2);c(),j(" ",e.placeholder," ")}}function Ys(n,l){if(n&1){let e=b();h(0,"po-disclaimer",17),f("p-close-action",function(){let i=s(e).$implicit,o=r(2);return p(o.closeDisclaimer(i.value))}),u()}if(n&2){let e=l.$implicit,t=r(2);T("po-clickable",e.value===""&&!t.disabled),m("p-label",e.label)("p-value",e.value)("p-hide-close",e.value===""||t.disabled)}}function Js(n,l){if(n&1){let e=b();h(0,"po-clean",12),f("p-change-event",function(){s(e);let i=r(2);return p(i.cleanModel())})("click",function(i){return s(e),r(2).cleanModel(),p(i.preventDefault())})("keydown.enter",function(i){return s(e),r(2).cleanModel(),p(i.preventDefault())}),u()}if(n&2){r();let e=K(3),t=r();m("p-element-ref",e)("p-size",t.size),z("aria-label",t.literals.clean)}}function Xs(n,l){if(n&1){let e=b();h(0,"div",5)(1,"div",6)(2,"div",13,0),f("blur",function(){s(e);let i=r();return p(i.onBlur())})("keydown",function(i){s(e);let o=r();return p(o.onKeyDown(i))}),y(4,$s,2,1,"span",14),fe(5,Ys,1,5,"po-disclaimer",15,Fe),u(),h(7,"div",8),y(8,Js,1,3,"po-clean",16),h(9,"div",10,1),f("p-change-event",function(){s(e);let i=r();return p(i.openLookup())})("click",function(i){return s(e),r().openLookup(),p(i.preventDefault())})("keydown.enter",function(i){return s(e),r().openLookup(),p(i.preventDefault())}),B(11,"po-icon",11),u()()()()}if(n&2){let e=K(3),t=r();T("po-lookup-disabled",t.disabled),c(2),T("po-lookup-input-auto",t.autoHeight)("po-lookup-input-auto-aa",t.autoHeight&&t.size==="small")("po-lookup-input-static",!t.autoHeight)("po-lookup-input-static-aa",!t.autoHeight&&t.size==="small")("po-lookup-input-padding-button-clean",t.clean)("po-lookup-input-padding-button-clean-aa",t.clean&&t.size==="small")("po-lookup-input-disabled",t.disabled)("po-lookup-input-aa",t.size==="small"),m("tabindex",t.disabled?-1:0)("ngClass",t.clean&&e.value?"po-input-double-icon-right":"po-input-icon-right"),c(2),C(t.placeholder&&!(t.disclaimers!=null&&t.disclaimers.length)?4:-1),c(),ge(t.visibleDisclaimers),c(3),C(t.clean&&!t.disabled&&e.value?8:-1),c(),T("po-field-icon-disabled",t.disabled)("po-lookup-button-aa",t.size==="small"),m("ariaLabel",t.literals.search),c(2),T("po-field-icon",!t.disabled)("po-field-icon-aa",!t.disabled&&t.size==="small")}}var Zs=[Wt,jt,{provide:Q,useExisting:q(()=>Ut),multi:!0},{provide:$,useExisting:q(()=>Ut),multi:!0},{provide:ii,useExisting:q(()=>Ut),multi:!1}],Ut=(()=>{class n extends Jn{renderer=g(ve);cd=g(S);el=g(P);inputEl;initialized=!1;timeoutResize;visibleElement=!1;heightGroupButtons=44;disclaimers=[];visibleDisclaimers=[];id=`po-lookup[${se()}]`;modalSubscription;isCalculateVisibleItems=!0;get autocomplete(){return this.noAutocomplete?"off":"on"}constructor(){let e=g(R),t=g(Wt),i=g(jt),o=g(Qt);super(t,o,i,e)}ngAfterViewInit(){super.ngAfterViewInit(),this.autoFocus&&this.focus(),this.initialized=!0}ngDoCheck(){let e=this.inputEl?.nativeElement.offsetWidth;(e&&!this.visibleElement&&this.initialized||e&&this.isCalculateVisibleItems)&&(this.debounceResize(),this.visibleElement=!0),this.cd.markForCheck()}ngOnDestroy(){this.modalSubscription&&this.modalSubscription.unsubscribe()}ngOnInit(){super.ngOnInit(),this.initializeListeners()}focus(){this.disabled||this.inputEl.nativeElement.focus()}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}openLookup(){if(this.isAllowedOpenModal()){let{advancedFilters:e,service:t,columns:i,filterParams:o,hideColumnsManager:a,literals:d,infiniteScroll:w,multiple:M,fieldLabel:H,fieldValue:he,size:Re,spacing:Se,textWrap:lt,virtualScroll:U,changeVisibleColumns:st,columnRestoreManager:Si}=this,Pi=this.checkSelectedItems();this.poLookupModalService.openModal({advancedFilters:e,service:t,columns:i,filterParams:o,hideColumnsManager:a,title:this.label,literals:d,infiniteScroll:w,multiple:M,selectedItems:Pi,fieldLabel:H,fieldValue:he,size:Re,spacing:Se,textWrap:lt,virtualScroll:U,changeVisibleColumns:st,columnRestoreManager:Si}),this.modalSubscription||(this.modalSubscription=this.poLookupModalService.selectValueEvent.subscribe(At=>{(At.length>1||this.disclaimers.length)&&(this.setDisclaimers(At),this.updateVisibleItems()),this.selectModel(At)}))}}checkSelectedItems(){return this.multiple?!this.disclaimers.length&&this.valueToModel?.length?[D({value:this.valueToModel[0],label:this.oldValue},this.selectedOptions[0])]:this.disclaimers:this.valueToModel}setDisclaimers(e){this.disclaimers=e.map(t=>D({value:t[this.fieldValue],label:t[this.fieldLabel]},t)),this.visibleDisclaimers=[...this.disclaimers],this.cd.markForCheck()}setViewValue(e,t){this.inputEl&&this.fieldFormat?this.setInputValueWipoieldFormat(t):this.inputEl&&(this.inputEl.nativeElement.value=this.valueToModel||this.valueToModel===0?e:""),this.cd.markForCheck()}getViewValue(){return this.inputEl.nativeElement.value}getErrorPattern(){return this.fieldErrorMessage&&this.hasInvalidClass()?this.fieldErrorMessage:""}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")}onBlur(){this.onTouched?.(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp()}searchEvent(){this.onBlur();let e=this.getViewValue();this.oldValue?.toString()!==e&&this.searchById(e)}closeDisclaimer(e){this.disclaimers=this.disclaimers.filter(t=>t.value!==e),this.valueToModel=this.valueToModel.filter(t=>t!==e),this.updateVisibleItems(),this.callOnChange(this.valueToModel.length?this.valueToModel:void 0)}updateVisibleItems(){this.disclaimers&&this.disclaimers.length>0&&(this.visibleDisclaimers=[].concat(this.disclaimers)),this.debounceResize(),this.inputEl.nativeElement.offsetWidth||(this.isCalculateVisibleItems=!0)}debounceResize(){this.autoHeight||(clearTimeout(this.timeoutResize),this.debounce(this.calculateVisibleItems.bind(this),200))}debounce(e,t){this.timeoutResize=setTimeout(e,t)}getInputWidth(){return this.inputEl.nativeElement.offsetWidth-(this.clean?80:40)}getDisclaimersWidth(){let e=this.inputEl.nativeElement.querySelectorAll("po-disclaimer");return Array.from(e).map(t=>t.offsetWidth)}calculateVisibleItems(){let e=this.getDisclaimersWidth(),t=this.getInputWidth(),i=38,o=e[0],a=[],d=this.disclaimers;if(t>0){let w=0,M=0;for(M=0;M<d.length;M++)if(w+=e[M],a.push(d[M]),w>t){w-=e[M],this.isCalculateVisibleItems=!1;break}if(o||!d.length){if(M===d.length){this.isCalculateVisibleItems=!1;return}if(w+i>t){a.splice(-2,2);let H="+"+(d.length+1-M).toString();a.push({value:"",label:H})}else{a.splice(-1,1);let H="+"+(d.length-M).toString();a.push({value:"",label:H})}}}this.visibleDisclaimers=[...a]}onKeyDown(e){document.activeElement===this.inputEl.nativeElement&&this.keydown.emit(e)}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}getDefaultSpacing(){return this.size===N.Small||Y(ut)===ut.Small?ut.ExtraSmall:ut.Medium}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}isAllowedOpenModal(){return this.service||console.warn("No service informed"),!!(this.service&&!this.disabled)}formatFields(e,t){let i;if(Array.isArray(t))for(let o of t)e&&e[o]&&(i?i=i+" - "+e[o]:i=e[o]);return i||(i=e[this.fieldValue]),i}setInputValueWipoieldFormat(e){let t=Object.keys(e).length===0,i;Array.isArray(this.fieldFormat)?i=this.formatFields(e,this.fieldFormat):i=this.fieldFormat(e),this.oldValue=t?"":i,this.inputEl.nativeElement.value=t?"":i}initializeListeners(){this.resizeListener=this.renderer.listen("window","resize",()=>{this.updateVisibleItems()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-lookup"]],viewQuery:function(t,i){if(t&1&&x(Ks,5,P),t&2){let o;F(o=V())&&(i.inputEl=o.first)}},standalone:!1,features:[W(Zs),L],decls:4,vars:15,consts:[["inp",""],["iconLookup",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content","po-lookup",3,"po-lookup-disabled"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"],[1,"po-field-container-content","po-lookup"],[1,"po-search-container-wrapper"],["type","text",1,"po-lookup-input","po-lookup-input-trigger",3,"blur","keydown","ngClass","id","autocomplete","disabled","placeholder","required"],[1,"po-field-icon-container-right","po-lookup-buttons"],["tabindex","0","role","button",1,"po-lookup-button","po-lookup-button-clean",3,"po-lookup-button-aa","p-element-ref","p-size"],["tabindex","0","role","button",1,"po-lookup-button","po-lookup-button-trigger","po-field-icon",3,"p-change-event","click","keydown.enter","ariaLabel"],["p-icon","ICON_SEARCH"],["tabindex","0","role","button",1,"po-lookup-button","po-lookup-button-clean",3,"p-change-event","click","keydown.enter","p-element-ref","p-size"],[1,"po-lookup-input","po-input-icon-right","po-icon-input",3,"blur","keydown","tabindex","ngClass"],[1,"po-lookup-input-placeholder"],[1,"po-lookup-input-disclaimer",3,"p-label","p-value","p-hide-close","po-clickable"],["tabindex","0","role","button",1,"po-lookup-button","po-lookup-button-clean",3,"p-element-ref","p-size"],[1,"po-lookup-input-disclaimer",3,"p-close-action","p-label","p-value","p-hide-close"]],template:function(t,i){t&1&&(h(0,"po-field-container",2),y(1,Qs,9,22,"div",3)(2,Xs,12,31,"div",3),h(3,"po-field-container-bottom",4),f("p-additional-help",function(){return i.emitAdditionalHelp()}),u()()),t&2&&(m("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),c(),C(i.disclaimers.length?2:1),c(2),m("p-additional-help-tooltip",i.getAdditionalHelpTooltip())("p-append-in-body",i.appendBox)("p-help",i.help)("p-disabled",i.disabled)("p-error-pattern",i.getErrorPattern())("p-error-limit",i.errorLimit)("p-show-additional-help",i.displayAdditionalHelp)("p-show-additional-help-icon",i.showAdditionalHelpIcon()))},dependencies:[le,ye,Yn,ee,J,X],encapsulation:2,changeDetection:0})}return n})();var tp=n=>({$implicit:n});function ip(n,l){n&1&&_e(0)}function op(n,l){if(n&1&&(h(0,"div")(1,"po-container",1)(2,"div",2),y(3,ip,1,0,"ng-container",3),u()()()),n&2){let e=l.$implicit,t=r();c(),m("p-title",e[0].container),c(2),m("ngTemplateOutlet",t.content)("ngTemplateOutletContext",Ue(3,tp,e))}}var Xn=(()=>{class n{content;fields;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-dynamic-container"]],inputs:{content:[0,"p-content","content"],fields:[0,"p-fields","fields"]},standalone:!1,decls:3,vars:0,consts:[[1,"po-dynamic-container"],[3,"p-title"],[1,"po-row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){t&1&&(h(0,"div",0),fe(1,op,4,5,"div",null,Fe),u()),t&2&&(c(),ge(i.fields))},dependencies:[Te,pi],encapsulation:2})}return n})();var rp=["component"],ap=n=>({$implicit:n});function lp(n,l){n&1&&_e(0)}function sp(n,l){if(n&1&&(h(0,"div",4),y(1,lp,1,0,"ng-container",5),u()),n&2){let e=r(),t=K(2),i=K(4);T("po-dynamic",e.hasContainers),c(),m("ngTemplateOutlet",e.hasContainers?i:t)("ngTemplateOutletContext",Ue(4,ap,e.hasContainers?e.containerFields:e.visibleFields))}}function pp(n,l){if(n&1&&B(0,"po-divider",6),n&2){let e=r().$implicit;m("p-label",e.divider)}}function dp(n,l){if(n&1){let e=b();h(0,"po-datepicker",23,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-change",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeField(i))})("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);m("name",e.property),ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-clean",e.clean)("p-disabled",t.isDisabled(e))("p-error-pattern",e.errorMessage)("p-error-limit",e.errorLimit)("p-error-async",e.errorAsyncFunction)("p-auto-focus",e.focus)("p-format",e.format)("p-help",e.help)("p-iso-format",e.isoFormat)("p-label",e.label)("p-locale",e.locale)("p-max-date",e.maxValue)("p-min-date",e.minValue)("p-no-autocomplete",e.noAutocomplete)("p-optional",e.optional)("p-readonly",e.readonly)("p-required",e.required)("p-required-field-error-message",e.requiredFieldErrorMessage)("p-size",e.size||t.componentsSize)("p-show-required",e.showRequired)("p-placeholder",e.placeholder)}}function cp(n,l){if(n&1){let e=b();h(0,"po-datepicker-range",24,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeField(i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);m("name",e.property),ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-clean",e.clean)("p-disabled",t.isDisabled(e))("p-auto-focus",e.focus)("p-help",e.help)("p-label",e.label)("p-literals",e.literals)("p-max-date",e.maxValue)("p-min-date",e.minValue)("p-no-autocomplete",e.noAutocomplete)("p-optional",e.optional)("p-readonly",e.readonly)("p-required",e.required)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)}}function up(n,l){if(n&1){let e=b();h(0,"po-input",25,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeField(i))})("p-change-model",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeFieldModel(i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);m("name",e.property),ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-clean",e.clean)("p-disabled",t.isDisabled(e))("p-error-pattern",e.errorMessage)("p-error-limit",e.errorLimit)("p-error-async-properties",e.errorAsyncProperties)("p-auto-focus",e.focus)("p-help",e.help)("p-label",e.label)("p-mask-format-model",e.maskFormatModel)("p-mask",e.mask)("p-maxlength",e.maxLength)("p-minlength",e.minLength)("p-no-autocomplete",e.noAutocomplete)("p-optional",e.optional)("p-pattern",e.pattern)("p-required",e.required)("p-required-field-error-message",e.requiredFieldErrorMessage)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)("p-icon",e.icon)("p-placeholder",e.placeholder)("p-readonly",e.readonly)}}function hp(n,l){if(n&1){let e=b();h(0,"po-number",26,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeField(i))})("p-change-model",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeFieldModel(i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);m("name",e.property),ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-clean",e.clean)("p-disabled",t.isDisabled(e))("p-error-pattern",e.errorMessage)("p-error-limit",e.errorLimit)("p-error-async-properties",e.errorAsyncProperties)("p-auto-focus",e.focus)("p-help",e.help)("p-label",e.label)("p-min",e.minValue)("p-max",e.maxValue)("p-maxlength",e.maxLength)("p-minlength",e.minLength)("p-no-autocomplete",e.noAutocomplete)("p-optional",e.optional)("p-step",e.step)("p-readonly",e.readonly)("p-required",e.required)("p-required-field-error-message",e.requiredFieldErrorMessage)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)("p-icon",e.icon)("p-placeholder",e.placeholder)}}function mp(n,l){if(n&1){let e=b();h(0,"po-decimal",27,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeField(i))})("p-change-model",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeFieldModel(i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);m("name",e.property),ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-clean",e.clean)("p-error-pattern",e.errorMessage)("p-error-limit",e.errorLimit)("p-error-async-properties",e.errorAsyncProperties)("p-disabled",t.isDisabled(e))("p-decimals-length",e.decimalsLength)("p-thousand-maxlength",e.thousandMaxlength)("p-icon",e.icon)("p-auto-focus",e.focus)("p-help",e.help)("p-label",e.label)("p-locale",e.locale)("p-min",e.minValue)("p-max",e.maxValue)("p-maxlength",e.maxLength)("p-minlength",e.minLength)("p-no-autocomplete",e.noAutocomplete)("p-optional",e.optional)("p-readonly",e.readonly)("p-required",e.required)("p-required-field-error-message",e.requiredFieldErrorMessage)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)("p-placeholder",e.placeholder)}}function fp(n,l){if(n&1){let e=b();h(0,"po-select",28,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeField(i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);m("name",e.property),ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-field-label",e.fieldLabel)("p-field-value",e.fieldValue)("p-disabled",t.isDisabled(e))("p-help",e.help)("p-label",e.label)("p-optional",e.optional)("p-options",e.options)("p-required",e.required)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)("p-placeholder",e.placeholder)("p-readonly",e.readonly)}}function gp(n,l){if(n&1){let e=b();h(0,"po-radio-group",29,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeField(i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);m("name",e.property),ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-columns",e.columns||3)("p-auto-focus",e.focus)("p-disabled",t.isDisabled(e))("p-help",e.help)("p-label",e.label)("p-optional",e.optional)("p-options",e.options)("p-required",e.required)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)}}function _p(n,l){if(n&1){let e=b();h(0,"po-switch",30,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeField(i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);m("name",e.property),ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-disabled",t.isDisabled(e))("p-error-limit",e.errorLimit)("p-field-error-message",e.errorMessage)("p-format-model",e.formatModel)("p-help",e.help)("p-label",e.label)("p-label-off",e.booleanFalse)("p-label-on",e.booleanTrue)("p-label-position",e.labelPosition)("p-hide-label-status",e.hideLabelStatus)("p-invalid-value",e.invalidValue)("p-size",e.size||t.componentsSize)}}function Cp(n,l){if(n&1){let e=b();h(0,"po-checkbox",31,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeField(i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);m("name",e.property),ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-auto-focus",e.focus)("p-disabled",t.isDisabled(e))("p-help",e.help)("p-label",e.label)("p-size",e.size||t.componentsSize)}}function bp(n,l){if(n&1){let e=b();h(0,"po-combo",32,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-change",function(i){s(e);let o=r().$implicit,a=r(2);return p(a.onChangeField(o,i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))})("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);m("name",e.property),ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-auto-focus",e.focus)("p-clean",e.clean)("p-disabled",t.isDisabled(e))("p-field-label",e.fieldLabel)("p-field-value",e.fieldValue)("p-filter-params",e.params)("p-filter-service",e.optionsService)("p-help",e.help)("p-infinite-scroll",e.infiniteScroll)("p-infinite-scroll-distance",e.infiniteScrollDistance||100)("p-label",e.label)("p-literals",e.literals)("p-options",e.options)("p-optional",e.optional)("p-sort",e.sort)("p-required",e.required)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-show-required",e.showRequired)("p-icon",e.icon)("p-placeholder",e.placeholder)("p-filter-minlength",e.filterMinlength)("p-filter-mode",e.filterMode)("p-disabled-init-filter",e.disabledInitFilter)("p-disabled-tab-filter",e.disabledTabFilter)("p-debounce-time",e.debounceTime)("p-change-on-enter",e.changeOnEnter)("p-remove-initial-filter",e.removeInitialFilter)("p-size",e.size||t.componentsSize)("p-listbox-control-position",e.listboxControlPosition)}}function vp(n,l){if(n&1){let e=b();h(0,"po-lookup",33,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-change",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeField(i))})("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change-visible-columns",function(i){s(e);let o=r().$implicit;return p(o.changeVisibleColumns==null?null:o.changeVisibleColumns(i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))})("p-restore-column-manager",function(i){s(e);let o=r().$implicit;return p(o.columnRestoreManager==null?null:o.columnRestoreManager(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);m("name",e.property),ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-clean",e.clean)("p-columns",e.columns)("p-disabled",t.isDisabled(e))("p-field-label",e.fieldLabel||"label")("p-field-value",e.fieldValue||"value")("p-filter-params",e.params)("p-filter-service",e.searchService)("p-auto-focus",e.focus)("p-auto-height",e.autoHeight)("p-help",e.help)("p-field-format",e.format)("p-infinite-scroll",e.infiniteScroll)("p-label",e.label)("p-literals",e.literals)("p-multiple",e.multiple)("p-no-autocomplete",e.noAutocomplete)("p-optional",e.optional)("p-required",e.required)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)("p-placeholder",e.placeholder)("p-advanced-filters",e.advancedFilters)}}function yp(n,l){if(n&1){let e=b();h(0,"po-checkbox-group",34,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeField(i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);m("name",e.property),ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-columns",e.columns||3)("p-auto-focus",e.focus)("p-disabled",t.isDisabled(e))("p-help",e.help)("p-label",e.label)("p-optional",e.optional)("p-options",e.options)("p-required",e.required)("p-show-required",e.showRequired)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-size",e.size||t.componentsSize)}}function wp(n,l){if(n&1){let e=b();h(0,"po-multiselect",35,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-change",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeField(i))})("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);m("name",e.property),ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-disabled",t.isDisabled(e))("p-auto-focus",e.focus)("p-auto-height",e.autoHeight)("p-help",e.help)("p-label",e.label)("p-literals",e.literals)("p-optional",e.optional)("p-options",e.options)("p-required",e.required)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-show-required",e.showRequired)("p-placeholder",e.placeholder)("p-field-label",e.fieldLabel)("p-field-value",e.fieldValue)("p-filter-service",e.optionsService)("p-filter-mode",e.filterMode)("p-debounce-time",e.debounceTime)("p-sort",e.sort)("p-placeholder-search",e.placeholderSearch)("p-hide-search",e.hideSearch)("p-hide-select-all",e.hideSelectAll)("p-size",e.size||t.componentsSize)("p-listbox-control-position",e.listboxControlPosition)}}function Dp(n,l){if(n&1){let e=b();h(0,"po-textarea",36,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeField(i))})("p-change-model",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeFieldModel(i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);m("name",e.property),ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-disabled",t.isDisabled(e))("p-auto-focus",e.focus)("p-help",e.help)("p-label",e.label)("p-maxlength",e.maxLength)("p-minlength",e.minLength)("p-optional",e.optional)("p-readonly",e.readonly)("p-required",e.required)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-show-required",e.showRequired)("p-rows",e.rows)("p-size",e.size||t.componentsSize)("p-placeholder",e.placeholder)}}function Fp(n,l){if(n&1){let e=b();h(0,"po-password",37,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeField(i))})("p-change-model",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeFieldModel(i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);m("name",e.property),ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-clean",e.clean)("p-disabled",t.isDisabled(e))("p-error-pattern",e.errorMessage)("p-error-limit",e.errorLimit)("p-error-async-properties",e.errorAsyncProperties)("p-auto-focus",e.focus)("p-help",e.help)("p-hide-password-peek",e.hidePasswordPeek)("p-icon",e.icon)("p-label",e.label)("p-maxlength",e.maxLength)("p-minlength",e.minLength)("p-no-autocomplete",e.noAutocomplete)("p-optional",e.optional)("p-pattern",e.pattern)("p-readonly",e.readonly)("p-required",e.required)("p-required-field-error-message",e.requiredFieldErrorMessage)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)("p-placeholder",e.placeholder)}}function Vp(n,l){if(n&1){let e=b();h(0,"po-upload",38,2),ae("ngModelChange",function(i){s(e);let o=r().$implicit,a=r(2);return re(a.value[o.property],i)||(a.value[o.property]=i),p(i)}),f("p-custom-action-click",function(i){s(e);let o=r().$implicit;return p(o.customActionClick(i))})("p-error",function(i){s(e);let o=r().$implicit;return p(o.onError(i))})("p-success",function(i){s(e);let o=r().$implicit;return p(o.onSuccess(i))})("p-upload",function(i){s(e);let o=r().$implicit;return p(o.onUpload(i))})("p-additional-help",function(i){s(e);let o=r().$implicit;return p(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeField(i))})("p-change-model",function(){s(e);let i=r().$implicit,o=r(2);return p(o.onChangeFieldModel(i))})("p-keydown",function(i){s(e);let o=r().$implicit;return p(o.keydown==null?null:o.keydown(i))}),u()}if(n&2){let e=r().$implicit,t=r(2);ne("ngModel",t.value[e.property]),m("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-auto-upload",e.autoUpload)("p-directory",e.directory)("p-disabled",t.isDisabled(e))("p-drag-drop",e.dragDrop)("p-drag-drop-height",e.dragDropHeight)("p-restrictions",e.restrictions)("p-form-field",e.formField)("p-headers",e.headers)("p-help",e.help)("p-hide-restrictions-info",e.hideRestrictionsInfo)("p-hide-select-button",e.hideSelectButton)("p-hide-send-button",e.hideSendButton)("p-multiple",e.multiple)("p-label",e.label)("p-literals",e.literals)("name",e.property)("p-custom-action",e.customAction)("p-optional",e.optional)("p-required",e.required)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)("p-url",e.url)}}function xp(n,l){if(n&1&&y(0,pp,1,1,"po-divider",6)(1,dp,2,26,"po-datepicker",7)(2,cp,2,21,"po-datepicker-range",8)(3,up,2,27,"po-input",9)(4,hp,2,27,"po-number",10)(5,mp,2,29,"po-decimal",11)(6,fp,2,19,"po-select",12)(7,gp,2,17,"po-radio-group",13)(8,_p,2,17,"po-switch",14)(9,Cp,2,10,"po-checkbox",15)(10,bp,2,35,"po-combo",16)(11,vp,2,29,"po-lookup",17)(12,yp,2,17,"po-checkbox-group",18)(13,wp,2,29,"po-multiselect",19)(14,Dp,2,20,"po-textarea",20)(15,Fp,2,26,"po-password",21)(16,Vp,2,26,"po-upload",22),n&2){let e=l.$implicit,t=r(2);C(!(e==null||e.divider==null)&&e.divider.trim()?0:-1),c(),C(t.compareTo(e.control,"datepicker")?1:-1),c(),C(t.compareTo(e.control,"datepickerrange")?2:-1),c(),C(t.compareTo(e.control,"input")?3:-1),c(),C(t.compareTo(e.control,"number")?4:-1),c(),C(t.compareTo(e.control,"decimal")?5:-1),c(),C(t.compareTo(e.control,"select")?6:-1),c(),C(t.compareTo(e.control,"radioGroup")?7:-1),c(),C(t.compareTo(e.control,"switch")?8:-1),c(),C(t.compareTo(e.control,"checkbox")?9:-1),c(),C(t.compareTo(e.control,"combo")?10:-1),c(),C(t.compareTo(e.control,"lookup")?11:-1),c(),C(t.compareTo(e.control,"checkboxGroup")?12:-1),c(),C(t.compareTo(e.control,"multiselect")?13:-1),c(),C(t.compareTo(e.control,"textarea")?14:-1),c(),C(t.compareTo(e.control,"password")?15:-1),c(),C(t.compareTo(e.control,"upload")?16:-1)}}function Sp(n,l){if(n&1&&fe(0,xp,17,17,null,null,Xt().trackBy,!0),n&2){let e=l.$implicit;ge(e)}}function Pp(n,l){if(n&1&&B(0,"po-dynamic-container",39),n&2){let e=l.$implicit;r();let t=K(2);m("p-fields",e)("p-content",t)}}var Zn=(()=>{class n extends Bo{validationService=g(It);changes=g(S);form=g(Ot);components;previousValue={};constructor(){let e=g(ti);super(e)}ngOnChanges(e){e.fields&&(this.visibleFields=this.getVisibleFields(),e.fields.previousValue&&this.hasContainer()&&this.hasChangeContainer(e.fields.previousValue,e.fields.currentValue),(!e.fields.previousValue||!e.fields.currentValue)&&this.setContainerFields()),e.value&&this.updatePreviousValue()}focus(e){let t=this.components.find(i=>i.name===e);t&&t.focus()}isDisabled(e){return e.disabled||this.disabledForm}onChangeField(e,t){return Xe(this,null,function*(){let{property:i}=e,o=e.type==="boolean",a=this.previousValue[i]!==this.value[i];if(e.optionsService&&this.objectValue.emit(t),(this.form.dirty||o)&&a){let{changedField:d,changedFieldIndex:w}=this.getField(i);d.validate&&(yield this.validateField(d,w,e)),this.triggerValidationOnForm(w)}this.updatePreviousValue()})}onChangeFieldModel(e){if(this.validateOnInput){let{property:t}=e,{changedFieldIndex:i}=this.getField(t);this.triggerValidationOnForm(i)}}showAdditionalHelp(e){let t=this.components.find(i=>i.name===e);t&&t.showAdditionalHelp()}updatePreviousValue(){this.previousValue=JSON.parse(JSON.stringify(this.value))}trackBy(e,t){return t.property}applyFieldValidation(e,t){let i=this.fields[e];this.fields[e]=D(D({},i),t.field),this.updateFields(),t.hasOwnProperty("value")&&(this.value[i.property]=t.value),this.changes.detectChanges(),t.focus&&this.focus(i.property)}getField(e){let t=this.fields.findIndex(o=>o.property===e);return{changedField:this.fields[t],changedFieldIndex:t}}triggerValidationOnForm(e){let t=this.validateFields?.length?this.validateFieldsChecker(this.validateFields,this.fields[e].property):!0;if(this.validate&&t&&this.formValidate.observers.length){let o=this.fields[e];this.formValidate.emit(o)}}updateFields(){this.fieldsChange.emit(this.fields),this.visibleFields=this.getVisibleFields(),this.setContainerFields()}validateFieldsChecker(e,t){return e.some(i=>i===t)}validateField(e,t,i){return Xe(this,null,function*(){let o=this.value[e.property],a=i.disabled;i.disabled=!0,this.changes.detectChanges();try{let d=yield this.validationService.sendFieldChange(e,o).toPromise();this.applyFieldValidation(t,d)}catch{i.disabled=a}})}hasChangeContainer(e,t){let i=e.map((U,st)=>({container:U.container||null,property:U.property,index:st,order:U.order,visible:U.visible??!0})),o=t.map((U,st)=>({container:U.container||null,property:U.property,index:st,order:U.order,visible:U.visible??!0})),a=i.filter(U=>U.container),d=o.filter(U=>U.container),w=i.filter(U=>U.order),M=o.filter(U=>U.order),H=i.filter(U=>U.visible===!0),he=o.filter(U=>U.visible===!0),Re=i.filter(U=>!U.visible),Se=o.filter(U=>!U.visible);if(a.length!==d.length){this.setContainerFields();return}if(w.length!==M.length){this.setContainerFields();return}if(H.length!==he.length){this.setContainerFields();return}if(Re.length!==Se.length){this.setContainerFields();return}d.length&&this.handleChangesContainer(a,d,"container"),M.length&&this.handleChangesContainer(w,M,"order"),he.length&&this.handleChangesContainer(H,he,"visible"),Se.length&&this.handleChangesContainer(Re,Se,"visible");let lt=this.diffObjectsArray(e,this.getVisibleFields());this.containerFields=this.updateFieldContainer(lt,this.containerFields)}updateFieldContainer(e,t){let i=new Map(e.map(o=>[o.property,o]));return t.forEach(o=>{o.forEach((a,d)=>{let w=i.get(a.property);w&&(o[d]=D(D({},a),w))})}),t}diffObjectsArray(e,t){let i=[];return t.forEach(o=>{let a=e.find(d=>d.property===o.property);if(!a)i.push(D({},o));else{let d={property:o.property},w=!1;for(let M in o)o[M]!==a[M]&&(d[M]=o[M],w=!0);w&&i.push(d)}}),i}hasContainer(){return this.visibleFields?.some(e=>e.container)??!1}handleChangesContainer(e,t,i){for(let o=0;o<e.length;o++){let a=e[o],d=t[o];if(a[i]===d[i]&&a.index!==d.index){this.setContainerFields();return}if(a[i]!==d[i]&&a.index===d.index){if(i==="order"){this.setContainerFields();return}this.containerFields.forEach(w=>w.forEach(M=>{M.property===d.property&&(M[i]=d[i])}))}if(a[i]!==d[i]&&a.property!==d.property){this.setContainerFields();return}}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-dynamic-form-fields"]],viewQuery:function(t,i){if(t&1&&x(rp,5),t&2){let o;F(o=V())&&(i.components=o)}},standalone:!1,features:[W([It],[{provide:oo,useExisting:Ot}]),L,me],decls:5,vars:1,consts:[["poContent",""],["poContentContainer",""],["component",""],[1,"po-row",3,"po-dynamic"],[1,"po-row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"po-sm-12",3,"p-label"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async","p-auto-focus","p-format","p-help","p-iso-format","p-label","p-locale","p-max-date","p-min-date","p-no-autocomplete","p-optional","p-readonly","p-required","p-required-field-error-message","p-size","p-show-required","p-placeholder"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-auto-focus","p-help","p-label","p-literals","p-max-date","p-min-date","p-no-autocomplete","p-optional","p-readonly","p-required","p-field-error-message","p-error-limit","p-show-required","p-size"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async-properties","p-auto-focus","p-help","p-label","p-mask-format-model","p-mask","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-pattern","p-required","p-required-field-error-message","p-show-required","p-size","p-icon","p-placeholder","p-readonly"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async-properties","p-auto-focus","p-help","p-label","p-min","p-max","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-step","p-readonly","p-required","p-required-field-error-message","p-show-required","p-size","p-icon","p-placeholder"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-error-pattern","p-error-limit","p-error-async-properties","p-disabled","p-decimals-length","p-thousand-maxlength","p-icon","p-auto-focus","p-help","p-label","p-locale","p-min","p-max","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-readonly","p-required","p-required-field-error-message","p-show-required","p-size","p-placeholder"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-field-label","p-field-value","p-disabled","p-help","p-label","p-optional","p-options","p-required","p-field-error-message","p-error-limit","p-show-required","p-size","p-placeholder","p-readonly"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-columns","p-auto-focus","p-disabled","p-help","p-label","p-optional","p-options","p-required","p-field-error-message","p-error-limit","p-show-required","p-size"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-disabled","p-error-limit","p-field-error-message","p-format-model","p-help","p-label","p-label-off","p-label-on","p-label-position","p-hide-label-status","p-invalid-value","p-size"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-auto-focus","p-disabled","p-help","p-label","p-size"],["p-emit-object-value","",3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-auto-focus","p-clean","p-disabled","p-field-label","p-field-value","p-filter-params","p-filter-service","p-help","p-infinite-scroll","p-infinite-scroll-distance","p-label","p-literals","p-options","p-optional","p-sort","p-required","p-field-error-message","p-error-limit","p-show-required","p-icon","p-placeholder","p-filter-minlength","p-filter-mode","p-disabled-init-filter","p-disabled-tab-filter","p-debounce-time","p-change-on-enter","p-remove-initial-filter","p-size","p-listbox-control-position"],["p-field-label","label","p-field-value","value",3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-columns","p-disabled","p-field-label","p-field-value","p-filter-params","p-filter-service","p-auto-focus","p-auto-height","p-help","p-field-format","p-infinite-scroll","p-label","p-literals","p-multiple","p-no-autocomplete","p-optional","p-required","p-field-error-message","p-error-limit","p-show-required","p-size","p-placeholder","p-advanced-filters"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-columns","p-auto-focus","p-disabled","p-help","p-label","p-optional","p-options","p-required","p-show-required","p-field-error-message","p-error-limit","p-size"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-disabled","p-auto-focus","p-auto-height","p-help","p-label","p-literals","p-optional","p-options","p-required","p-field-error-message","p-error-limit","p-show-required","p-placeholder","p-field-label","p-field-value","p-filter-service","p-filter-mode","p-debounce-time","p-sort","p-placeholder-search","p-hide-search","p-hide-select-all","p-size","p-listbox-control-position"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-disabled","p-auto-focus","p-help","p-label","p-maxlength","p-minlength","p-optional","p-readonly","p-required","p-field-error-message","p-error-limit","p-show-required","p-rows","p-size","p-placeholder"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async-properties","p-auto-focus","p-help","p-hide-password-peek","p-icon","p-label","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-pattern","p-readonly","p-required","p-required-field-error-message","p-show-required","p-size","p-placeholder"],[3,"ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-auto-upload","p-directory","p-disabled","p-drag-drop","p-drag-drop-height","p-restrictions","p-form-field","p-headers","p-help","p-hide-restrictions-info","p-hide-select-button","p-hide-send-button","p-multiple","p-label","p-literals","name","p-custom-action","p-optional","p-required","p-show-required","p-size","p-url"],[3,"ngModelChange","p-change","p-additional-help","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async","p-auto-focus","p-format","p-help","p-iso-format","p-label","p-locale","p-max-date","p-min-date","p-no-autocomplete","p-optional","p-readonly","p-required","p-required-field-error-message","p-size","p-show-required","p-placeholder"],[3,"ngModelChange","p-additional-help","p-change","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-auto-focus","p-help","p-label","p-literals","p-max-date","p-min-date","p-no-autocomplete","p-optional","p-readonly","p-required","p-field-error-message","p-error-limit","p-show-required","p-size"],[3,"ngModelChange","p-additional-help","p-change","p-change-model","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async-properties","p-auto-focus","p-help","p-label","p-mask-format-model","p-mask","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-pattern","p-required","p-required-field-error-message","p-show-required","p-size","p-icon","p-placeholder","p-readonly"],[3,"ngModelChange","p-additional-help","p-change","p-change-model","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async-properties","p-auto-focus","p-help","p-label","p-min","p-max","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-step","p-readonly","p-required","p-required-field-error-message","p-show-required","p-size","p-icon","p-placeholder"],[3,"ngModelChange","p-additional-help","p-change","p-change-model","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-error-pattern","p-error-limit","p-error-async-properties","p-disabled","p-decimals-length","p-thousand-maxlength","p-icon","p-auto-focus","p-help","p-label","p-locale","p-min","p-max","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-readonly","p-required","p-required-field-error-message","p-show-required","p-size","p-placeholder"],[3,"ngModelChange","p-additional-help","p-change","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-field-label","p-field-value","p-disabled","p-help","p-label","p-optional","p-options","p-required","p-field-error-message","p-error-limit","p-show-required","p-size","p-placeholder","p-readonly"],[3,"ngModelChange","p-additional-help","p-change","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-columns","p-auto-focus","p-disabled","p-help","p-label","p-optional","p-options","p-required","p-field-error-message","p-error-limit","p-show-required","p-size"],[3,"ngModelChange","p-additional-help","p-change","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-disabled","p-error-limit","p-field-error-message","p-format-model","p-help","p-label","p-label-off","p-label-on","p-label-position","p-hide-label-status","p-invalid-value","p-size"],[3,"ngModelChange","p-additional-help","p-change","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-auto-focus","p-disabled","p-help","p-label","p-size"],["p-emit-object-value","",3,"ngModelChange","p-change","p-keydown","p-additional-help","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-auto-focus","p-clean","p-disabled","p-field-label","p-field-value","p-filter-params","p-filter-service","p-help","p-infinite-scroll","p-infinite-scroll-distance","p-label","p-literals","p-options","p-optional","p-sort","p-required","p-field-error-message","p-error-limit","p-show-required","p-icon","p-placeholder","p-filter-minlength","p-filter-mode","p-disabled-init-filter","p-disabled-tab-filter","p-debounce-time","p-change-on-enter","p-remove-initial-filter","p-size","p-listbox-control-position"],["p-field-label","label","p-field-value","value",3,"ngModelChange","p-change","p-additional-help","p-change-visible-columns","p-keydown","p-restore-column-manager","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-columns","p-disabled","p-field-label","p-field-value","p-filter-params","p-filter-service","p-auto-focus","p-auto-height","p-help","p-field-format","p-infinite-scroll","p-label","p-literals","p-multiple","p-no-autocomplete","p-optional","p-required","p-field-error-message","p-error-limit","p-show-required","p-size","p-placeholder","p-advanced-filters"],[3,"ngModelChange","p-additional-help","p-change","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-columns","p-auto-focus","p-disabled","p-help","p-label","p-optional","p-options","p-required","p-show-required","p-field-error-message","p-error-limit","p-size"],[3,"ngModelChange","p-change","p-additional-help","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-disabled","p-auto-focus","p-auto-height","p-help","p-label","p-literals","p-optional","p-options","p-required","p-field-error-message","p-error-limit","p-show-required","p-placeholder","p-field-label","p-field-value","p-filter-service","p-filter-mode","p-debounce-time","p-sort","p-placeholder-search","p-hide-search","p-hide-select-all","p-size","p-listbox-control-position"],[3,"ngModelChange","p-additional-help","p-change","p-change-model","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-disabled","p-auto-focus","p-help","p-label","p-maxlength","p-minlength","p-optional","p-readonly","p-required","p-field-error-message","p-error-limit","p-show-required","p-rows","p-size","p-placeholder"],[3,"ngModelChange","p-additional-help","p-change","p-change-model","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async-properties","p-auto-focus","p-help","p-hide-password-peek","p-icon","p-label","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-pattern","p-readonly","p-required","p-required-field-error-message","p-show-required","p-size","p-placeholder"],[3,"ngModelChange","p-custom-action-click","p-error","p-success","p-upload","p-additional-help","p-change","p-change-model","p-keydown","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-auto-upload","p-directory","p-disabled","p-drag-drop","p-drag-drop-height","p-restrictions","p-form-field","p-headers","p-help","p-hide-restrictions-info","p-hide-select-button","p-hide-send-button","p-multiple","p-label","p-literals","name","p-custom-action","p-optional","p-required","p-show-required","p-size","p-url"],[3,"p-fields","p-content"]],template:function(t,i){t&1&&y(0,sp,2,6,"div",3)(1,Sp,2,0,"ng-template",null,0,ze)(3,Pp,1,2,"ng-template",null,1,ze),t&2&&C(i.visibleFields&&i.visibleFields.length>0?0:-1)},dependencies:[le,Te,it,ot,po,Lo,Wo,tn,ln,sn,bi,cn,Ut,wi,Sn,Pn,Un,Gn,Bn,So,Oo,Xn],encapsulation:2})}return n})();var Ep=["fieldsComponent"],kp=["dynamicForm"];function Mp(n,l){if(n&1&&B(0,"po-dynamic-form-fields",2,0),n&2){let e=r();m("p-auto-focus",e.autoFocus)("p-components-size",e.componentsSize)("p-fields",e.fields)("p-value",e.value)}}function Ap(n,l){if(n&1){let e=b();h(0,"form",null,1)(2,"po-dynamic-form-fields",3,0),ae("p-fieldsChange",function(i){s(e);let o=r();return re(o.fields,i)||(o.fields=i),p(i)}),f("p-object-value",function(i){s(e);let o=r();return p(o.sendObjectValue(i))})("p-form-validate",function(i){s(e);let o=r();return p(o.validateForm(i))}),u()()}if(n&2){let e=r();c(2),ne("p-fields",e.fields),m("p-auto-focus",e.autoFocus)("p-disabled-form",e.disabledForm)("p-components-size",e.componentsSize)("p-validate",e.validate)("p-validate-fields",e.validateFields)("p-validate-on-input",e.validateOnInput)("p-value",e.value)}}var fC=(()=>{class n extends Io{changes;loadService;validationService;fieldsComponent;disabledForm;displayAdditionalHelp=!1;_form;onLoadSubscription;sendFormSubscription;comboOptionSubject=new gt;set form(e){setTimeout(()=>{this._form=e,this.emitForm()})}get form(){return this._form||{}}constructor(e,t,i){super(),this.changes=e,this.loadService=t,this.validationService=i}ngOnDestroy(){this.removeListeners()}ngOnInit(){this.load&&this.loadDataOnInitialize()}focus(e){this.fieldsComponent.focus(e)}getObjectValue(){return this.comboOptionSubject.asObservable()}sendObjectValue(e){this.comboOptionSubject.next(e)}showAdditionalHelp(e){this.fieldsComponent.showAdditionalHelp(e)}validateForm(e){let t=document.activeElement;this.disableForm(!0);let i=()=>this.disableForm(!1);this.sendFormSubscription=this.validationService.sendFormChange(this.validate,e,this.value).subscribe(this.applyFormValidation(t),i)}applyFormUpdatesOnLoad(e){return t=>{this.updateModelOnLoad(t),this.disableForm(!1),this.setFocusOnFieldByProperty(t.focus,e)}}applyFormValidation(e){return t=>{this.updateModelWithValidation(t),this.disableForm(!1),this.setFocusOnFieldByProperty(t.focus,e)}}disableForm(e){this.disabledForm=e,this.changes.detectChanges()}emitForm(){!this.groupForm&&this.formOutput.observers.length&&this.formOutput.emit(this.form)}loadDataOnInitialize(){let e=document.activeElement;this.disabledForm=!0;let t=()=>this.disabledForm=!1;this.onLoadSubscription=this.loadService.executeLoad(this.load,this.value).subscribe(this.applyFormUpdatesOnLoad(e),t)}removeListeners(){this.onLoadSubscription&&this.onLoadSubscription.unsubscribe(),this.sendFormSubscription&&this.sendFormSubscription.unsubscribe()}setFocusOnFieldByProperty(e,t){e?setTimeout(()=>this.focus(e)):t.focus()}updateModelOnLoad(e){Object.assign(this.value,e.value),this.fields=this.loadService.createAndUpdateFieldsForm(e.fields,this.fields)}updateModelWithValidation(e){Object.assign(this.value,e.value),this.fieldsComponent.updatePreviousValue(),this.fields=this.validationService.updateFieldsForm(e.fields,this.fields)}static \u0275fac=function(t){return new(t||n)(A(S),A(Ro),A(It))};static \u0275cmp=k({type:n,selectors:[["po-dynamic-form"]],viewQuery:function(t,i){if(t&1&&(x(Ep,5),x(kp,5)),t&2){let o;F(o=V())&&(i.fieldsComponent=o.first),F(o=V())&&(i.form=o.first)}},standalone:!1,features:[L],decls:2,vars:1,consts:[["fieldsComponent",""],["dynamicForm","ngForm"],[3,"p-auto-focus","p-components-size","p-fields","p-value"],[3,"p-fieldsChange","p-object-value","p-form-validate","p-fields","p-auto-focus","p-disabled-form","p-components-size","p-validate","p-validate-fields","p-validate-on-input","p-value"]],template:function(t,i){t&1&&y(0,Mp,2,4,"po-dynamic-form-fields",2)(1,Ap,4,8,"form"),t&2&&C(i.groupForm?0:1)},dependencies:[ro,no,Ot,Zn],encapsulation:2})}return n})();export{fC as PoDynamicFormComponent};
