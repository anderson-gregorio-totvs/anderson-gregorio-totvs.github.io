import{a as tt,b as it,c as g,f as ot}from"./chunk-QVVB3P67.js";import{S as _,k as et,n as L}from"./chunk-UYSXMK7S.js";import{$a as X,Aa as K,Ab as Z,Da as f,Db as $,Ea as C,Ia as h,J as D,Ja as p,Ka as l,La as b,N as v,Pa as E,Q as u,Qa as x,R as T,Ra as m,U as A,V as w,Va as P,Wa as O,Xa as z,Y as B,_a as y,a as j,aa as F,ab as k,bb as J,cb as U,j as N,jb as Y,ka as c,ma as V,oa as M,ra as W,ta as Q,u as H,va as q,xa as G}from"./chunk-VPXBL5U4.js";var d=function(e){return e.Inline="inline",e.Alert="alert",e}(d||{});var a=function(e){return e[e.Bottom=0]="Bottom",e[e.Top=1]="Top",e}(a||{});var s=function(e){return e.Error="error",e.Information="information",e.Success="success",e.Warning="warning",e}(s||{});var nt={en:{close:"Close"},es:{close:"Cerrar"},pt:{close:"Fechar"},ru:{close:"\u0431\u043B\u0438\u0437\u043A\u043E"}};var st=(()=>{class e{_isHide;_sizeActions=void 0;action;actionLabel;message;isHide=!1;isHideChange=new G;showClose=!0;set sizeActions(t){this._sizeActions=_(t,g)}get sizeActions(){return this._sizeActions??et(g)}supportMessage;type=s.Information;mode=d.Inline;orientation=a.Bottom;componentRef;position;static \u0275fac=function(i){return new(i||e)};static \u0275dir=Q({type:e,inputs:{action:[0,"p-action","action"],actionLabel:[0,"p-action-label","actionLabel"],message:[0,"p-message","message"],isHide:[2,"p-hide","isHide",L],showClose:[2,"p-show-close","showClose",L],sizeActions:[0,"p-size-actions","sizeActions"],supportMessage:[0,"p-support-message","supportMessage"],type:[0,"p-type","type"],mode:[0,"p-mode","mode"]},outputs:{isHideChange:"p-hide-change"}})}return e})();var lt=["toaster"],mt=["buttonClose"];function ht(e,n){if(e&1&&b(0,"po-icon",4),e&2){let t=m();h("p-icon",t.getIcon())}}function dt(e,n){if(e&1&&b(0,"po-icon",12),e&2){let t=m();y("po-toaster-inline-icon-aa",t.sizeActions==="small"),h("p-icon",t.getIcon())}}function ut(e,n){if(e&1&&(p(0,"div",8),k(1),l()),e&2){let t=m();c(),J(t.supportMessage)}}function ft(e,n){if(e&1){let t=E();p(0,"po-button",13),x("p-click",function(o){A(t);let r=m();return w(r.poToasterAction(o))}),l()}if(e&2){let t=m();h("p-label",t.actionLabel)("p-size",t.sizeActions)}}function Ct(e,n){if(e&1){let t=E();p(0,"div",11),b(1,"div",14),p(2,"po-button",15,1),x("p-click",function(o){A(t);let r=m();return w(r.onButtonClose(o))}),l()()}if(e&2){let t=m();c(2),h("p-size",t.sizeActions)}}var rt=8,at=(()=>{class e extends st{changeDetector=T(Z);renderer=T(M);toaster;buttonClose;alive=!0;language;literals;icon;margin=0;observableOnClose=new N;toasterPosition="po-toaster-bottom";toasterType;constructor(){let t=T(it);super(),this.language=t.getShortLanguage(),this.literals=j({},nt[this.language])}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){setTimeout(()=>{this.renderer.addClass(this.toaster.nativeElement,"po-toaster-visible"),this.isInline()&&this.configToaster(this)})}ngOnChanges(t){t.isHide&&t.isHide.previousValue!==void 0&&(t.isHide.currentValue===!0?this.hide():this.show(),this.changeDetector.detectChanges())}changePosition(t){setTimeout(()=>{this.margin=rt;for(let i=0;i<t;i++)this.margin+=this.returnHeightToaster(i)+rt;this.orientation===a.Top?this.toaster.nativeElement.style.top=this.margin+"px":this.toaster.nativeElement.style.bottom=this.margin+"px"})}close(){this.isAlert()?this.observableOnClose.next(!0):this.hide()}setFadeOut(){this.renderer.removeClass(this.toaster.nativeElement,"po-toaster-visible"),this.renderer.addClass(this.toaster.nativeElement,"po-toaster-invisible")}setFadeIn(){this.renderer.removeClass(this.toaster.nativeElement,"po-toaster-invisible"),this.renderer.addClass(this.toaster.nativeElement,"po-toaster-visible")}configToaster(t){this.type=t.type,this.message=t.message,this.orientation=t.orientation,this.position=t.position,this.action=t.action,this.actionLabel=t.actionLabel,this.componentRef=t.componentRef,this.mode=t.mode,this.sizeActions=t.sizeActions,this.showClose=t.showClose,this.supportMessage=t.supportMessage,this.orientation===a.Top&&(this.toasterPosition="po-toaster-top"),this.mode||(this.mode=d.Inline),(!this.type||!Object.values(s).includes(this.type))&&(this.type=s.Information),this.changePosition(this.position),this.type===s.Error?this.toaster.nativeElement.setAttribute("role","alert"):this.action&&this.actionLabel?this.toaster.nativeElement.setAttribute("role","alertdialog"):this.toaster.nativeElement.setAttribute("role","status"),this.getToasterType(),this.changeDetector.detectChanges(),this.buttonClose?.buttonElement.nativeElement.setAttribute("aria-label",this.literals.close)}hasClose(){return this.isAlert()||this.showClose}isAlert(){return this.mode==="alert"}isInline(){return this.mode==="inline"}getIcon(){return this.icon}show(){this.isHide=!0,this.setFadeIn(),this.renderer.removeAttribute(this.toaster.nativeElement,"hidden")}hide(){this.isHide=!0,this.setFadeOut(),this.renderer.setAttribute(this.toaster.nativeElement,"hidden","true")}getToasterPosition(){return this.toasterPosition}getToasterType(){switch(this.type){case s.Error:{this.toasterType="po-toaster-error",this.icon="ICON_CLOSE";break}case s.Information:{this.toasterType="po-toaster-info",this.icon=this.isAlert()?"ICON_INFO":"ICON_WARNING";break}case s.Success:{this.toasterType="po-toaster-success",this.icon="ICON_OK";break}case s.Warning:{this.toasterType="po-toaster-warning",this.icon=this.isAlert()?"ICON_EXCLAMATION":"ICON_WARNING";break}}return this.toasterType}onButtonClose(t){this.action&&!this.actionLabel?this.poToasterAction(t):this.close(),this.isInline()&&this.isHideChange.emit(this.isHide)}poToasterAction(t){this.action(this)}returnHeightToaster(t){return this.orientation===a.Top?document.querySelectorAll(".po-toaster-top")[t].offsetHeight:document.querySelectorAll(".po-toaster-bottom")[t].offsetHeight}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=W({type:e,selectors:[["po-toaster"]],viewQuery:function(i,o){if(i&1&&(P(lt,5),P(mt,5)),i&2){let r;O(r=z())&&(o.toaster=r.first),O(r=z())&&(o.buttonClose=r.first)}},standalone:!1,features:[q,F],decls:12,vars:16,consts:[["toaster",""],["buttonClose",""],[3,"hidden"],[1,"po-toaster-icon",3,"ngClass"],[3,"p-icon"],[1,"po-toaster-inline-icon",3,"po-toaster-inline-icon-aa","p-icon"],[1,"po-toaster-actions"],[1,"po-toaster-message"],[1,"po-toaster-support-message"],[1,"po-toaster-action"],["p-kind","tertiary",3,"p-label","p-size"],[1,"po-toaster-close"],[1,"po-toaster-inline-icon",3,"p-icon"],["p-kind","tertiary",3,"p-click","p-label","p-size"],[1,"po-toaster-divider"],["p-icon","ICON_CLOSE","p-kind","tertiary",1,"po-toaster-button-close",3,"p-click","p-size"]],template:function(i,o){i&1&&(p(0,"div",2,0)(2,"div",3),f(3,ht,1,1,"po-icon",4),l(),f(4,dt,1,3,"po-icon",5),p(5,"div",6)(6,"div",7),k(7),f(8,ut,2,1,"div",8),l(),p(9,"div",9),f(10,ft,1,2,"po-button",10),l()(),f(11,Ct,4,1,"div",11),l()),i&2&&(X(Y(`
    po-toaster 
    `,o.getToasterType(),` 
    `,o.getToasterPosition(),`
  `)),y("po-toaster-inline",o.isInline()),h("hidden",o.isHide),c(2),h("ngClass",o.isAlert()?"po-toaster-icon-default":"po-toaster-decoration"),c(),C(o.isAlert()?3:-1),c(),C(o.isInline()?4:-1),c(),y("po-toaster-actions-aa",o.sizeActions==="small"),c(2),U(" ",o.message," "),c(),C(o.supportMessage?8:-1),c(2),C(o.action&&o.actionLabel?10:-1),c(),C(o.hasClose()?11:-1))},dependencies:[$,tt,ot],encapsulation:2})}return e})();var I=class{stackTop=[];stackBottom=[];defaultDuration=9e3;success(n){this.createToaster(this.buildToaster(n,s.Success))}warning(n){this.createToaster(this.buildToaster(n,s.Warning))}error(n){this.createToaster(this.buildToaster(n,s.Error))}information(n){this.createToaster(this.buildToaster(n,s.Information))}setDefaultDuration(n){this.defaultDuration=n}buildToaster(n,t){let i=0,o;n.orientation===void 0||n.orientation===a.Bottom?(i=this.stackBottom.length,o=a.Bottom):(i=this.stackTop.length,o=a.Top);let r=_(n.sizeActions,g),S={componentRef:void 0,message:n.message||n,type:t,orientation:o,action:n.action,actionLabel:n.actionLabel,position:i,mode:n.mode||d.Alert,showClose:n.showClose||!0,sizeActions:r,supportMessage:n.supportMessage,duration:n.duration||this.defaultDuration};return n.action&&(S.action=pt=>{n.action(),this.destroyToaster(pt.componentRef)}),S}};var ct=(()=>{class e{componentResolver;applicationRef;injector;constructor(t,i,o){this.componentResolver=t,this.applicationRef=i,this.injector=o}createComponentInApplication(t){let i=this.componentResolver.resolveComponentFactory(t).create(this.injector);this.applicationRef.attachView(i.hostView);let o=i.hostView.rootNodes[0];return document.body.appendChild(o),i}destroyComponentInApplication(t){this.applicationRef.detachView(t.hostView),t.destroy()}static \u0275fac=function(i){return new(i||e)(u(V),u(K),u(B))};static \u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var vt=5,Tt=200,ne=(()=>{class e extends I{poComponentInjector;constructor(t){super(),this.poComponentInjector=t}createToaster(t){let i=this.poComponentInjector.createComponentInApplication(at);t.componentRef=i,i.changeDetectorRef.detectChanges(),i.instance.configToaster(t);let o=t.orientation===a.Top?this.stackTop:this.stackBottom;o.push(i),this.verifyLimitToaster(o),this.observableOnClose(i),t.action&&t.actionLabel||t.type===s.Error||H(t.duration).pipe(D(()=>i.instance.alive)).subscribe(()=>{this.destroyToaster(i)})}destroyToaster(t){let i;t.instance.orientation===a.Top?i=this.stackTop:i=this.stackBottom,t.instance.setFadeOut();let o=i.indexOf(t);i.splice(o,1),setTimeout(()=>{this.poComponentInjector.destroyComponentInApplication(t);for(let r=0;r<i.length;r++)i[r].instance.changePosition(r)},Tt)}observableOnClose(t){t.instance.observableOnClose.subscribe(()=>{this.destroyToaster(t)})}verifyLimitToaster(t){t.length>vt&&this.destroyToaster(t[0])}static \u0275fac=function(i){return new(i||e)(u(ct))};static \u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var bt=function(e){return e[e.startsWith=0]="startsWith",e[e.contains=1]="contains",e[e.endsWith=2]="endsWith",e}(bt||{});export{ct as a,ne as b,bt as c};
